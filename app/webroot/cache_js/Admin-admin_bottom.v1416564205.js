var io="undefined"===typeof module?{}:module.exports;
(function(){var z=this,p="object"===typeof module?module.exports:this.io={};p.version="0.9.16";p.protocol=1;p.transports=[];p.j=[];p.sockets={};p.connect=function(a,b){var c=p.util.parseUri(a),d,j;z&&z.location&&(c.protocol=c.protocol||z.location.protocol.slice(0,-1),c.host=c.host||(z.document?z.document.domain:z.location.hostname),c.port=c.port||z.location.port);d=p.util.uniqueUri(c);var f={host:c.host,secure:"https"==c.protocol,port:c.port||("https"==c.protocol?443:80),query:c.query||""};p.util.merge(f,
b);if(f["force new connection"]||!p.sockets[d])j=new p.Socket(f);!f["force new connection"]&&j&&(p.sockets[d]=j);j=j||p.sockets[d];return j.of(1<c.path.length?c.path:"")};var ga=this,i=("undefined"!=typeof io?io:module.exports).util={},Ja=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ka="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");
i.parseUri=function(a){for(var a=Ja.exec(a||""),b={},c=14;c--;)b[Ka[c]]=a[c]||"";return b};i.uniqueUri=function(a){var b=a.protocol,c=a.host,a=a.port;"document"in ga?(c=c||document.domain,a=a||("https"==b&&"https:"!==document.location.protocol?443:document.location.port)):(c=c||"localhost",!a&&"https"==b&&(a=443));return(b||"http")+"://"+c+":"+(a||80)};i.query=function(a,b){var c=i.chunkQuery(a||""),d=[];i.merge(c,i.chunkQuery(b||""));for(var j in c)c.hasOwnProperty(j)&&d.push(j+"="+c[j]);return d.length?
"?"+d.join("&"):""};i.chunkQuery=function(a){for(var b={},a=a.split("&"),c=0,d=a.length,j;c<d;++c)j=a[c].split("="),j[0]&&(b[j[0]]=j[1]);return b};var va=!1;i.load=function(a){if("document"in ga&&"complete"===document.readyState||va)return a();i.on(ga,"load",a,!1)};i.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)};i.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!i.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&
(!a||i.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new (window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null};"undefined"!=typeof window&&i.load(function(){va=!0});i.defer=function(a){if(!i.ua.webkit||"undefined"!=typeof importScripts)return a();i.load(function(){setTimeout(a,100)})};i.merge=function(a,b,c,d){var d=d||[],c="undefined"==typeof c?2:c,j;for(j in b)b.hasOwnProperty(j)&&0>i.indexOf(d,j)&&("object"!==typeof a[j]||!c?(a[j]=b[j],d.push(b[j])):
i.merge(a[j],b[j],c-1,d));return a};i.mixin=function(a,b){i.merge(a.prototype,b.prototype)};i.inherit=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c};i.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};i.intersect=function(a,b){for(var c=[],d=a.length>b.length?a:b,j=a.length>b.length?b:a,f=0,e=j.length;f<e;f++)~i.indexOf(d,j[f])&&c.push(j[f]);return c};i.indexOf=function(a,b,c){for(var d=a.length,c=0>c?0>c+d?0:c+d:c||0;c<d&&a[c]!==
b;c++);return d<=c?-1:c};i.toArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b};i.ua={};var e=i.ua,n;if(n="undefined"!=typeof XMLHttpRequest)a:{try{var ha=new XMLHttpRequest}catch(Qa){n=!1;break a}n=void 0!=ha.withCredentials}e.hasCORS=n;i.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);i.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent);var W="undefined"!=typeof io?io:module.parent.exports,e=function(){};
("undefined"!=typeof io?io:module.exports).EventEmitter=e;e.prototype.on=function(a,b){this.$events||(this.$events={});this.$events[a]?W.util.isArray(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b;return this};e.prototype.addListener=e.prototype.on;e.prototype.once=function(a,b){function c(){d.removeListener(a,c);b.apply(this,arguments)}var d=this;c.listener=b;this.on(a,c);return this};e.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var c=
this.$events[a];if(W.util.isArray(c)){for(var d=-1,j=0,f=c.length;j<f;j++)if(c[j]===b||c[j].listener&&c[j].listener===b){d=j;break}if(0>d)return this;c.splice(d,1);c.length||delete this.$events[a]}else(c===b||c.listener&&c.listener===b)&&delete this.$events[a]}return this};e.prototype.removeAllListeners=function(a){if(void 0===a)return this.$events={},this;this.$events&&this.$events[a]&&(this.$events[a]=null);return this};e.prototype.listeners=function(a){this.$events||(this.$events={});this.$events[a]||
(this.$events[a]=[]);W.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]);return this.$events[a]};e.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var c=Array.prototype.slice.call(arguments,1);if("function"==typeof b)b.apply(this,c);else if(W.util.isArray(b))for(var b=b.slice(),d=0,j=b.length;d<j;d++)b[d].apply(this,c);else return!1;return!0};(function(a,b){function c(a){return 10>a?"0"+a:a}function d(a){g.lastIndex=0;return g.test(a)?'"'+
a.replace(g,function(a){var b=i[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function j(a,b){var f,e,g,V,i=l,w,r=b[a];r instanceof Date&&(r=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":null);"function"===typeof h&&(r=h.call(b,a,r));switch(typeof r){case "string":return d(r);case "number":return isFinite(r)?String(r):"null";
case "boolean":case "null":return String(r);case "object":if(!r)return"null";l+=k;w=[];if("[object Array]"===Object.prototype.toString.apply(r)){V=r.length;for(f=0;f<V;f+=1)w[f]=j(f,r)||"null";g=0===w.length?"[]":l?"[\n"+l+w.join(",\n"+l)+"\n"+i+"]":"["+w.join(",")+"]";l=i;return g}if(h&&"object"===typeof h){V=h.length;for(f=0;f<V;f+=1)"string"===typeof h[f]&&(e=h[f],(g=j(e,r))&&w.push(d(e)+(l?": ":":")+g))}else for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(g=j(e,r))&&w.push(d(e)+(l?": ":
":")+g);g=0===w.length?"{}":l?"{\n"+l+w.join(",\n"+l)+"\n"+i+"}":"{"+w.join(",")+"}";l=i;return g}}if(b&&b.parse)return a.JSON={parse:b.parse,stringify:b.stringify};var f=a.JSON={},e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,k,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;
f.stringify=function(a,b,c){var d;k=l="";if("number"===typeof c)for(d=0;d<c;d+=1)k+=" ";else"string"===typeof c&&(k=c);if((h=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return j("",{"":a})};f.parse=function(a,b){function c(a,d){var j,f,e=a[d];if(e&&"object"===typeof e)for(j in e)Object.prototype.hasOwnProperty.call(e,j)&&(f=c(e,j),void 0!==f?e[j]=f:delete e[j]);return b.call(a,d,e)}var d,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,
function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);var e="undefined"!=typeof io?io:module.parent.exports,
A=("undefined"!=typeof io?io:module.exports).parser={},wa=A.packets="disconnect connect heartbeat message json event ack error noop".split(" "),xa=A.reasons=["transport not supported","client not handshaken","unauthorized"],ya=A.advice=["reconnect"],L=e.JSON,ia=e.util.indexOf;A.encodePacket=function(a){var b=ia(wa,a.type),c=a.id||"",d=a.endpoint||"",j=a.ack,f=null;switch(a.type){case "error":var e=a.reason?ia(xa,a.reason):"",a=a.advice?ia(ya,a.advice):"";if(""!==e||""!==a)f=e+(""!==a?"+"+a:"");break;
case "message":""!==a.data&&(f=a.data);break;case "event":f={name:a.name};a.args&&a.args.length&&(f.args=a.args);f=L.stringify(f);break;case "json":f=L.stringify(a.data);break;case "connect":a.qs&&(f=a.qs);break;case "ack":f=a.ackId+(a.args&&a.args.length?"+"+L.stringify(a.args):"")}b=[b,c+("data"==j?"+":""),d];null!==f&&void 0!==f&&b.push(f);return b.join(":")};A.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,d=a.length;c<d;c++)b+="\ufffd"+a[c].length+"\ufffd"+a[c];return b};
var La=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;A.decodePacket=function(a){var b=a.match(La);if(!b)return{};var c=b[2]||"",a=b[5]||"",d={type:wa[b[1]],endpoint:b[4]||""};c&&(d.id=c,d.ack=b[3]?"data":!0);switch(d.type){case "error":b=a.split("+");d.reason=xa[b[0]]||"";d.advice=ya[b[1]]||"";break;case "message":d.data=a||"";break;case "event":try{var j=L.parse(a);d.name=j.name;d.args=j.args}catch(f){}d.args=d.args||[];break;case "json":try{d.data=L.parse(a)}catch(e){}break;case "connect":d.qs=
a||"";break;case "ack":if(b=a.match(/^([0-9]+)(\+)?(.*)/))if(d.ackId=b[1],d.args=[],b[3])try{d.args=b[3]?L.parse(b[3]):[]}catch(g){}}return d};A.decodePayload=function(a){if("\ufffd"==a.charAt(0)){for(var b=[],c=1,d="";c<a.length;c++)"\ufffd"==a.charAt(c)?(b.push(A.decodePacket(a.substr(c+1).substr(0,d))),c+=Number(d)+1,d=""):d+=a.charAt(c);return b}return[A.decodePacket(a)]};var R="undefined"!=typeof io?io:module.parent.exports,e=function(a,b){this.socket=a;this.sessid=b};("undefined"!=typeof io?
io:module.exports).Transport=e;R.util.mixin(e,R.EventEmitter);e.prototype.heartbeats=function(){return!0};e.prototype.onData=function(a){this.clearCloseTimeout();(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(""!==a&&(a=R.parser.decodePayload(a))&&a.length)for(var b=0,c=a.length;b<c;b++)this.onPacket(a[b]);return this};e.prototype.onPacket=function(a){this.socket.setHeartbeatTimeout();if("heartbeat"==a.type)return this.onHeartbeat();if("connect"==
a.type&&""==a.endpoint)this.onConnect();"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=!1);this.socket.onPacket(a);return this};e.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}};e.prototype.onDisconnect=function(){this.isOpen&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};e.prototype.onConnect=function(){this.socket.onConnect();return this};e.prototype.clearCloseTimeout=
function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};e.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};e.prototype.packet=function(a){this.send(R.parser.encodePacket(a))};e.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};e.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};e.prototype.onClose=function(){this.isOpen=!1;this.socket.onClose();this.onDisconnect()};
e.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+R.protocol+"/"+this.name+"/"+this.sessid};e.prototype.ready=function(a,b){b.call(this)};var m="undefined"!=typeof io?io:module.parent.exports,S=this,e=function(a){this.options={port:80,secure:!1,document:"document"in S?document:!1,resource:"socket.io",transports:m.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,
"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1};m.util.merge(this.options,a);this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||m.util.ua.hasCORS)){var b=this;m.util.on(S,"beforeunload",function(){b.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()},Ma=function(){};
("undefined"!=typeof io?io:module.exports).Socket=e;m.util.mixin(e,m.EventEmitter);e.prototype.of=function(a){this.namespaces[a]||(this.namespaces[a]=new m.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"}));return this.namespaces[a]};e.prototype.publish=function(){this.emit.apply(this,arguments);var a,b;for(b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))};e.prototype.handshake=function(a){function b(b){b instanceof Error?
(c.connecting=!1,c.onError(b.message)):a.apply(null,b.split(":"))}var c=this,d=this.options,d=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,m.protocol,m.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!m.util.ua.hasCORS){var j=document.getElementsByTagName("script")[0],f=document.createElement("script");f.src=d+"&jsonp="+m.j.length;j.parentNode.insertBefore(f,j);m.j.push(function(a){b(a);f.parentNode.removeChild(f)})}else{var e=m.util.request();e.open("GET",
d,!0);this.isXDomain()&&(e.withCredentials=!0);e.onreadystatechange=function(){if(e.readyState==4){e.onreadystatechange=Ma;if(e.status==200)b(e.responseText);else if(e.status==403)c.onError(e.responseText);else{c.connecting=false;!c.reconnecting&&c.onError(e.responseText)}}};e.send(null)}};e.prototype.getTransport=function(a){for(var a=a||this.transports,b=0,c;c=a[b];b++)if(m.Transport[c]&&m.Transport[c].check(this)&&(!this.isXDomain()||m.Transport[c].xdomainCheck(this)))return new m.Transport[c](this,
this.sessionid);return null};e.prototype.connect=function(a){if(this.connecting)return this;var b=this;b.connecting=!0;this.handshake(function(c,d,j,e){function g(a){b.transport&&b.transport.clearTimeouts();b.transport=b.getTransport(a);if(!b.transport)return b.publish("connect_failed");b.transport.ready(b,function(){b.connecting=!0;b.publish("connecting",b.transport.name);b.transport.open();b.options["connect timeout"]&&(b.connectTimeoutTimer=setTimeout(function(){if(!b.connected&&(b.connecting=
!1,b.options["try multiple transports"])){for(var a=b.transports;0<a.length&&a.splice(0,1)[0]!=b.transport.name;);a.length?g(a):b.publish("connect_failed")}},b.options["connect timeout"]))})}b.sessionid=c;b.closeTimeout=1E3*j;b.heartbeatTimeout=1E3*d;b.transports||(b.transports=b.origTransports=e?m.util.intersect(e.split(","),b.options.transports):b.options.transports);b.setHeartbeatTimeout();g(b.transports);b.once("connect",function(){clearTimeout(b.connectTimeoutTimer);a&&typeof a=="function"&&
a()})});return this};e.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(!this.transport||this.transport.heartbeats()){var a=this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}};e.prototype.packet=function(a){this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a);return this};e.prototype.setBuffer=function(a){this.doBuffer=a;!a&&(this.connected&&this.buffer.length)&&(this.options.manualFlush||
this.flushBuffer())};e.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};e.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this};e.prototype.disconnectSync=function(){var a=m.util.request(),b=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,m.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",
b,!1);a.send(null);this.onDisconnect("booted")};e.prototype.isXDomain=function(){var a=S.location.port||("https:"==S.location.protocol?443:80);return this.options.host!==S.location.hostname||this.options.port!=a};e.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};e.prototype.onOpen=function(){this.open=!0};e.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};e.prototype.onPacket=
function(a){this.of(a.endpoint).onPacket(a)};e.prototype.onError=function(a){if(a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting))this.disconnect(),this.options.reconnect&&this.reconnect();this.publish("error",a&&a.reason?a.reason:a)};e.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.open=this.connecting=this.connected=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&(this.options.reconnect&&
!this.reconnecting)&&this.reconnect())};e.prototype.reconnect=function(){function a(){if(c.connected){for(var a in c.namespaces)c.namespaces.hasOwnProperty(a)&&""!==a&&c.namespaces[a].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer);c.removeListener("connect_failed",b);c.removeListener("connect",b);c.reconnecting=!1;delete c.reconnectionAttempts;delete c.reconnectionDelay;delete c.reconnectionTimer;delete c.redoTransports;c.options["try multiple transports"]=
j}function b(){if(c.reconnecting){if(c.connected)return a();if(c.connecting&&c.reconnecting)return c.reconnectionTimer=setTimeout(b,1E3);c.reconnectionAttempts++>=d?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<e&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),
c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var c=this,d=this.options["max reconnection attempts"],j=this.options["try multiple transports"],e=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(b,this.reconnectionDelay);this.on("connect",b)};var X="undefined"!=typeof io?io:module.parent.exports,e=function(a,b){this.socket=
a;this.name=b||"";this.flags={};this.json=new ja(this,"json");this.ackPackets=0;this.acks={}},ja=function(a,b){this.namespace=a;this.name=b};("undefined"!=typeof io?io:module.exports).SocketNamespace=e;X.util.mixin(e,X.EventEmitter);e.prototype.$emit=X.EventEmitter.prototype.emit;e.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};e.prototype.packet=function(a){a.endpoint=this.name;this.socket.packet(a);this.flags={};return this};e.prototype.send=function(a,b){var c={type:this.flags.json?
"json":"message",data:a};"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b);return this.packet(c)};e.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1));d.args=b;return this.packet(d)};e.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));
return this};e.prototype.onPacket=function(a){function b(){c.packet({type:"ack",args:X.util.toArray(arguments),ackId:a.id})}var c=this;switch(a.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(a.reason||"booted");else this.$emit("disconnect",a.reason);break;case "message":case "json":var d=["message",a.data];"data"==a.ack?d.push(b):a.ack&&this.packet({type:"ack",ackId:a.id});this.$emit.apply(this,d);break;case "event":d=[a.name].concat(a.args);
"data"==a.ack&&d.push(b);this.$emit.apply(this,d);break;case "ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,a.args),delete this.acks[a.ackId]);break;case "error":if(a.advice)this.socket.onError(a);else"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}};ja.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};ja.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,
arguments)};var M="undefined"!=typeof io?io:module.parent.exports,Y=this,e=function(a){M.Transport.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).websocket=e;M.util.inherit(e,M.Transport);e.prototype.name="websocket";e.prototype.open=function(){var a=M.util.query(this.socket.options.query),b=this,c;c||(c=Y.MozWebSocket||Y.WebSocket);this.websocket=new c(this.prepareUrl()+a);this.websocket.onopen=function(){b.onOpen();b.socket.setBuffer(!1)};this.websocket.onmessage=function(a){b.onData(a.data)};
this.websocket.onclose=function(){b.onClose();b.socket.setBuffer(!0)};this.websocket.onerror=function(a){b.onError(a)};return this};e.prototype.send=M.util.ua.iDevice?function(a){var b=this;setTimeout(function(){b.websocket.send(a)},0);return this}:function(a){this.websocket.send(a);return this};e.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this};e.prototype.close=function(){this.websocket.close();return this};e.prototype.onError=function(a){this.socket.onError(a)};
e.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};e.check=function(){return"WebSocket"in Y&&!("__addTask"in WebSocket)||"MozWebSocket"in Y};e.xdomainCheck=function(){return!0};M.transports.push("websocket");var E="undefined"!=typeof io?io:module.parent.exports,t=function(){E.Transport.websocket.apply(this,arguments)};("undefined"!=typeof io?io.Transport:module.exports).flashsocket=t;E.util.inherit(t,E.Transport.websocket);t.prototype.name="flashsocket";t.prototype.open=function(){var a=
this,b=arguments;WebSocket.__addTask(function(){E.Transport.websocket.prototype.open.apply(a,b)});return this};t.prototype.send=function(){var a=this,b=arguments;WebSocket.__addTask(function(){E.Transport.websocket.prototype.send.apply(a,b)});return this};t.prototype.close=function(){WebSocket.__tasks.length=0;E.Transport.websocket.prototype.close.call(this);return this};t.prototype.ready=function(a,b){function c(){var c=a.options,e=c["flash policy port"],g=["http"+(c.secure?"s":"")+":/",c.host+":"+
c.port,c.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];t.loaded||("undefined"===typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=g.join("/")),843!==e&&WebSocket.loadFlashPolicyFile("xmlsocket://"+c.host+":"+e),WebSocket.__initialize(),t.loaded=!0);b.call(d)}var d=this;if(document.body)return c();E.util.load(c)};t.check=function(){return"undefined"==typeof WebSocket||!("__initialize"in WebSocket)||!F?!1:10<=F.getFlashPlayerVersion().major};t.xdomainCheck=
function(){return!0};"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);E.transports.push("flashsocket");if("undefined"!=typeof window){var F,N=function(){if(!J){try{var a=k.getElementsByTagName("body")[0].appendChild(k.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}J=!0;for(var a=Z.length,c=0;c<a;c++)Z[c]()}},za=function(a){J?a():Z[Z.length]=a},e=function(a){if(typeof u.addEventListener!=o)u.addEventListener("load",a,!1);else if(typeof k.addEventListener!=
o)k.addEventListener("load",a,!1);else if(typeof u.attachEvent!=o){var b=u;b.attachEvent("onload",a);O[O.length]=[b,"onload",a]}else if("function"==typeof u.onload){var c=u.onload;u.onload=function(){c();a()}}else u.onload=a},na=function(){var a=G.length;if(0<a)for(var b=0;b<a;b++){var c=G[b].id,d=G[b].callbackFn,e={success:!1,id:c};if(0<g.pv[0]){var f=x(c);if(f)if(aa(G[b].swfVersion)&&!(g.wk&&312>g.wk))K(c,!0),d&&(e.success=!0,e.ref=ka(c),d(e));else if(G[b].expressInstall&&la()){e={};e.data=G[b].expressInstall;
e.width=f.getAttribute("width")||"0";e.height=f.getAttribute("height")||"0";f.getAttribute("class")&&(e.styleclass=f.getAttribute("class"));f.getAttribute("align")&&(e.align=f.getAttribute("align"));for(var k={},f=f.getElementsByTagName("param"),h=f.length,l=0;l<h;l++)"movie"!=f[l].getAttribute("name").toLowerCase()&&(k[f[l].getAttribute("name")]=f[l].getAttribute("value"));ma(e,k,c,d)}else Na(f),d&&d(e)}else if(K(c,!0),d){if((c=ka(c))&&typeof c.SetVariable!=o)e.success=!0,e.ref=c;d(e)}}},ka=function(a){var b=
null;if((a=x(a))&&"OBJECT"==a.nodeName)typeof a.SetVariable!=o?b=a:(a=a.getElementsByTagName(B)[0])&&(b=a);return b},la=function(){return!ba&&aa("6.0.65")&&(g.win||g.mac)&&!(g.wk&&312>g.wk)},ma=function(a,b,c,d){ba=!0;oa=d||null;Aa={success:!1,id:c};var e=x(c);if(e){"OBJECT"==e.nodeName?(T=pa(e),ca=null):(T=e,ca=c);a.id=Ba;if(typeof a.width==o||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if(typeof a.height==o||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";k.title=
k.title.slice(0,47)+" - Flash Player Installation";d=g.ie&&g.win?["Active"].concat("").join("X"):"PlugIn";d="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+k.title;b.flashvars=typeof b.flashvars!=o?b.flashvars+("&"+d):d;g.ie&&(g.win&&4!=e.readyState)&&(d=k.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),e.parentNode.insertBefore(d,e),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,
10)}());qa(a,b,c)}},Na=function(a){if(g.ie&&g.win&&4!=a.readyState){var b=k.createElement("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(pa(a),b);a.style.display="none";(function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(pa(a),a)},pa=function(a){var b=k.createElement("div");if(g.win&&g.ie)b.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(B)[0])if(a=a.childNodes)for(var c=a.length,d=0;d<c;d++)!(1==a[d].nodeType&&
"PARAM"==a[d].nodeName)&&8!=a[d].nodeType&&b.appendChild(a[d].cloneNode(!0));return b},qa=function(a,b,c){var d,e=x(c);if(g.wk&&312>g.wk)return d;if(e)if(typeof a.id==o&&(a.id=c),g.ie&&g.win){var f="",h;for(h in a)a[h]!=Object.prototype[h]&&("data"==h.toLowerCase()?b.movie=a[h]:"styleclass"==h.toLowerCase()?f+=' class="'+a[h]+'"':"classid"!=h.toLowerCase()&&(f+=" "+h+'="'+a[h]+'"'));h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+
f+">"+h+"</object>";da[da.length]=a.id;d=x(a.id)}else{i=k.createElement(B);i.setAttribute("type",ea);for(var l in a)a[l]!=Object.prototype[l]&&("styleclass"==l.toLowerCase()?i.setAttribute("class",a[l]):"classid"!=l.toLowerCase()&&i.setAttribute(l,a[l]));for(f in b)b[f]!=Object.prototype[f]&&"movie"!=f.toLowerCase()&&(a=i,h=f,l=b[f],c=k.createElement("param"),c.setAttribute("name",h),c.setAttribute("value",l),a.appendChild(c));e.parentNode.replaceChild(i,e);d=i}return d},Ca=function(a){var b=x(a);
b&&"OBJECT"==b.nodeName&&(g.ie&&g.win?(b.style.display="none",function(){if(4==b.readyState){var c=x(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},x=function(a){var b=null;try{b=k.getElementById(a)}catch(c){}return b},aa=function(a){var b=g.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&
b[1]==a[1]&&b[2]>=a[2]?!0:!1},Da=function(a,b,c,d){if(!g.ie||!g.mac){var e=k.getElementsByTagName("head")[0];if(e){c=c&&"string"==typeof c?c:"screen";d&&(ra=C=null);if(!C||ra!=c)d=k.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),C=e.appendChild(d),g.ie&&(g.win&&typeof k.styleSheets!=o&&0<k.styleSheets.length)&&(C=k.styleSheets[k.styleSheets.length-1]),ra=c;g.ie&&g.win?C&&typeof C.addRule==B&&C.addRule(a,b):C&&typeof k.createTextNode!=o&&C.appendChild(k.createTextNode(a+
" {"+b+"}"))}}},K=function(a,b){if(Ea){var c=b?"visible":"hidden";J&&x(a)?x(a).style.visibility=c:Da("#"+a,"visibility:"+c)}},Fa=function(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=o?encodeURIComponent(a):a},o="undefined",B="object",ea="application/x-shockwave-flash",Ba="SWFObjectExprInst",u=window,k=document;n=navigator;var Ga=!1,Z=[function(){if(Ga){var a=k.getElementsByTagName("body")[0],b=k.createElement(B);b.setAttribute("type",ea);var c=a.appendChild(b);if(c){var d=0;
(function(){if(typeof c.GetVariable!=o){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),g.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d){d++;setTimeout(arguments.callee,10);return}a.removeChild(b);c=null;na()})()}else na()}else na()}],G=[],da=[],O=[],T,ca,oa,Aa,J=!1,ba=!1,C,ra,Ea=!0,g,ha=typeof k.getElementById!=o&&typeof k.getElementsByTagName!=o&&typeof k.createElement!=o,P=n.userAgent.toLowerCase(),Q=n.platform.toLowerCase(),Oa=Q?/win/.test(Q):/win/.test(P),
Q=Q?/mac/.test(Q):/mac/.test(P),P=/webkit/.test(P)?parseFloat(P.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,sa=!+"\v1",U=[0,0,0],q=null;if(typeof n.plugins!=o&&typeof n.plugins["Shockwave Flash"]==B){if((q=n.plugins["Shockwave Flash"].description)&&!(typeof n.mimeTypes!=o&&n.mimeTypes[ea]&&!n.mimeTypes[ea].enabledPlugin))Ga=!0,sa=!1,q=q.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),U[0]=parseInt(q.replace(/^(.*)\..*$/,"$1"),10),U[1]=parseInt(q.replace(/^.*\.(.*)\s.*$/,"$1"),10),U[2]=/[a-zA-Z]/.test(q)?parseInt(q.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0}else if(typeof u[["Active"].concat("Object").join("X")]!=o)try{var h=new (window[["Active"].concat("Object").join("X")])("ShockwaveFlash.ShockwaveFlash");if(h&&(q=h.GetVariable("$version")))sa=!0,q=q.split(" ")[1].split(","),U=[parseInt(q[0],10),parseInt(q[1],10),parseInt(q[2],10)]}catch(Ra){}g={w3:ha,pv:U,wk:P,ie:sa,win:Oa,mac:Q};g.w3&&((typeof k.readyState!=o&&"complete"==k.readyState||typeof k.readyState==o&&(k.getElementsByTagName("body")[0]||k.body))&&N(),J||(typeof k.addEventListener!=
o&&k.addEventListener("DOMContentLoaded",N,!1),g.ie&&g.win&&(k.attachEvent("onreadystatechange",function(){"complete"==k.readyState&&(k.detachEvent("onreadystatechange",arguments.callee),N())}),u==top&&function(){if(!J){try{k.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}N()}}()),g.wk&&function(){J||(/loaded|complete/.test(k.readyState)?N():setTimeout(arguments.callee,0))}(),e(N)));g.ie&&g.win&&window.attachEvent("onunload",function(){for(var a=O.length,b=0;b<a;b++)O[b][0].detachEvent(O[b][1],
O[b][2]);a=da.length;for(b=0;b<a;b++)Ca(da[b]);for(var c in g)g[c]=null;g=null;for(var d in F)F[d]=null;F=null});F={registerObject:function(a,b,c,d){if(g.w3&&a&&b){var e={};e.id=a;e.swfVersion=b;e.expressInstall=c;e.callbackFn=d;G[G.length]=e;K(a,false)}else d&&d({success:false,id:a})},getObjectById:function(a){if(g.w3)return ka(a)},embedSWF:function(a,b,c,d,e,f,h,i,k,m){var p={success:false,id:b};if(g.w3&&!(g.wk&&g.wk<312)&&a&&b&&c&&d&&e){K(b,false);za(function(){c=c+"";d=d+"";var g={};if(k&&typeof k===
B)for(var n in k)g[n]=k[n];g.data=a;g.width=c;g.height=d;n={};if(i&&typeof i===B)for(var q in i)n[q]=i[q];if(h&&typeof h===B)for(var s in h)n.flashvars=typeof n.flashvars!=o?n.flashvars+("&"+s+"="+h[s]):s+"="+h[s];if(aa(e)){q=qa(g,n,b);g.id==b&&K(b,true);p.success=true;p.ref=q}else{if(f&&la()){g.data=f;ma(g,n,b,m);return}K(b,true)}m&&m(p)})}else m&&m(p)},switchOffAutoHideShow:function(){Ea=false},ua:g,getFlashPlayerVersion:function(){return{major:g.pv[0],minor:g.pv[1],release:g.pv[2]}},hasFlashPlayerVersion:aa,
createSWF:function(a,b,c){if(g.w3)return qa(a,b,c)},showExpressInstall:function(a,b,c,d){g.w3&&la()&&ma(a,b,c,d)},removeSWF:function(a){g.w3&&Ca(a)},createCSS:function(a,b,c,d){g.w3&&Da(a,b,c,d)},addDomLoadEvent:za,addLoadEvent:e,getQueryParamValue:function(a){var b=k.location.search||k.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return Fa(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return Fa(b[c].substring(b[c].indexOf("=")+1))}return""},
expressInstallCallback:function(){if(ba){var a=x(Ba);if(a&&T){a.parentNode.replaceChild(T,a);if(ca){K(ca,true);if(g.ie&&g.win)T.style.display="block"}oa&&oa(Aa)}ba=false}}}}if(!("undefined"==typeof window||window.WebSocket)){var v=window.console;if(!v||!v.log||!v.error)v={log:function(){},error:function(){}};F.hasFlashPlayerVersion("10.0.0")?("file:"==location.protocol&&v.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),
WebSocket=function(a,b,c,d,e){var f=this;f.__id=WebSocket.__nextId++;WebSocket.__instances[f.__id]=f;f.readyState=WebSocket.CONNECTING;f.bufferedAmount=0;f.__events={};b?"string"==typeof b&&(b=[b]):b=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,d||0,e||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";a=WebSocket.__flash.send(this.__id,
encodeURIComponent(a));if(0>a)return!0;this.bufferedAmount+=a;return!1},WebSocket.prototype.close=function(){this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING||(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]);this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],d=c.length-1;0<=d;--d)if(c[d]===
b){c.splice(d,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);(b=this["on"+a.type])&&b(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState);"protocol"in a&&(this.protocol=a.protocol);if("open"==a.type||"error"==a.type)a=this.__createSimpleEvent(a.type);else if("close"==a.type)a=this.__createSimpleEvent("close");else if("message"==a.type)a=decodeURIComponent(a.message),a=this.__createMessageEvent("message",
a);else throw"unknown event type: "+a.type;this.dispatchEvent(a)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");b.initEvent(a,!1,!1);return b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");c.initMessageEvent("message",!1,!1,b,null,null,window,null);return c}return{type:a,
data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash)if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),window.WEB_SOCKET_SWF_LOCATION){var a=document.createElement("div");
a.id="webSocketContainer";a.style.position="absolute";WebSocket.__isFlashLite()?(a.style.left="0px",a.style.top="0px"):(a.style.left="-100px",a.style.top="-100px");var b=document.createElement("div");b.id="webSocketFlash";a.appendChild(b);document.body.appendChild(a);F.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(a){a.success||v.error("[WebSocket] swfobject.embedSWF failed")})}else v.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf")},
WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){setTimeout(function(){try{for(var a=WebSocket.__flash.receiveEvents(),b=0;b<a.length;++b)WebSocket.__instances[a[b].webSocketId].__handleEvent(a[b])}catch(c){v.error(c)}},
0);return!0},WebSocket.__log=function(a){v.log(decodeURIComponent(a))},WebSocket.__error=function(a){v.error(decodeURIComponent(a))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||
(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))):v.error("Flash Player >= 10.0.0 is required.")}var H="undefined"!=typeof io?io:module.parent.exports,fa=this,s=function(a){a&&(H.Transport.apply(this,arguments),this.sendBuffer=[])},Ha=function(){};("undefined"!=typeof io?io.Transport:module.exports).XHR=s;H.util.inherit(s,H.Transport);s.prototype.open=function(){this.socket.setBuffer(!1);
this.onOpen();this.get();this.setCloseTimeout();return this};s.prototype.payload=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(H.parser.encodePacket(a[c]));this.send(H.parser.encodePayload(b))};s.prototype.send=function(a){this.post(a);return this};s.prototype.post=function(a){function b(){if(4==this.readyState)if(this.onreadystatechange=Ha,d.posting=!1,200==this.status)d.socket.setBuffer(!1);else d.onClose()}function c(){this.onload=Ha;d.socket.setBuffer(!1)}var d=this;this.socket.setBuffer(!0);
this.sendXHR=this.request("POST");fa.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=c:this.sendXHR.onreadystatechange=b;this.sendXHR.send(a)};s.prototype.close=function(){this.onClose();return this};s.prototype.request=function(a){var b=H.util.request(this.socket.isXDomain()),c=H.util.query(this.socket.options.query,"t="+ +new Date);b.open(a||"GET",this.prepareUrl()+c,!0);if("POST"==a)try{b.setRequestHeader?b.setRequestHeader("Content-type","text/plain;charset=UTF-8"):
b.contentType="text/plain"}catch(d){}return b};s.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};s.check=function(a,b){try{var c=H.util.request(b),d=fa.XDomainRequest&&c instanceof XDomainRequest,e=a&&a.options&&a.options.secure?"https:":"http:",f=fa.location&&e!=fa.location.protocol;if(c&&(!d||!f))return!0}catch(g){}return!1};s.xdomainCheck=function(a){return s.check(a,!0)};var I="undefined"!=typeof io?io:module.parent.exports,h=function(a){I.Transport.XHR.apply(this,
arguments)};("undefined"!=typeof io?io.Transport:module.exports).htmlfile=h;I.util.inherit(h,I.Transport.XHR);h.prototype.name="htmlfile";h.prototype.get=function(){this.doc=new (window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio";this.doc.body.appendChild(a);this.iframe=this.doc.createElement("iframe");a.appendChild(this.iframe);var b=this,
a=I.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+a;I.util.on(window,"unload",function(){b.destroy()})};h.prototype._=function(a,b){a=a.replace(/\\\//g,"/");this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}};h.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};h.prototype.close=
function(){this.destroy();return I.Transport.XHR.prototype.close.call(this)};h.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{return new (window[["Active"].concat("Object").join("X")])("htmlfile")&&I.Transport.XHR.check(a)}catch(b){}return!1};h.xdomainCheck=function(){return!1};I.transports.push("htmlfile");var D="undefined"!=typeof io?io:module.parent.exports,Pa=this,h=function(){D.Transport.XHR.apply(this,arguments)},ta=function(){};("undefined"!=
typeof io?io.Transport:module.exports)["xhr-polling"]=h;D.util.inherit(h,D.Transport.XHR);D.util.merge(h,D.Transport.XHR);h.prototype.name="xhr-polling";h.prototype.heartbeats=function(){return!1};h.prototype.open=function(){D.Transport.XHR.prototype.open.call(this);return!1};h.prototype.get=function(){function a(){if(4==this.readyState)if(this.onreadystatechange=ta,200==this.status)d.onData(this.responseText),d.get();else d.onClose()}function b(){this.onerror=this.onload=ta;d.retryCounter=1;d.onData(this.responseText);
d.get()}function c(){d.retryCounter++;if(!d.retryCounter||3<d.retryCounter)d.onClose();else d.get()}if(this.isOpen){var d=this;this.xhr=this.request();Pa.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=c):this.xhr.onreadystatechange=a;this.xhr.send(null)}};h.prototype.onClose=function(){D.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=ta;try{this.xhr.abort()}catch(a){}this.xhr=null}};h.prototype.ready=
function(a,b){var c=this;D.util.defer(function(){b.call(c)})};D.transports.push("xhr-polling");var y="undefined"!=typeof io?io:module.parent.exports,ua=this,h=function(a){y.Transport["xhr-polling"].apply(this,arguments);this.index=y.j.length;var b=this;y.j.push(function(a){b._(a)})},Ia=ua.document&&"MozAppearance"in ua.document.documentElement.style;("undefined"!=typeof io?io.Transport:module.exports)["jsonp-polling"]=h;y.util.inherit(h,y.Transport["xhr-polling"]);h.prototype.name="jsonp-polling";
h.prototype.post=function(a){function b(){c();d.socket.setBuffer(!1)}function c(){d.iframe&&d.form.removeChild(d.iframe);try{i=document.createElement('<iframe name="'+d.iframeId+'">')}catch(a){i=document.createElement("iframe"),i.name=d.iframeId}i.id=d.iframeId;d.form.appendChild(i);d.iframe=i}var d=this,e=y.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var f=document.createElement("form"),g=document.createElement("textarea"),h=this.iframeId="socketio_iframe_"+
this.index,i;f.className="socketio";f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.display="none";f.target=h;f.method="POST";f.setAttribute("accept-charset","utf-8");g.name="d";f.appendChild(g);document.body.appendChild(f);this.form=f;this.area=g}this.form.action=this.prepareUrl()+e;c();this.area.value=y.JSON.stringify(a);try{this.form.submit()}catch(k){}this.iframe.attachEvent?i.onreadystatechange=function(){"complete"==d.iframe.readyState&&b()}:this.iframe.onload=b;this.socket.setBuffer(!0)};
h.prototype.get=function(){var a=this,b=document.createElement("script"),c=y.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.prepareUrl()+c;b.onerror=function(){a.onClose()};c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);this.script=b;Ia&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},
100)};h.prototype._=function(a){this.onData(a);this.isOpen&&this.get();return this};h.prototype.ready=function(a,b){var c=this;if(!Ia)return b.call(this);y.util.load(function(){b.call(c)})};h.check=function(){return"document"in ua};h.xdomainCheck=function(){return!0};y.transports.push("jsonp-polling");"function"===typeof define&&define.amd&&define([],function(){return io})})();
$(function(){socket=io.connect(app.socket_url);var z="user_room_"+parseInt(app.loggedInUserId);socket.emit("create",z);socket.on("user_blocked",function(){window.location.href="/admin/users/logout?blocked=true"})});