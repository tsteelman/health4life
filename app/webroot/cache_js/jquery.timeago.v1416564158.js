/*
 MIT License - http://www.opensource.org/licenses/mit-license.php

 For usage and examples, visit:
 http://timeago.yarp.com/

 Copyright (c) 2008-2013, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function g(){var a;a=b(this);a.data("timeago")||(a.data("timeago",{datetime:e.datetime(a)}),b.trim(a.text()));a=a.data("timeago");var c=e.settings;isNaN(a.datetime)||(0==c.cutoff||($appDateTime?$appDateTime:new Date).getTime()-a.datetime.getTime()<c.cutoff)&&b(this).text(f(a.datetime));return this}function f(a){return e.inWords(($appDateTime?$appDateTime:new Date).getTime()-a.getTime())}b.timeago=function(a){return a instanceof
Date?f(a):"string"===typeof a?f(b.timeago.parse(a)):"number"===typeof a?f(new Date(a)):f(b.timeago.datetime(a))};var e=b.timeago;b.extend(b.timeago,{settings:{refreshMillis:6E4,allowFuture:!1,localeTitle:!1,cutoff:6048E5,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",second:"just now",seconds:"%d seconds",minute:"%d minute",minutes:"%d minutes",hour:"%d hour",hours:"%d hours",day:"%d day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",
years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(a){function c(c,e){return(b.isFunction(c)?c(e,a):c).replace(/%d/i,d.numbers&&d.numbers[e]||e)}var d=this.settings.strings,e=d.prefixAgo,f=d.suffixAgo;this.settings.allowFuture&&0>a&&(e=d.prefixFromNow,f=d.suffixFromNow);$diff=Math.abs(a)/1E3;$years=$months=$weeks=0;$days=Math.floor($diff/86400);$diff-=86400*$days;$hours=Math.floor($diff/3600);$diff-=3600*$hours;$minutes=Math.floor($diff/60);$diff-=60*$minutes;$seconds=Math.round($diff);
$accuracy=[];$accuracy.year="day";$accuracy.month="day";$accuracy.week="day";$accuracy.day="day";$accuracy.hour="minute";$accuracy.minute="minute";$accuracy.second="second";$fWord=$accuracy.second;0<$years?$fWord=$accuracy.year:0<Math.abs($months)?$fWord=$accuracy.month:0<Math.abs($weeks)?$fWord=$accuracy.week:0<Math.abs($days)?$fWord=$accuracy.day:0<Math.abs($hours)?$fWord=$accuracy.hour:0<Math.abs($minutes)&&($fWord=$accuracy.minute);$fNum=function(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,a=[].concat(a),
b=[].concat(b),k=Object.prototype.toString.call(b)==="[object Array]",l=Object.prototype.toString.call(c)==="[object Array]",c=[].concat(c);d&&(this.window[d]=0);e=0;for(i=c.length;e<i;e++)if(c[e]!==""){f=0;for(j=a.length;f<j;f++){g=c[e]+"";h=k?b[f]!==void 0?b[f]:"":b[0];c[e]=g.split(a[f]).join(h);d&&c[e]!==g&&(this.window[d]=this.window[d]+(g.length-c[e].length)/a[f].length)}}return l?c:c[0]}("year month week day hour minute second".split(" "),[1,2,3,4,5,6,7],$fWord);relativeDate="";4<=$fNum&&0<
$days&&(words=1===$days?c(d.day,1):c(d.days,$days),relativeDate+=(relativeDate?", ":"")+words);5<=$fNum&&0<$hours&&(words=1===$hours?c(d.hour,1):c(d.hours,$hours),relativeDate+=(relativeDate?", ":"")+words);6<=$fNum&&0<$minutes&&(words=1===$minutes?c(d.minute,1):c(d.minutes,$minutes),relativeDate+=(relativeDate?", ":"")+words);7<=$fNum&&0<$seconds&&(1===$seconds?(words=c(d.second,1),f=null):words=c(d.seconds,$seconds),relativeDate+=(relativeDate?", ":"")+words);var g=d.wordSeparator||"";void 0===
d.wordSeparator&&(g=" ");return b.trim([e,relativeDate,f].join(g))},parse:function(a){a=b.trim(a);a=a.replace(/\.\d+/,"");a=a.replace(/-/,"/").replace(/-/,"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(a)},datetime:function(a){a=b(a).attr("datetime")?b(a).attr("datetime"):b(a).attr("title");return e.parse(a)},isTime:function(a){return"time"===b(a).get(0).tagName.toLowerCase()}});var h={init:function(){var a=b.proxy(g,this);a();var c=e.settings;
0<c.refreshMillis&&setInterval(a,c.refreshMillis)},update:function(a){b(this).data("timeago",{datetime:e.parse(a)});g.apply(this)},updateFromDOM:function(){b(this).data("timeago",{datetime:e.parse(b(this).attr("datetime")?b(this).attr("datetime"):b(this).attr("title"))});g.apply(this)}};b.fn.timeago=function(a,b){var d=a?h[a]:h.init;if(!d)throw Error("Unknown function name '"+a+"' for timeago");this.each(function(){d.call(this,b)});return this};document.createElement("abbr");document.createElement("time")});