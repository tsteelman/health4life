document.addEventListener?document.addEventListener("contextmenu",function(a){a.preventDefault()},!1):document.attachEvent("oncontextmenu",function(){window.event.returnValue=!1});var defaultDateFormat="mm/dd/yy",defaultTimeFormat="g:i A",is_symptom_newscore_active=!1;
$(document).ready(function(){$appDateTime=new Date(app.date_iso);setInterval(function(){$appDateTime=new Date($appDateTime.getTime()+1E3)},1E3);$.ajaxSetup({statusCode:{403:function(){location.reload()}}});if(app.loggedIn){applyChosen();updateNotificationCounts();var a,c=function(){$("#online_friends_list").length&&(a=setInterval(function(){$("#online_friend_search_key").is(":focus")||updateOnlineFriendsList()},1E4),$("#online_friends_list").mouseover(function(){clearInterval(a)}))};c();$("#online_friends_list").mouseout(function(){c()});
$("#profile_friends_online").length&&setInterval(function(){updateProfileOnlineFriendsList()},1E4);$("#online_video_friends_list").length&&setInterval(function(){updateVideoProfileOnlineFriendsList()},1E4);0<$("#healthStatusSelectionModal").length&&$("#healthStatusSelectionModal").hasClass("prompt")&&showHealthStatusSelectionModal();$("#disease_members_online").length&&setInterval(function(){updateDiseaseMemberList()},1E4);$("#disease_friends_online").length&&setInterval(function(){updateDiseaseOnlineFriendsList()},
1E4);$("#community_members_online").length&&setInterval(function(){updateCommunityMembersList()},1E4)}else $(".home_tiles").popover({content:function(){return $($(this).data("target")).html()},html:!0,placement:"auto",container:"body"});applySticky();$("#group-section-alert .close").on("click",function(){$("#group-section-alert .alert-content").html("");$(this).parent().hide()});$("#compose-message-button").on("click",function(){$(".arrowchat_closebox_bottom").click()});$(document).on("input",".complete_location",
function(){""===$(this).val()&&$(this).parent().find(".location_id_hidden").val("");$(".location_id_hidden").each(function(){""===$(this).val()&&$("#add_location").addClass("plus_disabled")})});$(document).on("click",".chat-user",function(){$(this).data("id")&&jqac.arrowchat.chatWith($(this).data("id"))});$(document).on("click",".video-chat-user",function(){$(this).data("id")&&(jqac.arrowchat.chatWith($(this).data("id")),b=$(this).data("id"),$("#arrowchat_video_chat_"+b).click())});$(document).on("input",
".complete_diagnosis",function(){""===$(this).val()&&$(this).parent().find(".disease_id_hidden").val("");$(".disease_id_hidden").each(function(){""===$(this).val()&&$("#add_diagnosis").addClass("plus_disabled")})});$(document).on("input",".complete_symptom",function(){""===$(this).val()&&$(this).parent().find(".symptoms_id_hidden").val("");$(".symptoms_id_hidden").each(function(){""===$(this).val()&&$("#add_symptoms").addClass("plus_disabled")})});$(document).on("input",".complete_treatment",function(){""===
$(this).val()&&$(this).parent().find(".treatment_id_hidden").val("");$(".treatment_id_hidden").each(function(){""===$(this).val()&&$("#add_treatment").addClass("plus_disabled")})});applyHoverEffect();$("#SymptomDate").datepicker();$("#symptomHistoryDatepicker").datepicker({minDate:"-2y",maxDate:getUserNow(),defaultDate:getUserNow(),dateFormat:"yy-mm-dd",onSelect:function(a){is_symptom_newscore_active=!0;myDate=new Date(Date.parse(a));$("#date-selected").html(a);$("#selectedSymptomDate").val(a);symptom_id=
$.trim($("#symptom_id").val());$.ajax({url:"/user/api/getUserSymptomSeverity",data:{id:symptom_id,date:a},type:"POST",dataType:"json",success:function(a){name=id="";$.map(a,function(a){id=a.severityId;name=a.name});""!=name&&($(".condition_"+name).addClass("on"),$(".condition_"+name).find("input").attr("checked",!0));$("#symptom_conditions").modal("show");bootbox.hideAll();is_symptom_newscore_active=!1}})}});$("#header_search").focus(function(){var a,c;switch($("#search_icons").attr("class").replace("search_icons ",
"")){case "all":a=1;c="all";break;case "people_search":a=2;c="people";break;case "event_search":a=3;c="event";break;case "community_search":a=4;c="community";break;case "disease_search":a=5;c="disease";break;case "hash_search":a=6;c="hashtag";break;default:a=1,c="all"}$("#header_search").keypress(function(a){13==a.which&&(a.preventDefault(),a=$("#header_search").val(),""==!a&&window.location.replace("/search?type="+c+"&keyword="+encodeURIComponent(a)))});$(this).autocomplete({appendTo:$(".navbar-fixed-top"),
source:function(c,e){$.ajax({url:"/search/search/getHeaderSearch",dataType:"json",data:{term:c.term,category:a},success:function(a){e($.map(a,function(a){return{style:a.Style,value:a.Name,logoUrl:a.LogoUrl,url:a.Url,disc:a.Disc,type:a.Type}}))}})},open:function(){$(this).data("uiAutocomplete").menu.element.addClass("search_list");$(".search_list li").removeClass("ui-menu-item")}}).data("ui-autocomplete")._renderItem=function(a,c){if("More"==c.value)var d=""==c.url?c.disc:c.disc+'<a class="pull-right more" href="'+
c.url+'">more</a>',e="<li class = 'search_header'></li>";else"empty"!=c.value&&("condition"==c.type||"hashtag"==c.type?d='<div class="media">'+('<div class="media-body"><h6 class="media-heading"><a href="'+c.url+'">'+c.value+"</a></h6> <p>"+c.disc+"</p></div></div>"):(d='<div class="media"><a class="pull-left" href="'+c.url+'"><img height="40"  src="'+c.logoUrl+'"  class = "'+c.style+'">',d+='</a><div class="media-body"><h6 class="media-heading"><a href="'+c.url+'">'+c.value+"</a></h6> <p>"+c.disc+
"</p></div></div>"),e="<li></li>");"empty"==c.value&&(d='<div class="media"><div class="media-body"><h6 class="media-heading">No search results</h6></div></div>',e="<li></li>");return $(e).data("item.autocomplete",c).append(d).appendTo(a)}});$(document).on("focus",".bootstrap-tagsinput input",function(){$(this).parent().addClass("focus")});$(document).on("focusout",".bootstrap-tagsinput input",function(){$(this).parent().removeClass("focus")});$(document).on("focus",".medication_input",function(){$(this).closest(".facelist").addClass("focus")});
$(document).on("focusout",".medication_input",function(){$(this).closest(".facelist").removeClass("focus")});$(document).on("focus","#SendMessageByEmail",function(){$(this).closest(".facelist").addClass("focus")});$(document).on("focusout","#SendMessageByEmail",function(){$(this).closest(".facelist").removeClass("focus")});$(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){if("FullscreenOn"==(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?
"FullscreenOn":"FullscreenOff"))$(".body_loggedin").css({"overflow-y":"auto"}),$("#profile_video_container").removeClass("jwfullscreen")})});
(function(a){a.fn.embedPlayer=function(a,d,e,f){var g="",g=a.match(/watch\?v=([a-zA-Z0-9\-_]+)/),a=a.match(/^http:\/\/(www\.)?vimeo\.com\/(clip\:)?(\d+).*$/),f="true"==f||f?!0:!1;g?(g="http://www.youtube.com/embed/"+g[1]+"?rel=0;autohide=1",g='<iframe style="width: '+d+"; height: "+e+';" src="'+(f?g+"&amp;autoplay=1":g+"&amp;autoplay=0")+'&wmode=opaque" frameborder="0" allowfullscreen ></iframe>'):a?(g="http://player.vimeo.com/video/"+a[3]+"?title=0&byline=0&portrait=0",g='<iframe style="width: '+
d+"; height: "+e+';" src="'+(f?g+"&autoplay=1":g+"&autoplay=0")+'&wmode=opaque"  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'):g="<p>No video url found - vimeo and youtube supported</p>";return g}})(jQuery);var saveHealthStatusRotate;
$(document).on("click",".health_status_box",function(){$(".health_status_box").removeClass("active");$(this).addClass("active");var a=$(this).attr("data-health_status");$("#health_status").val(a);$("#save_health_status_btn").prop("disabled",!1);$("#health_status_comment_container").removeClass("hide")});$(document).on("click",".settings_cancel",function(){window.location.href="/profile"});
$(document).on("click","#save_health_status_btn",function(){saveHealthStatusRotate=Ladda.create(this);$.ajax({url:"/user/dashboard/saveUserHealthStatus",method:"POST",dataType:"json",data:$("#health_status_form").serialize(),beforeSend:function(){saveHealthStatusRotate.start()},success:function(a){1==$("#status_graph_container").length&&load_stock_graph();socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"health_indicators"});emitHealthUpdateToNewsFeeds(a.postId);resetHealthStatusSelectionModal();
$("#healthStatusSelectionModal").modal("hide");null!==a.smileyClass&&changeSmiley(a.smileyClass);0<$("#post_container").length&&location.reload()}})});function emitHealthUpdateToNewsFeeds(a){$.ajax({type:"POST",url:"/post/api/getCurrentUserHealthFollowingRooms",dataType:"json",success:function(c){c.forEach(function(c){socket.emit("new_post",{room:c,postId:a})})}})}$("#healthStatusSelectionModal.prompt").on("hidden.bs.modal",function(){var a=$("#healthStatusSelectionModal .heading h2").text();$("#healthStatusSelectionModal .heading h1").html(a)});
$(document).on("click","#close_health_status_modal",function(){resetHealthStatusSelectionModal()});$(document).on("click",".my_health_add",function(a){a.stopPropagation();showHealthStatusSelectionModal()});function showHealthStatusSelectionModal(){0<$("#healthStatusSelectionModal").length&&($("#save_health_status_btn").prop("disabled",!0),$(".arrowchat_closebox_bottom").click(),$("#healthStatusSelectionModal").modal("show"))}
function resetHealthStatusSelectionModal(){$(".health_status_box").removeClass("active");$("#health_status").val("");$("#health_status_comment").val("");$("#save_health_status_btn").prop("disabled",!0);$("#health_status_comment_container").addClass("hide");void 0!==saveHealthStatusRotate&&null!==saveHealthStatusRotate&&saveHealthStatusRotate.stop()}
function changeSmiley(a){$(".feeling_condition").removeClass("feeling_very_good");$(".feeling_condition").removeClass("feeling_bad");$(".feeling_condition").removeClass("feeling_neutral");$(".feeling_condition").removeClass("feeling_good");$(".feeling_condition").removeClass("feeling_very_bad");$(".feeling_condition").addClass(a);$("#feeling_date_status").html(" Today ")}function applyHoverEffect(){}
function applySticky(){if(0<$("#rhs .sticky").length){var a=1.25*$(".navbar").height();$("#rhs .sticky").sticky({topSpacing:a})}}function applyChosen(){$(".chosen-select").chosen({no_results_text:"Oops, nothing found!"})}var diseaseCache={};
function initDiseaseAutoComplete(a,c){$(a).autocomplete({minLength:c,source:function(a,c){if("undefined"===typeof diseaseJSON){var f=$.trim(a.term),g;f in diseaseCache?(g=getFilteredDiseaseSearchResult(diseaseCache[f]),c(g)):$.ajax({url:"/api/searchDisease",dataType:"json",data:{term:f},success:function(a){diseaseCache[f]=a;g=getFilteredDiseaseSearchResult(a);c(g)}})}else{var h=RegExp("^"+$.ui.autocomplete.escapeRegex(a.term),"i");data=$.grep(diseaseJSON,function(a){if(h.test(a.label))return{label:a.label,
value:a.value,id:a.id}});g=getFilteredDiseaseSearchResult(data);c(g)}},select:function(c,e){if(e.item){var f=e.item.id;$(a).parent().find(".disease_id_hidden").val(f);$("#add_diagnosis").removeClass("plus_disabled");$(".disease_id_hidden").each(function(){""===$(this).val()&&$("#add_diagnosis").addClass("plus_disabled")})}},search:function(c){if(!0===c.ctrlKey)return!1;$(a).parent().find(".disease_id_hidden").val("");$("#add_diagnosis").addClass("plus_disabled")},change:function(){var c=$(a).parent().find(".disease_id_hidden").val();
0<$("#communityWizard").length||0<$("#eventWizard").length?0<c||$(a).val(""):0<=c||$(a).val("")},response:function(c,e){var f=$(a).parent().find(".no_result_msg");0===e.content.length?(f.show(),$(a).parent().find(".disease_id_hidden").val(""),$(a).val("")):f.hide()}})}
function getFilteredDiseaseSearchResult(a){var c=$("input.disease_id_hidden").map(function(){if(""!==this.value)return this.value}).get(),d=$("input.disease_search").map(function(){if(""!==this.value&&""!=$(this).next(".disease_id_hidden").val())return this.value}).get();return $.map(a,function(a){var f=a.id.toString(),g=a.value.toString();if(-1==$.inArray(f,c)||0==f&&-1==$.inArray(g,d))return{label:a.label,value:a.value,id:a.id}})}
$(document).on("keyup",".disease_search",function(a){a=a.which;(46===a||8===a)&&$(this).parent().find(".disease_id_hidden").val("")});
$(document).on("submit","#UserLoginForm",function(){var a=$(this),c=a.attr("action"),a=a.serialize(),d=$(this).find('button[type="submit"]');$.ajax({type:"POST",url:c,data:a,dataType:"json",beforeSend:function(){d.attr("disabled","disabled")},success:function(a){!0===a.success?window.location.href=a.redirectUrl:!0===a.error&&(hideAlerts(),$("#UserPassword").val(""),showLoginAlert("login_flash_error",a.message),d.removeAttr("disabled"))}});return!1});
$(document).on("click","#resend_activation_mail_link",function(){var a=$(this).data("username");$.ajax({type:"POST",url:"/user/register/resendActivationMail",data:{username:a},dataType:"json",beforeSend:function(){hideAlerts();showAlert("login_flash_warning","Resending activation email. Please wait...")},success:function(a){hideAlerts();!0===a.success?showAlert("login_flash_success",a.message):!0===a.error&&showAlert("login_flash_error",a.message)}});return!1});
function hideAlerts(){$(".alert .message").html("");$(".alert").hide()}function showAlert(a,c){$("#"+a+" .message").html(c);$("#"+a).show()}function showLoginAlert(a,c){$("#"+a).length?$("#"+a+" .message").html(c):$(".signup_fields").prepend('<div id="login_flash_error" style="display: none;" class="alert alert-error"><button data-dismiss="alert" class="close" type="button" aria-hidden="true">\u00d7</button><div class="message">Invalid username or password</div></div>');$("#"+a).show()}
function getStateList(a){var c=$(a).attr("data-rel"),c=(new String(c)).split("#");$("."+c[1]).html('<option value="">Loading State/Province...</option>');$("."+c[2]).html('<option value="">Select City</option>');$("."+c[2]).attr("disabled","disabled");$.ajax({url:"/api/getCountryStates/"+$(a).val(),dataType:"json"}).done(function(a){$("."+c[1]).removeAttr("disabled");var e=[];$.each(a,function(a,c){e.push('<option value="'+a+'">'+c+"</option>")});$("."+c[1]).html(e.join(""));$("."+c[1]).prepend("<option value='' selected='selected'>Select State/Province</option>");
$(".chosen-select").trigger("liszt:updated")});handleCountryZipValidation($(a))}
function getCityList(a){var c=$(a).attr("data-rel"),c=c.split("#");$("."+c[2]).empty();$("."+c[2]).html('<option value="">Loading City...</option>');$("."+c[2]).attr("disabled");$.ajax({url:"/api/getStateCities/"+$(a).val(),dataType:"json"}).done(function(a){$("."+c[2]).removeAttr("disabled");var e=[];$.each(a,function(a,c){e.push('<option value="'+a+'">'+c+"</option>")});$("."+c[2]).html(e.join(""));$("."+c[2]).prepend("<option value='' selected='selected'>Select City</option>");$(".chosen-select").trigger("liszt:updated")})}
function handleCountryZipValidation(a){var c=a.attr("data-rel"),c=(new String(c)).split("#"),d=$("."+c[3]),e=$("."+c[2]).val(),c=$("."+c[1]).val(),f=a.val(),g="";$.each(countryZipRegexJSON,function(a,c){if(a===f)return g="^"+c+"$",!1});a=0<d.parent(".form-group").length?d.parent(".form-group").find(".red_star_span"):d.parents(".form-group").find(".red_star_span");""!==g&&null!==g?(a.removeClass("hide"),"233"===f&&""!==e&&""!==c?(d.rules("remove","required regex"),d.rules("add",{required:!0,zipcodeUS:!0,
usZipCode:!0,messages:{required:"Please enter a valid zip.",zipcodeUS:"Invalid US Zipcode format",usZipCode:"Please enter valid US zipcode"}})):(d.rules("remove","zipcodeUS usZipCode"),d.rules("add",{required:!0,regex:g,messages:{required:"Please enter a valid zip.",regex:"Please enter a valid zip."}}))):(a.addClass("hide"),d.rules("remove","zipcodeUS usZipCode required regex"),d.valid())}
function inviteFriends(a,c,d){$("#close_invite_button").attr("disabled","disabled");var e=Ladda.create(document.querySelector("#invite_button"));e.start();var f=document.getElementById("invite_friends").getElementsByTagName("input"),g=0,h="";"1"==d?h="/api/eventInvites":"2"==d&&(h="/api/communityInvites");for(var d=0,m=f.length;d<m;d++)"checkbox"==f[d].type&&g++;users=[];for(d=0;d<g;d++)$("#friend"+d).is(":checked")&&(users.push($("#friend"+d).val()),$("#friend"+d).remove());$.ajax({url:h,type:"POST",
data:{id:a,users:users,invited_by:c},success:function(a){a=JSON.parse(a);$(".select_all_check_box").prop("checked",!1);$("#selected_count").html(0);$("#inviteFriends").modal("hide");showInnerAlert(a.message,a.message_type);$("#invite_button").prop("disabled",!0);e.stop();a=$("#event_id_hidden").val();"undefined"!==typeof a&&updateList(a);$("#close_invite_button").removeAttr("disabled");location.reload()}})}
$(document).on("keyup",".search_widget_txt",function(){search_div=$(this).data("searchbox");"invite_friends"==search_div?searchInList(friendList,this):"friends_list"==search_div?searchInList(friendList,this):"mutual-friends"==search_div?searchInList(mutualFriendsList,this):"invite_patient_friend"==search_div?searchFriendsInList(patientFriends,this):"invite_my_friends"==search_div?searchFriendsInList(myFriendList,this):"invite_team_member"==search_div?searchFriendsInList(friendsToInvite,this):searchInList(membersList,
this)});
function searchInList(a,c){var d="",e="";"string"==typeof c?d=c:(d=$(c).val(),e=$(c).data("searchbox"),e="#"+e+" ");$(e+"#none_found").addClass("hidden");var f=0,g=0;if(!$.isEmptyObject(a.friends.friend)){$.each(a.friends.friend,function(a,c){$(e+" #"+c.friend_id).addClass("hidden");g++});var h=d.toLowerCase();$.each(a.friends.friend,function(a,c){if(c.friend_name.toLowerCase().search(h)!==-1){$(e+"#"+c.friend_id).removeClass("hidden");f++}else f--})}(f==-g||0==g)&&$(e+"#none_found").removeClass("hidden")}
$(document).on("click",".invite_frnds",function(){var a=$(this).attr("id");$("#"+a+" input[type=checkbox]").is(":checked")?($("#"+a+" input[type=checkbox]").prop("checked",!1),$("#"+a).removeClass("active")):($("#"+a+" input[type=checkbox]").prop("checked",!0),$("#"+a).addClass("active"));inviteButtonStatus();handleSelectedBoxCountChange()});
$(document).on("click",".invite_community",function(){var a=$(this).attr("id");$("#"+a+" input[type=checkbox]").is(":checked")?($("#"+a+" input[type=checkbox]").prop("checked",!1),$("#"+a).removeClass("active")):($("#"+a+" input[type=checkbox]").prop("checked",!0),$("#"+a).addClass("active"));inviteCommunityButtonStatus();handleCommunitySelectedBoxCountChange()});
function inviteButtonStatus(){var a=document.getElementById("invite_friends").getElementsByTagName("input"),c=0;if(0!==a.length)for(var d=0,e=a.length;d<e;d++)"checkbox"==a[d].type&&(a[d].checked&&c++,0==c?$("#invite_button").attr("disabled","disabled"):$("#invite_button").prop("disabled",!1));else $("#invite_button").attr("disabled","disabled")}
function inviteCommunityButtonStatus(){var a=document.getElementById("invite_community_friends").getElementsByTagName("input"),c=0;if(0!==a.length)for(var d=0,e=a.length;d<e;d++)"checkbox"==a[d].type&&(a[d].checked&&c++,0==c?$("#invite_button").attr("disabled","disabled"):$("#invite_button").prop("disabled",!1));else $("#invite_button").attr("disabled","disabled")}
function showInnerAlert(a,c){var d=["warning","success","danger"];$.inArray(c,d)&&($.each(d,function(a,c){$("#header-alert").removeClass("alert-"+c)}),$("#header-alert").addClass("alert-"+c),$("#header-alert .alert-content").html(a),$("#header-alert").show(),setTimeout(function(){$("#header-alert").hide()},5E3))}
function showMemberAlert(a,c){var d=["warning","success","danger"];$.inArray(c,d)&&($.each(d,function(a,c){$("#group-section-alert").removeClass("alert-"+c)}),$("#group-section-alert").addClass("alert-"+c),$("#group-section-alert .alert-content").append(a+"<br/>"),$("#group-section-alert").show())}
$("#advance_search").click(function(){$(this).hasClass("advance_search_closed")?($("#advanced_form").slideDown(),$(this).removeClass("advance_search_closed"),$(this).addClass("advance_search_open")):($("#advanced_form").slideUp(),$(this).removeClass("advance_search_open"),$(this).addClass("advance_search_closed"),$("#advanced_flash_error").hide())});
$("#keywords_find").click(function(){$(".event_list #load-more").parent().remove();0==$(".advance_search_header #advanced_flash_error").length&&$(".advance_search_header").prepend('<div class="alert alert-error" style="color: red;" id="advanced_flash_error"><button aria-hidden="true" type="button" class="close" data-dismiss="alert">\u00d7</button><div class="message">Please enter any one keyword</div></div>');$("#advanced_flash_error").hide();var a=getAdvancedSearchData();$.isEmptyObject(a)?($(".event_list #load-more").parent().remove(),
showAlert("advanced_flash_error","Please enter any one keyword"),$("#searchList").html(""),$(".advance_search_header p.pull-left").html(""),$(".event_wraper").addClass("no-border"),window.scrollTo(0,0)):($loadingImg='<img src="/img/loading.gif" /> ',$("#advanced_form").slideUp(),$("#advance_search").removeClass("advance_search_open"),$("#advance_search").addClass("advance_search_closed"),$("#searchList").html($loadingImg),a.ajax=!0,a.type="people",$.ajax({url:"/search/search/index/page:1",data:a,
dataType:"json",success:function(a){$(".event_wraper").removeClass("no-border");1===a.paginator.count?$(".advance_search_header p.pull-left").html(a.paginator.count+" result"):$(".advance_search_header p.pull-left").html(a.paginator.count+" results");$("#searchList").html(a.htm_content);0===$("#searchList .friends_list").length&&$("#searchList").html('<div class="friends_list"><div class="text-center friends_noresult_padding">Sorry, no results containing all your search terms were found.</div></div>');
!0==a.paginator.nextPage&&$("#searchPageList").append('<div id="more_button'+(a.paginator.page+1)+'" class="block"><a href="javascript:load_more_items_advanced('+(a.paginator.page+1)+')" id="load-more" class="btn btn_more pull-right ladda-button more-arrow" data-style="expand-right" data-size="l" data-spinner-color="#3581ED"><span class="ladda-label">More</span></a></div>');window.scrollTo(0,0)}}))});var add_diagnosis_clicked=!1;
$(document).on("click","#add_diagnosis",function(){if(add_diagnosis_clicked)return!1;add_diagnosis_clicked=!0;setTimeout(function(){add_diagnosis_clicked=!1},1E3);if(!$(this).hasClass("plus_disabled")){var a=$("#diagnosis_index").val(),c=parseInt(a)+1;$.ajax({type:"POST",url:"/search/search/getDiagnosisForm",data:{index:c},beforeSend:function(){},success:function(a){$("#advanced_diagnosis_container").append(a);$("#diagnosis_index").val(c);$("#add_diagnosis").addClass("plus_disabled")}})}});
var add_symptoms_clicked=!1;$(document).on("click","#add_symptoms",function(){if(add_symptoms_clicked)return!1;add_symptoms_clicked=!0;setTimeout(function(){add_symptoms_clicked=!1},1E3);if(!$(this).hasClass("plus_disabled")){var a=$("#symptoms_index").val(),c=parseInt(a)+1;$.ajax({type:"POST",url:"/search/search/getSymptomsForm",data:{index:c},beforeSend:function(){},success:function(a){$("#advanced_symptoms_container").append(a);$("#symptoms_index").val(c);$("#add_symptoms").addClass("plus_disabled")}})}});
$("#keyword_male, #keyword_female").change(function(){$("#keyword_male").is(":checked")&&$("#keyword_female").is(":checked")?$("#keyword_gender").val("B"):$("#keyword_male").is(":checked")?$("#keyword_gender").val("M"):$("#keyword_female").is(":checked")?$("#keyword_gender").val("F"):$("#keyword_gender").val("")});
$("#keywords_clear").click(function(){$("#advanced_location_container li.token").remove();$("#advanced_diagnosis_container li.token").remove();$("#advanced_treatment_container li.token").remove();$("#advanced_symptoms_container li.token").remove();$(".advance_search :input").val("");$(".advance_search input:checkbox").each(function(){$(this).is(":checked")&&$(this).attr("checked",!1)})});
$(".event_search .dropdown-menu li a").click(function(){$("#search_icons").removeClass($("#search_icons").attr("class"));$("#search_icons").addClass("search_icons "+$(this).data("classname"));$(".event_search .dropdown-menu li a").removeClass("search_list_active");$(this).addClass("search_list_active")});var el,showOneCard=!1,showCard;
$(document).ready(function(){$(document).hoverIntent({over:function(){if(!1==showOneCard){var c=$(this);$("input, textarea").focusout();$("input, textarea").blur();if(""!=c.data("hovercard")){0<$("textarea#PostQuestion").length&&$("textarea#PostQuestion").blur();var d="/profile/"+encodeURIComponent(c.data("hovercard"))+"/hovercard";$.ajax({url:d,cache:!1,type:"GET",success:function(d){c.attr("data-content",d);c.popover({content:d,template:'<div class="'+c.data("hovercard")+' popover profile_hovercard"><div class="arrow"></div><div class="popover-inner"><div class="popover-content"><p></p></div></div></div>',
html:!0,placement:function(a,c){showOneCard=!0;var d,e,j,n,t,o,q,p,u,i,r;r=function(a){return u<a.top&&q<a.left&&p>a.left+n&&o>a.top+j};d=$(c);i=$.extend({},d.offset(),{width:c.offsetWidth,height:c.offsetHeight});n=100;j=200;u=$(document).scrollTop()+$(".top_header .navbar").height();q=$(document).scrollLeft();p=q+$(".main_container .container").width();o=u+$(window).height()-$(".top_header .navbar").height();e={top:i.top-j,left:i.left+i.width/2-n/2};t={top:i.top+i.height,left:i.left+i.width/2-n/
2};d={top:i.top+i.height/2-j/2,left:i.left-n};i={top:i.top+i.height/2-j/2,left:i.left+i.width};e=r(e);t=r(t);d=r(d);r(i);return e?"top":t?"bottom":d?"left":"right"},container:"body"}).popover("show").on("mouseleave",function(){var c=this;a=setTimeout(function(){0==$(".popover:hover").length&&$(c).popover("destroy")},500);1==$(".popover:hover").length&&clearTimeout(a)}).on("mouseenter",function(){var a=this;$(".popover").on("mouseleave",function(){setTimeout(function(){$(a).popover("hide")},500)})});
$(".popover").each(function(a,d){$(d).hasClass(c.data("hovercard"))||$(d).remove()})}})}showCard=void 0}},out:function(){0==$(".popover:hover").length&&($(".popover").remove(),showOneCard=!1)},selector:"[data-hovercard]",interval:50});var a;$(document).on("mouseleave",".popover",function(){a=setTimeout(function(){$(".profile_hovercard").remove()},300);$(document).on("mouseenter",".profile_hovercard",function(){clearTimeout(a)})});$("body").on("click",function(a){0==$(a.target).closest(".popover").length&&
$(".profile_hovercard").remove();$(".video_modal").modal("hide")});$(window).scroll(function(){clearTimeout(showCard);$(".profile_hovercard").remove()});$(".slimScrollDiv").scroll(function(){clearTimeout(showCard);$(".popover").remove()})});function removeBgColor(){$("#profile_icon_container").css("background-color","#2c589e;")}
function addBgColor(){0<$("#profile_icon_container").children("div.open").length?$("#profile_icon_container").css("background-color","#2c589e;"):$("#profile_icon_container").css("background-color","#1e4687")}var locationCache={};
function initLocationAutoComplete(a,c){$(a).autocomplete({minLength:c,source:function(a,c){if("undefined"===typeof locationJSON){var f=a.term,g;f in locationCache?(g=getFilteredLocationSearchResult(locationCache[f]),c(g)):$.ajax({url:"/api/searchLocation",dataType:"json",data:{term:f},success:function(a){locationCache[f]=a;g=getFilteredLocationSearchResult(a);c(g)}})}else{var h=RegExp("^"+$.ui.autocomplete.escapeRegex(a.term),"i");data=$.grep(locationJSON,function(a){if(h.test(a.label))return{label:a.label,
value:a.value,id:a.id}});g=getFilteredLocationSearchResult(data);c(g)}},select:function(c,e){if(e.item){var f=e.item.id;$(a).parent().find(".location_id_hidden").val(f);$("#add_location").removeClass("plus_disabled");$(".location_id_hidden").each(function(){""===$(this).val()&&$("#add_location").addClass("plus_disabled")})}},search:function(c){if(!0===c.ctrlKey)return!1;$(a).parent().find(".location_id_hidden").val("");$("#add_location").addClass("plus_disabled")},change:function(){0<$(a).parent().find(".location_id_hidden").val()||
$(a).val("")},response:function(c,e){var f=$(a).parent().find(".no_result_msg");0===e.content.length?(f.show(),$(a).parent().find(".location_id_hidden").val(""),$(a).val("")):f.hide()}})}function getFilteredLocationSearchResult(a){var c=$("input.location_id_hidden").map(function(){if(""!==this.value)return this.value}).get();return $.map(a,function(a){if(-1==$.inArray(a.id.toString(),c))return{label:a.label,value:a.value,id:a.id}})}var add_location_clicked=!1;
$(document).on("click","#add_location",function(){if(add_location_clicked)return!1;add_location_clicked=!0;setTimeout(function(){add_location_clicked=!1},1E3);if(!$(this).hasClass("plus_disabled")){var a=$("#location_index").val(),c=parseInt(a)+1;$.ajax({type:"POST",url:"/search/search/getLocationForm",data:{index:c},beforeSend:function(){},success:function(a){$("#advanced_location_container").append(a);$("#location_index").val(c);$("#add_location").addClass("plus_disabled")}})}});
var symptomCache={};
function initSymptomAutoComplete(a,c){$(a).autocomplete({minLength:c,source:function(a,c){if("undefined"===typeof symptomJSON){var f=a.term,g;f in symptomCache?(g=getFilteredSymptomSearchResult(symptomCache[f]),c(g)):$.ajax({url:"/api/searchSymptom",dataType:"json",data:{term:f},success:function(a){symptomCache[f]=a;g=getFilteredSymptomSearchResult(a);c(g)}})}else{var h=RegExp("^"+$.ui.autocomplete.escapeRegex(a.term),"i");data=$.grep(symptomJSON,function(a){if(h.test(a.label))return{label:a.label,value:a.value,
id:a.id}});g=getFilteredSymptomSearchResult(data);c(g)}},select:function(c,e){if(e.item){var f=e.item.id;$(a).parent().find(".symptoms_id_hidden").val(f);$("#add_symptoms").removeClass("plus_disabled");$(".symptoms_id_hidden").each(function(){""===$(this).val()&&$("#add_symptoms").addClass("plus_disabled")})}},search:function(c){if(!0===c.ctrlKey)return!1;$(a).parent().find(".symptoms_id_hidden").val("");$("#add_symptoms").addClass("plus_disabled")},change:function(){0<$(a).parent().find(".symptoms_id_hidden").val()||
$(a).val("")},response:function(c,e){var f=$(a).parent().find(".no_result_msg");0===e.content.length?(f.show(),$(a).parent().find(".symptoms_id_hidden").val(""),$(a).val("")):f.hide()}})}function getFilteredSymptomSearchResult(a){var c=$("input.symptoms_id_hidden").map(function(){if(""!==this.value)return this.value}).get();return $.map(a,function(a){if(-1==$.inArray(a.id.toString(),c))return{label:a.label,value:a.value,id:a.id}})}var symptomAddCache={};
function initSymptomAddAutoComplete(a,c){$(a).autocomplete({minLength:c,source:function(c,e){if("undefined"===typeof symptomJSON){var f=$.trim(c.term),g;$(a).parent().find(".no_result_msg").hide();f in symptomAddCache?(g=getFilteredAddSymptomSearchResult(symptomAddCache[f]),e(g)):($("#symptom_error_message").html(""),$.ajax({url:"/user/api/searchNewSymptom",dataType:"json",data:{term:f},success:function(a){symptomCache[f]=a;g=getFilteredAddSymptomSearchResult(a);e(g)}}))}else{var h=RegExp("^"+$.ui.autocomplete.escapeRegex(c.term),
"i");data=$.grep(symptomJSON,function(a){if(h.test(a.label))return{label:a.label,value:a.value,id:a.id}});g=getFilteredAddSymptomSearchResult(data);e(g)}},open:function(){$(".ui-menu").width(300)},select:function(c,e){if(e.item){var f=e.item.id;$(a).parent().find(".symptoms_id_hidden").val(f);$("#add_symptoms").removeClass("plus_disabled");$(".symptoms_id_hidden").each(function(){""===$(this).val()&&$("#add_symptoms").addClass("plus_disabled")})}},search:function(c){if(!0===c.ctrlKey)return!1;$(a).parent().find(".symptoms_id_hidden").val("");
$("#add_symptoms").addClass("plus_disabled")},change:function(){$(a).parent().find(".symptoms_id_hidden").val()||$(a).val("")},response:function(c,e){var f=$(a).parent().find(".no_result_msg");0===e.content.length?(f.show(),$(a).parent().find(".symptoms_id_hidden").val("")):f.hide()}})}
function getFilteredAddSymptomSearchResult(a){var c=$("input.symptoms_id_hidden").map(function(){if(""!==this.value)return this.value}).get();return $.map(a,function(a){if(-1==$.inArray(a.id.toString(),c))return{label:a.label,value:a.value,id:a.id}})}function getFilteredLocationSearchResult(a){var c=$("input.location_id_hidden").map(function(){if(""!==this.value)return this.value}).get();return $.map(a,function(a){if(-1==$.inArray(a.id.toString(),c))return{label:a.label,value:a.value,id:a.id}})}
var add_treatment_clicked=!1;$(document).on("click","#add_treatment",function(){if(add_treatment_clicked)return!1;add_treatment_clicked=!0;setTimeout(function(){add_treatment_clicked=!1},1E3);if(!$(this).hasClass("plus_disabled")){var a=$("#treatment_index").val(),c=parseInt(a)+1;$.ajax({type:"POST",url:"/search/search/getTreatmentForm",data:{index:c},beforeSend:function(){},success:function(a){$("#advanced_treatment_container").append(a);$("#treatment_index").val(c);$("#add_treatment").addClass("plus_disabled")}})}});
var treatmentCache={};
function initTreatmentAutoComplete(a,c){$(a).autocomplete({minLength:c,source:function(a,c){if("undefined"===typeof treatmentJSON){var f=a.term,g;f in treatmentCache?(g=getFilteredTreatmentSearchResult(treatmentCache[f]),c(g)):$.ajax({url:"/api/searchTreatment",dataType:"json",data:{term:f},success:function(a){treatmentCache[f]=a;g=getFilteredTreatmentSearchResult(a);c(g)}})}else{var h=RegExp("^"+$.ui.autocomplete.escapeRegex(a.term),"i");data=$.grep(treatmentJSON,function(a){if(h.test(a.label))return{label:a.label,value:a.value,
id:a.id}});g=getFilteredTreatmentSearchResult(data);c(g)}},select:function(c,e){if(e.item){var f=e.item.id;$(a).parent().find(".treatment_id_hidden").val(f);$("#add_treatment").removeClass("plus_disabled");$(".treatment_id_hidden").each(function(){""===$(this).val()&&$("#add_treatment").addClass("plus_disabled")})}},search:function(c){if(!0===c.ctrlKey)return!1;$(a).parent().find(".treatment_id_hidden").val("");$("#add_treatment").addClass("plus_disabled")},change:function(){0<$(a).parent().find(".treatment_id_hidden").val()||
$(a).val("")},response:function(c,e){var f=$(a).parent().find(".no_result_msg");0===e.content.length?(f.show(),$(a).parent().find(".treatment_id_hidden").val(""),$(a).val("")):f.hide()}})}function getFilteredTreatmentSearchResult(a){var c=$("input.treatment_id_hidden").map(function(){if(""!==this.value)return this.value}).get();return $.map(a,function(a){if(-1==$.inArray(a.id.toString(),c))return{label:a.label,value:a.value,id:a.id}})}
$(document).on("click","#frineds_notification_icon",function(){getFriendNotificationUpdates();loadPeopleMayKnowNotificationsAjax()});$(document).on("click","#message_notification_icon",function(){getMessageNotificationUpdates()});var totalNotificationCount=0;
$(document).on("click","#alarm_notification_icon",function(){var a=$("#unread_notification_count"),c=a.html(),c=""===c||null===c?0:parseInt(c);a.html("").removeClass("visible").addClass("hidden");var d=0<totalNotificationCount?!0:!1;if(!1===d||0<c)totalNotificationCount+=c,!0===d&&$("ul#notification_list_container ul.notification_scroll").prepend('<li id="notification_loader_item"><center><img class="notification_loader" width="30" height="30" src="/img/loader.gif" alt="Loading..."></center></li>'),
$.ajax({data:{limit:c,append:d},url:"/notification/notification/getNotifications",type:"POST",dataType:"json",success:function(a){clearNotificationCount("unread_notification_count");$("#notification_loader_item").remove();!0===d?$("ul#notification_list_container ul.notification_scroll").prepend(a.html_content):$("#notification_container ul#notification_list_container").html(a.html_content);applySlimScrollToNotification();$("#notification_container ul").addClass("open")}});a=$("#notification_list_container a.more");
0<totalNotificationCount?a.removeClass("hidden"):a.addClass("hidden")});function clearNotificationCount(a){socket.emit("notify_user",{user_id:app.loggedInUserId,notification_name:a,notification_count:0})}
function applySlimScrollToNotification(){4<$(".notification_scroll li").length?($(".notification_scroll").slimScroll({color:"#BBDAEC",railColor:"#EBF5F7",size:"12px",height:"310px",railVisible:!0}),$(".notification_scroll").parent().css({"margin-top":"-20px"})):$("#notification_container ul ul").css({"margin-top":"-20px"})}
$(document).on("click","#notification_list_container .notfctn_item",function(){if(""!==$(this).attr("data-href")){var a=$(this).attr("data-href");if($(this).hasClass("disabled")||$(this).hasClass("popup")){if($(this).hasClass("unread")){var c=$(this);$.post(a,function(){c.removeClass("unread").addClass("read");var a=$("#unread_notification_count");if(0<a.length){var e=parseInt(a.html()),e=e-1;0<e?a.html(e):a.removeClass("visible").addClass("hidden")}})}}else window.location.href=a}0<$(this).find("form.additional_info_frm").length&&
(a=$(this).find("form.additional_info_frm"),"medication_reminder"===a.find(".activity_type").val()&&($(".notifications_container").removeClass("open"),showMedicationNotificationInfoPopUp(a)))});
function showMedicationNotificationInfoPopUp(a){$modal=$("#medication_info_dialog");$.each(["name","dose","form","amount","route"],function(c,d){$field=a.find('input[name="'+d+'"]');$modalFieldRow=$modal.find("tr."+d);$modalField=$modalFieldRow.find("td.value");if(0<$field.length){var e=$field.val();$modalField.html(e);$modalFieldRow.show()}else $modalField.html(""),$modalFieldRow.hide()});$modal.modal("show")}
$(document).on("click","#message_notification_container li.message_ntfcn_content",function(){var a=$(this).children("#other_user_id_hidden").val();window.location.href="/message/details/index/"+a});
function loadFriendRequestsNotificationsAjax(a){var c=null;$.ajax({url:"/notification/notification/getFriendRequestsNotifications",type:"POST",dataType:"json",success:function(d){c=d.notification_counts;$("#frineds_notification_container ul .friends_notification_loader").hide();$("#frineds_notification_container ul#frineds_notification_list_container li.pending_rquests_notification, .pending_rquests_notification_header").remove();$("#frineds_notification_container ul#frineds_notification_list_container").prepend(d.html_content);
$("#frineds_notification_container ul").addClass("open");a(c)}})}
function loadMessageNotificationAjax(a){var c=null;$.ajax({url:"/notification/notification/getMessageNotifications",type:"POST",dataType:"json",success:function(d){c=d.notification_counts;$("#message_notification_container ul .message_notification_loader").hide();$("#message_notification_container ul#message_notification_list_container").html(d.html_content);applySlimScrollToMessageNotification();$("#message_notification_container ul").addClass("open");a(c)}})}
function loadPeopleMayKnowNotificationsAjax(){$.ajax({url:"/notification/notification/getPeopleMayKnowNotifications",type:"POST",dataType:"json",success:function(a){$("#frineds_notification_container ul#frineds_notification_list_container li.people_mayknow_notification, .people_mayknow_notification_header").remove();$("#frineds_notification_container ul#frineds_notification_list_container").append(a.html_content);$("#frineds_notification_container ul").addClass("open")}})}
$(document).on("click",".dropdown-menu",function(a){$(this).hasClass("keep_open")&&a.stopPropagation()});function getMessageNotificationUpdates(){loadMessageNotificationAjax(function(a){var c=$("#unread_message_count");c.html(a);0<a?c.removeClass("hidden").addClass("visible"):c.removeClass("visible").addClass("hidden")})}
function getFriendNotificationUpdates(){loadFriendRequestsNotificationsAjax(function(a){var c=$("#pending_friend_requests_count");c.html(a);0<a?c.removeClass("hidden").addClass("visible"):c.removeClass("visible").addClass("hidden")})}function updateAllNotificationCounts(a){$.each(a.data,function(a,d){updateNotificationCount(d)})}
function updateNotificationCount(a){var c=$("#"+a.notification_name);0<c.length&&parseInt(c.html())!=a.notification_count&&(c.html(a.notification_count),updateNotificationsMouseHoverTitle(a),0<a.notification_count?(c.removeClass("hidden").addClass("visible"),c.closest(".notifications_container").find("ul").hasClass("open")&&updateAllNotificationsLilst(a.notification_name)):(c.closest("ul").removeClass("open"),c.removeClass("visible").addClass("hidden")))}
function updateAllNotificationsLilst(a){if(null!=a)switch(a){case "pending_friend_requests_count":getFriendNotificationUpdates()}}
function updateNotificationsMouseHoverTitle(a){if(null!==a.notification_name)switch(a.notification_name){case "unread_message_count":0<a.notification_count?$(".message_icon_dashboard").attr("title","Messages"):$(".message_icon_dashboard").attr("title","No new messages");break;case "unread_notification_count":0<a.notification_count?$("#alarm_notification_icon").attr("title","Reminders"):$("#alarm_notification_icon").attr("title","No active reminders")}}
function updateFriendNotificationListRow(a){var c=null,d=null;$("#frineds_notification_list_container ."+a+" :disabled").each(function(){d=$("#frineds_notification_list_container ."+a+":hidden");0<d.length?(c=d.first(),c.removeClass("hidden"),$(this).closest("li").replaceWith(c)):loadPeopleMayKnowNotificationsAjax()})}
function applySlimScrollToMessageNotification(){4<$(".message_notification_scroll li").length?($(".message_notification_scroll").slimScroll({color:"#BBDAEC",railColor:"#EBF5F7",size:"12px",height:"auto",railVisible:!0}),$(".message_notification_scroll").parent().css({"margin-top":"-20px"})):$("#message_notification_container ul ul").css({"margin-top":"-20px"})}
function updateNotificationCounts(){$.ajax({url:"/notification/notification/getNotificationCounts",type:"POST",dataType:"json",success:function(a){updateAllNotificationCounts(a)}})}function getVimeoEmbedCode(a,c,d){a='<iframe src="https://player.vimeo.com/video/%VIDEO_ID%?autoplay=1" width="%WIDTH%" height="%HEIGHT%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'.replace("%VIDEO_ID%",a);a=a.replace("%WIDTH%",c);return a=a.replace("%HEIGHT%",d)}
function playNotificationMusic(){var a=document.getElementById("notification_audio"),c=document.getElementById("notification_audio_ie8");Modernizr.audio?a.play():c.controls.play()}$(document).on("click",".home_video_container [data-video]",function(){showVideoPopup(this)});
$(document).on("click",".profile_video",function(){if($("#profile_video_container").length){$("#profile_video_container_wrapper").show();$(this).addClass("hide");$(".profile_tile .profile_cover_gear").addClass("hide");if(9==isIE()||isIE11())$("#profile_video_container_wrapper").show(),jwplayer("profile_video_container").seek(0);$("#profile_video_container_wrapper").css("z-index",999);$("#profile_video_minimize_icon").removeClass("hide");jwplayer("profile_video_container").play()}});
function hideCoverVideo(){$("#profile_video_container").length&&(9==isIE()||isIE11()?("PAUSED"!==jwplayer("profile_video_container").getState()&&jwplayer("profile_video_container").pause(),$("#profile_video_container_wrapper").hide()):(jwplayer("profile_video_container").stop(),setTimeout(function(){"IDLE"!==jwplayer("profile_video_container").getState()&&jwplayer("profile_video_container").stop()},100)),$("#profile_video_container_wrapper").hide(),$("#profile_video_container_wrapper").css("z-index",
-1),$("#profile_video_minimize_icon").addClass("hide"),$(".profile_video").removeClass("hide"),$(".dashboard_video_play").removeClass("hide"),$(".profile_tile .profile_cover_gear").removeClass("hide"))}$(document).on("click","#profile_video_minimize_icon",function(){hideCoverVideo()});
function showVideoPopup(a){var c=$(window).height(),c=c-20*c/100+"px",d=$(a).attr("data-video");d&&(a=$(a).embedPlayer(d,"100%",c,!0),bootbox.dialog({message:a,closeButton:!0,backdrop:!0,onEscape:function(){},animate:!1,className:"video_modal"}))}
function updateOnlineFriendsList(){$.ajax({url:"/user/dashboard/getOnlineFriendsHTML",success:function(a){$("#online_friends_list").length&&$("#online_friends_list").html(a)}});$.ajax({url:"/user/dashboard/getOnlineFriendsJSON",dataType:"json",success:function(a){"undefined"!==typeof my_friends_json&&(my_friends_json=a)}})}
function updateProfileOnlineFriendsList(){$.ajax({url:"/user/profile/getOnlineFriendsHTML",success:function(a){var c=$("#profile_friends_online .details_container");c.length&&(c.html(a),400<c.height()&&!c.parent().hasClass("slimScrollDiv")&&applySlimScroll(c,"450px"))}});$.ajax({url:"/user/profile/getOnlineUserCountAjax",success:function(a){$("#profile_friends_online").length&&$("#profile_friends_online h4").html("Online Friends ("+a+")")}})}
function updateDiseaseOnlineFriendsList(){$.ajax({url:"/user/profile/getOnlineFriendsHTML",success:function(a){var c=$("#disease_friends_online .details_container");c.length&&(c.html(a),400<c.height()&&!c.parent().hasClass("slimScrollDiv")&&applySlimScroll(c,"450px"))}});$.ajax({url:"/user/profile/getOnlineUserCountAjax",success:function(a){$("#disease_friends_online").length&&$("#disease_friends_online h4").html("Online Friends ("+a+")")}})}
function updateVideoProfileOnlineFriendsList(){$.ajax({url:"/user/profile/getOnlineVideoFriendsHTML",success:function(a){$("#online_video_friends_list").length&&$("#online_video_friends_list").html(a)}})}
function updateDiseaseMemberList(){var a=$("#disease_members_online").data("disease-id");$.ajax({url:"/disease/diseases/getDiseaseMembersHTML",data:{diseaseId:a},dataType:"html",type:"POST",success:function(a){var d=$("#disease_members_online .details_container");d.length&&(d.html(a),400<d.height()&&!d.parent().hasClass("slimScrollDiv")&&applySlimScroll(d,"450px"));return!0}});$.ajax({url:"/disease/diseases/getDiseaseMembersCountAjax",data:{diseaseId:a},dataType:"html",type:"POST",success:function(a){$("#disease_members_online").length&&
$("#disease_members_online h4").html("Online Members ("+a+")")}})}
function updateCommunityMembersList(){var a=$("#community_members_online").data("community-id");$.ajax({url:"/community/details/getCommunityMembersHTML",data:{communityId:a},dataType:"html",type:"POST",success:function(a){var d=$("#community_members_online .details_container");d.length&&(d.html(a),400<d.height()&&!d.parent().hasClass("slimScrollDiv")&&applySlimScroll(d,"450px"));return!0}});$.ajax({url:"/community/details/getCommunityMembersCountAjax",data:{communityId:a},dataType:"html",type:"POST",
success:function(a){$("#community_members_online").length&&$("#community_members_online h4").html("Online Members ("+a+")")}})}function applySlimScroll(a,c){return a.length?(a.slimScroll({color:"#e2e2e2",railColor:"#f1f1f1",size:"8px",height:c,distance:"6px",disableFadeOut:!1,railVisible:!0}),!0):!1}
$(document).ready(function(){8<$("#online_friends_list .friends_list_dashboard").length&&$("#online_friends_list").slimScroll({color:"rgba(225, 225, 225, 0.2)",size:"8px",height:"432px",distance:"6px",disableFadeOut:!1});$(".my_condition_tile").length&&$(".my_condition_tile").slimScroll({color:"rgba(225, 225, 225, 0.2)",size:"8px",height:"214px",distance:"6px",disableFadeOut:!1});$("#disease_members_online .details_container").length&&$("#disease_members_online .details_container");$("#disease_friends_online .details_container").length&&
$("#disease_friends_online .details_container");$("#profile_friends_online .details_container").length&&$("#profile_friends_online .details_container");$(".favorite_icon").parents(".disease").length||$(".favorite_icon").attr("title","");$(".report_abuse").parents(".disease").length&&$(".report_abuse").attr("title","Report Abuse")});
function getTimeZoneData(){var a=new Date,c=new Date(a.getFullYear(),0,1),d=new Date(a.getFullYear(),6,1),c=a.getTimezoneOffset()<Math.max(c.getTimezoneOffset(),d.getTimezoneOffset());return{offset:-a.getTimezoneOffset()/60,dst:+c}}function getSymGraphTiles(){$.ajax({url:"/user/mysymptom/getGraphBlock",cache:!1,type:"POST",success:function(a){$("#symptom_tiles").html(a);renderWeeklyGraphs()}})}
function renderWeeklyGraphs(){var a=$(".mysymptoms .symptom_graph_rep .graph_div div.symptom_graph"),c=$.trim($("#symptomUserId").val()),d=app.show_site_notfications;$.each(a,function(e,f){var g=$(f).attr("id");a.length-1==e&&(app.show_site_notfications=d);getSymptomWeeklySeverityGraph(g,c)})}function getSymLists(a){$.ajax({url:"/user/mysymptom/getSymptomList",cache:!1,type:"POST",data:{symptom_date:a},success:function(a){$("#symptom_user_list").html(a)}})}
function getHealthWidget(){$.ajax({url:"/user/myhealth/getDailyHealthWidget",cache:!1,type:"POST",success:function(a){$("#health_indicator").html(a);renderGaugeChart()}})}$(document).on("mouseover","#my_library_container .posting_area",function(){$(this).find(".remove_from_favorite_btn").removeClass("hide")});$(document).on("mouseout","#my_library_container .posting_area",function(){$(this).find(".remove_from_favorite_btn").addClass("hide")});
$(document).on("click",".remove_from_favorite_btn",function(){var a=this,c=$(this).data("post_id");bootbox.confirm("Are you sure you want to remove this post from Library?",function(d){d&&(addToFavoritePost(c,0),$(a).closest(".posting_area").hide())})});
$(document).on("click",".not_favorite",function(){var a=$(this).data("post_id");$(this).removeClass("not_favorite").addClass("favorite");$(this).parents(".disease").length&&$(this).attr("title","Remove from my library.");$(this).children("span").html("Remove from my library");addToFavoritePost(a,1)});
$(document).on("click",".favorite",function(){var a=$(this).data("post_id");$(this).removeClass("favorite").addClass("not_favorite");$(this).parents(".disease").length&&$(this).attr("title","Add to my library.");$(this).children("span").html("Add to my library");addToFavoritePost(a,0)});
$(document).on("click","#symptom_submit_button",function(){symptom_id=$.trim($("#symptoms_id_hidden").val());severity=0;$("#symptom_error_message").html("");0<$("input[name=symptomHistoryRadio]:radio:checked").length&&(severity=$("input[name=symptomHistoryRadio]:radio:checked").val());rotate=Ladda.create(this);null!=rotate&&rotate.start();if(!$.isNumeric(symptom_id))return $("#symptom_error_message").text("Please enter valid symptom.").show(),rotate.stop(),!1;0==symptom_id?(new_symptom=$.trim($("#symptom-search").val()),
$("#symptom_submit_button").attr("disabled","disabled"),$.ajax({type:"POST",url:"/user/api/addNewUserSymptom",data:{new_symptom:new_symptom,severity:severity},dataType:"json",beforeSend:function(){},success:function(a){rotate.stop();!0==a.status?(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"}),0<$("#symptomTilePage").length?getSymGraphTiles():0<$("#symptomListPage").length?(symptom_date=$.trim($("#symptomDatepicker").val()),getSymLists(symptom_date)):getHealthWidget(),
$("#addSymptom").modal("hide"),$("#symptom_error_message").html(""),$("#symptom-search").val(""),$("#symptoms_id_hidden").val(""),$("#add_new_score_button").show()):$("#symptom_search_error_message").text("Unable to save").show()}})):$.ajax({type:"POST",url:"/user/api/addUserSymptom",data:{id:symptom_id,severity:severity},dataType:"json",beforeSend:function(){},success:function(a){rotate.stop();!0==a?(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"}),0<$("#symptomTilePage").length?
getSymGraphTiles():0<$("#symptomListPage").length?(symptom_date=$.trim($("#symptomDatepicker").val()),getSymLists(symptom_date)):getHealthWidget(),$("#addSymptom").modal("hide"),$("#symptom_error_message").html(""),$("#symptom-search").val(""),$("#symptoms_id_hidden").val(""),$("#add_new_score_button").show()):$("#symptom_search_error_message").text("Unable to save").show()}})});$(document).on("click","#close_symptom_submit_button",function(){$("#symptom_error_message").html("")});
$(document).on("click","#delete_user_symptom",function(){is_symptom_newscore_active||(symptomId=$(this).data("symptom-id"),bootbox.confirm("Are you sure you want to delete this symptom?",function(a){$("#symptom_conditions").modal("hide");a&&$.ajax({url:"/symptom/delete",cache:!1,data:{id:symptomId},type:"POST",success:function(a){a&&(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"}),$("#add_user_symptom").show(),$("#delete_user_symptom").hide(),$("#symptom_history_row").html(""),
$("#add_new_history_button").hide(),$(".symptom_history_filter_option").hide(),load_symptom_history(),getSymptomSeverityGraph("symptomSeverityDetailGraph"),window.location.href="/profile/mysymptom")}})}))});
$(document).on("click","#add_user_symptom",function(){symptomId=$(this).data("symptom-id");bootbox.confirm("Are you sure you want to add this symptom?",function(a){a&&$.ajax({type:"POST",url:"/user/api/addUserSymptom",data:{id:symptomId},dataType:"json",success:function(a){!0==a&&(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"}),$("#add_user_symptom").hide(),$("#delete_user_symptom").show(),$("#add_new_history_button").show(),$("#symptom_history_row").html(""),
load_symptom_history(),getSymptomSeverityGraph("symptomSeverityDetailGraph"))}})})});
$(document).on("click",".symptom-history-delete",function(){elem=$(this).closest(".symptom-history-div");divId=elem.data("id");symptomId=elem.data("symptom-id");bootbox.confirm("Are you sure you want to delete this symptom history?",function(a){a&&$.ajax({url:"/mysymptom/delete/"+symptomId+"/"+divId,cache:!1,success:function(a){a&&(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"}),elem.remove(),getSymptomSeverityGraph("symptomSeverityDetailGraph"))}})})});
$(document).on("click","#symptom_history_cancel",function(){$("#symptom_history_error_message").html("")});
$(document).on("click","#symptom_history_save",function(){symptom_id=$.trim($("#symptom_id").val());symptom_date=$.trim($("#selectedSymptomDate").val());if(0<$("input[name=symptomHistoryRadio]:radio:checked").length)severity=$("input[name=symptomHistoryRadio]:radio:checked").val(),$("#symptom_history_save").attr("disabled","disabled"),$.ajax({url:"/user/api/addUserSeverity",data:{id:symptom_id,date:symptom_date,severity:severity},type:"POST",success:function(){socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),
type:"symptom"});$("#symptom_conditions").modal("hide");$("#symptom_history_row").html("");load_symptom_history();$("#symptom_history_save").removeAttr("disabled");getSymptomSeverityGraph("symptomSeverityDetailGraph")}});else return $("#symptom_history_error_message").text("Please select valid severity.").show(),!1});$(document).on("click",".condition_indicator label input",function(){$(this).closest(".condition_popup_container").find("label").removeClass("on");$(this).parent().addClass("on")});
$(document).on("click","#add_new_history_button",function(){$("#selectedSymptomDate").val("");$(".condition_popup_container").find("label").removeClass("on");$("#symptomHistoryDatepicker").datepicker("show");bootbox.hideAll()});
$(document).on("click",".symptom-history-edit",function(){$(".condition_popup_container").find("label").removeClass("on");elem=$(this).closest(".symptom-history-div");divId=elem.data("id");displayDate=elem.data("date");severity=elem.data("severity");severity_name=elem.data("severity-name");symptom_id=$.trim($("#symptom_id").val());$("#symptom_conditions").modal("show");bootbox.hideAll();myDate=new Date(Date.parse(displayDate));symptom_date=myDate.getFullYear()+"-"+(myDate.getMonth()+1)+"-"+myDate.getDate();
$("#date-selected").html(symptom_date);divIdDate=new Date(1E3*divId);symptom_gmt_date=divIdDate.getMonth()+1+"/"+divIdDate.getDate()+"/"+divIdDate.getFullYear();$("#selectedSymptomDate").val(displayDate);$(".condition_"+severity_name).addClass("on");$(".condition_"+severity_name).find("input").attr("checked",!0)});
$(document).on("click","ul#symptom_history_filter li a",function(){var a=$(this).data("filter_value");$("#symptom_filter_year").val(a);var c=$("#symptom_id").val(),d=$("#symptomSeverityDetailGraph").data("username");$.ajax({url:"/symptom/history/list",cache:!1,type:"POST",data:{filterValue:a,symId:c,username:d},success:function(a){$("#symptom_history_row").html(a)}})});
function load_symptom_history(){sym_id=$("#symptom_id").val();var a=$("#symptomSeverityDetailGraph").data("username");$.ajax({url:"/symptom/history/list",cache:!1,type:"POST",data:{symId:sym_id,username:a},success:function(a){$("#symptom_history_row").append(a)}})}function addToFavoritePost(a,c){$.ajax({url:"/post/api/addToFavorite",cache:!1,type:"POST",data:{post_id:a,status:c},success:function(){}})}
function getUserNow(){var a=new Date,c=a.getTime(),a=6E4*a.getTimezoneOffset(),c=c+a,a=parseFloat(app.user_timezone);return new Date(c+36E5*a)}var chatMessageAJAXRequest=null;
function appReceiveArrowchatMessage(a,c,d){0<$("#chat_notification_container").length&&(null!==chatMessageAJAXRequest&&chatMessageAJAXRequest.abort(),chatMessageAJAXRequest=$.ajax({method:"POST",url:"/user/dashboard/getChatMessageData",data:{from:a,message:c,sent:d},success:function(a){showBlurDashboardImages();$("#chat_notification_container").html(a).show()}}))}
function showBlurDashboardImages(){loadBlurImages($("#dashboard_image_container img"));loadBlurImages($("#dashboard_slideshow_container img"))}function loadBlurImages(a){a.each(function(){var a=$(this).attr("src");if(-1===a.indexOf("_blur")){var d;-1<a.indexOf(".jpg")?d=".jpg":-1<a.indexOf(".png")?d=".png":-1<a.indexOf(".gif")&&(d=".gif");a=a.replace(d,"_blur"+d);$(this).attr("src",a)}})}
$(document).ready(function(){$(".back-to-top").hide();$(function(){$(window).scroll(function(){300<$(this).scrollTop()?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()});$(".back-to-top").click(function(){$("body,html").animate({scrollTop:0},400);return!1})})});$(document).on("click","#create_volunteer",function(){$.ajax({url:"/myteam/api/createVolunteer",cache:!1,type:"POST",dataType:"json",success:function(a){!0==a.success&&window.location.reload(!0)}})});
$(document).on("click","#remove_volunteer",function(){$.ajax({url:"/myteam/api/deleteVolunteer",cache:!1,type:"POST",dataType:"json",success:function(a){!0==a.success&&window.location.reload(!0)}})});
function searchFriendsInList(a,c){var d="",d="string"==typeof c?c:$(c).val();$(".none_found").addClass("hidden");$("#team_error_message").hide();$(".invite_submit").attr("disabled",!1);var e=0,f=0;if(!$.isEmptyObject(a.friends.friend)){$.each(a.friends.friend,function(a,c){$(".invite_team_members"+c.friend_id).addClass("hidden");f++});var g=d.toLowerCase();$.each(a.friends.friend,function(a,c){-1!==c.friend_name.toLowerCase().search(g)?($(".invite_team_members"+c.friend_id).removeClass("hidden"),
e++):e--})}if(e==-f||0==f)$(".none_found").removeClass("hidden"),$("#team_error_message").hide(),$(".invite_submit").attr("disabled","disabled")}
$(document).on("click",".invite_close_button",function(){$("#search_friends").val("");$("#none_found").addClass("hidden");$("#search_friends").keyup();$('input[type="checkbox"]').parent(".invite_frnds").removeClass("active");$('input[type="checkbox"]').prop("checked",!1);$(".select_all_check_box").prop("checked",!1);$("#selected_count").html(0);$("#invite_button").prop("disabled",!0)});
$(document).on("change",".select_all_check_box",function(){var a=$("#invite_friends .not_invited");$(this).is(":checked")?(a.addClass("active"),$("#invite_button").prop("disabled",!1),$(".invite_box").prop("checked",!0)):(a.removeClass("active"),$("#invite_button").attr("disabled","disabled"),$(".invite_box").prop("checked",!1));handleSelectedBoxCountChange()});
$(document).on("change",".select_all_community_check_box",function(){var a=$("#invite_community_friends .community_not_invited");$(this).is(":checked")?(a.addClass("active"),$("#invite_button").prop("disabled",!1),$(".invite_box").prop("checked",!0)):(a.removeClass("active"),$("#invite_button").attr("disabled","disabled"),$(".invite_box").prop("checked",!1));handleCommunitySelectedBoxCountChange()});
function handleSelectedBoxCountChange(){var a=0;$(".not_invited input[type=checkbox]").each(function(){$(this).is(":checked")&&(a+=1)});$("#selected_count").html(a)}function handleCommunitySelectedBoxCountChange(){var a=0;$(".community_not_invited input[type=checkbox]").each(function(){$(this).is(":checked")&&(a+=1)});$("#selected_community_count").html(a)}
$(document).on("click",".disease_follow_btn",function(){diseaseId=$(this).data("disease-id");followButton=$(this);$.ajax({url:"/user/api/followDiseasePage",data:{diseaseId:diseaseId},type:"POST",cache:!1,success:function(a){a&&(followButton.hide(),followButton.next(".disease_unfollow_btn").show(),$("#disease_friends_online").length&&updateDiseaseMemberList())}})});
$(document).on("click",".disease_unfollow_btn",function(){diseaseId=$(this).data("disease-id");unfollowButton=$(this);bootbox.dialog({message:"Are you sure you want to unfollow this disease?",title:"Unfollow",closeButton:!0,onEscape:function(){},buttons:{main:{label:"Yes",className:"btn btn_active",callback:function(a){a&&$.ajax({url:"/user/api/unFollowDiseasePage",data:{diseaseId:diseaseId},type:"POST",cache:!1,success:function(a){a&&(unfollowButton.hide(),unfollowButton.prev(".disease_follow_btn").show(),
$("#disease_friends_online").length&&updateDiseaseMemberList())}})}},danger:{label:"No",className:"btn btn_clear"}}})});$(document).on("click",".profile_follow_btn",function(){profileId=$(this).data("profile-id");followButton=$(this);$.ajax({url:"/user/api/followProfilePage",data:{profileId:profileId},type:"POST",cache:!1,success:function(a){a&&(followButton.hide(),followButton.next(".profile_unfollow_btn").show())}})});
$(document).on("click",".profile_unfollow_btn",function(){profileId=$(this).data("profile-id");unfollowButton=$(this);bootbox.dialog({message:"Are you sure you want to unfollow this user?",title:"Unfollow",closeButton:!0,onEscape:function(){},buttons:{main:{label:"Yes",className:"btn btn_active",callback:function(a){a&&$.ajax({url:"/user/api/unFollowProfilePage",data:{profileId:profileId},type:"POST",cache:!1,success:function(a){a&&(unfollowButton.hide(),unfollowButton.prev(".profile_follow_btn").show())}})}},
danger:{label:"No",className:"btn btn_clear"}}})});$(document).on("click",".notification_switch",function(){var a=$(this).parent().data("follow-id"),c=$(this).parent().data("notification-type"),d=$(this).data("status");element=$(this);$.ajax({url:"/user/api/switchNotification",data:{Id:a,type:c,status:d},dataType:"json",type:"POST",cache:!1,success:function(a){1==a.notification_type?element.next(".notification_off").show():element.prev(".notification_on").show();element.hide();window.location.reload()}})});
$(document).on("click",".tracker-history-delete",function(){dataDiv=$(this).closest(".tracker-history-div");divId=dataDiv.data("id");recordType=dataDiv.data("record-type");bootbox.dialog({message:"Are you sure you want to delete this tracker history?",title:"Delete History",closeButton:!0,onEscape:function(){},buttons:{main:{label:"Ok",className:"btn btn_active",callback:function(a){a&&$.ajax({url:"/healthTracker/delete/"+recordType+"/"+divId,cache:!1,success:function(a){a&&(dataDiv.remove(),load_tracker_graph("tracker_graph_container"))}})}},
danger:{label:"Cancel",className:"btn btn_clear"}}})});
$(document).on("click","#stop_medication_reminder_dialog #yes_btn",function(){var a=Ladda.create(this),c=$(this).closest("form").serialize();$.ajax({url:"/user/scheduler/stopMedicationReminder",data:c,type:"POST",dataType:"json",beforeSend:function(){a.start();$("#stop_medication_reminder_dialog button").prop("disabled",!0)},success:function(a){$("#stop_medication_reminder_dialog #confirm_message").addClass("hide");$("#stop_medication_reminder_dialog .modal-footer").remove();a.success?$("#stop_medication_reminder_dialog #success_message").removeClass("hide"):
a.error&&$("#stop_medication_reminder_dialog #error_message").removeClass("hide")}})});$(document).on("click","#stop_medication_reminder_dialog #no_btn",function(){$("#stop_medication_reminder_dialog #confirm_message").addClass("hide");$("#stop_medication_reminder_dialog .modal-footer").remove();$("#stop_medication_reminder_dialog #no_message").removeClass("hide")});$(document).on("click",".friends_print",function(){window.open("/healthinfo/print?graphIds=18","_blank")});
$(document).on("click",".team_print",function(){window.open("/healthinfo/print?graphIds=19","_blank")});
$(document).on("click","#print_summary",function(){var a=[],c="",d="",e="";$("#dateSelectType1").prop("checked")?e=$(".periodSelectionValue").val():$("#dateSelectType2").prop("checked")&&(e=1,c=$("#PrintFrom").val(),d=$("#PrintTo").val());""==e?$("#print_error_message").text("Please choose a date option.").show():c>d?($("#print_error_message").text("From-date should be less than To-date.").show(),(0==c.length||0==d.length)&&$("#print_error_message").text("Please enter Both dates.").show()):c<d&&1==
e&&0==c.length?$("#print_error_message").text("Please enter Both dates.").show():c==d&&1==e&&0==c.length?$("#print_error_message").text("Please enter Both dates.").show():($('input[name="graph_options_list[]"]:checked').each(function(){a.push($(this).attr("value"))}),""==a?$("#print_error_message").text("Please choose the options to print.").show():(url="/healthinfo/print?graphIds="+a+"&customDates="+e+"&mindate="+c+"&maxdate="+d,-1!=$.inArray("16",a)&&(a=removeDuplicates(a),symptomIds=[],$('input[class="symptom_options"]:checked').each(function(){symptomIds.push($(this).data("symptom"))}),
url="/healthinfo/print?graphIds="+a+"&customDates="+e+"&mindate="+c+"&maxdate="+d+"&symptoms="+symptomIds),window.open(url,"_blank"),$("#medical_summary_modal").modal("hide"),$('input[type="radio"]').prop("checked",!1),$('input[type="checkbox"]').prop("checked",!1),$('input[type="text"]').val(""),$(".periodSelection").addClass("hidden"),$(".dateSelection").addClass("hidden")))});function removeDuplicates(a){var c=[];$.each(a,function(a,e){-1==$.inArray(e,c)&&c.push(e)});return c}
$(".search_type").click(function(){var a=$("#header_search").val();if(""==!a){var c;switch($("#search_icons").attr("class").replace("search_icons ","")){case "all":c="all";break;case "people_search":c="people";break;case "community_search":c="community";break;case "disease_search":c="disease";break;case "hash_search":c="hashtag";break;default:c="all"}window.location.replace("/search?type="+c+"&keyword="+encodeURIComponent(a))}});
$(".search_submit").click(function(){var a=$("#header_search").val();if(""==!a){var c;switch($("#search_icons").attr("class").replace("search_icons ","")){case "all":c="all";break;case "people_search":c="people";break;case "community_search":c="community";break;case "disease_search":c="disease";break;case "hash_search":c="hashtag";break;default:c="all"}window.location.replace("/search?type="+c+"&keyword="+encodeURIComponent(a))}});
function showSiteNotification(a,c){var d=window.location.pathname.split("/")[2]+" just updated their details!",e;e={className:"success",autoHide:!0,position:"bottom left",arrowSize:0};$.inArray(c,["success","info","warn","error"])&&(e.className=c);$.notify(d,e);app.show_site_notfications=!1}
function getMyHealthGraphData(a){app.show_site_notfications=!0;switch(a){case "pain_tracker":refreshPainDataGraph();break;case "current_health":load_stock_graph(!1,!0);break;case "symptom":renderWeeklyGraphs(!0);getSymptomSeverityGraph("symptomSeverityDetailGraph",!0);break;case "tracker":load_stock_graph(!1,!0);break;case "health_indicators":$("#status_graph").length?$("#status_graph").click():load_stock_graph(!1,!0)}}
function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function isIE11(){return!!navigator.userAgent.match(/Trident.*rv\:11\./)}
$(document).on("click",".dashboard_video_play",function(){if($("#profile_video_container").length){$("#profile_video_container_wrapper").show();$(this).addClass("hide");$(".profile_tile .profile_cover_gear").addClass("hide");if(9==isIE()||isIE11())$("#profile_video_container_wrapper").show(),jwplayer("profile_video_container").seek(0);$("#profile_video_container_wrapper").css("z-index",999);$("#profile_video_minimize_icon").removeClass("hide");$(".dashboard_video_play").addClass("hide");jwplayer("profile_video_container").play()}});
(function(a){a.fn.embedVimeoPlayer=function(a,d,e){a=getVimeoEmbedCode(a,d,e);return this.html(a)}})(jQuery);$(document).on("input","#db_htag",function(){$.ajax({url:"/search/search/getHeaderSearch",dataType:"json",data:{term:$(this).val(),category:6},success:function(a){$(".hashtag_container").empty();$.each(a,function(a,d){if("More"!=d.Name&&"empty"!=d.Name){var e;e='<p class="rating_4 tags">'+('<a href="'+d.Url+'">'+d.Name+"</a></p>")}$(".hashtag_container").append(e)})}})});
$("#db_htag").keyup(function(){searchStr=$("#db_htag").val();""==searchStr&&$.ajax({url:"/search/search/getAllHashtags",dataType:"json"}).done(function(a){$(".hashtag_container").empty();$.each(a,function(a){$(".hashtag_container").append('<p class="rating_4 tags">'+('<a href="/hashtag?tag='+a+'">#'+a+"</a></p>"))})})});$(document).on("click",".subtabs_list li",function(){$(".subtabs_list li").removeClass("current")});var user_id="",friend_id="",search=!1;
function disableButton(a){$(a).css({border:"1px solid #004f7f","background-color":"#2c589e",color:"#fff"});$(a).attr("disabled","disabled")}function enableButton(a){$(a).removeAttr("style");$(a).removeAttr("disabled","disabled")}
function addFriend(a,c,d){var e="#add_button_"+a;"undefined"!=typeof d&&!0==d&&(e="#notification_add_button_"+a);rotate=Ladda.create(document.querySelector(e));null!=rotate&&rotate.start();disableButton($(e));$.ajax({url:"/user/friends/addFriend",cache:!1,type:"POST",data:{friend_id:a,search:c},success:function(){"undefined"!=typeof d&&!0==d?addFriendResponse(a,c,!0):addFriendResponse(a,c)}})}
function addFriendResponse(a,c,d){var e="#add_button_"+a;"undefined"!=typeof d&&!0==d&&(e="#notification_add_button_"+a);c?($(e).text("Request Sent"),rotate=Ladda.create(document.querySelector(e)),rotate.stop(),disableButton($(e)),setTimeout(function(){updateFriendNotificationListRow("people_mayknow_notification")},3E3)):location.reload()}
function approveFriend(a,c,d){var e="#accept_button_"+a,f="#reject_button_"+a;"undefined"!=typeof d&&!0==d&&(e="#notification_accept_button_"+a,f="#notification_reject_button_"+a);rotate=Ladda.create(document.querySelector(e));null!=rotate&&rotate.start();disableButton($(e));$(f).attr("disabled","disabled");$.ajax({url:"/user/friends/approveFriend/"+a+"/"+c,type:"POST",success:function(){$(e).removeAttr("onclick");typeof d!="undefined"&&d==true?approveFriendResponse(a,c,rotate,true):approveFriendResponse(a,
c,rotate);$("#online_friends_list").length&&updateOnlineFriendsList();$("#profile_friends_online").length&&updateProfileOnlineFriendsList()}})}function approveFriendResponse(a,c,d,e){var f="#accept_button_"+a,g="#reject_button_"+a;"undefined"!=typeof e&&!0==e&&(f="#notification_accept_button_"+a,g="#notification_reject_button_"+a);c?($(f).remove(),$(g).text("You have responded."),getFriendNotificationUpdates()):location.reload();d.stop();disableButton($(g))}
function rejectFriend(a,c,d){var e="#accept_button_"+a,f="#reject_button_"+a;"undefined"!=typeof d&&!0==d&&(e="#notification_accept_button_"+a,f="#notification_reject_button_"+a);rotate=Ladda.create(document.querySelector(f));null!=rotate&&rotate.start();disableButton($(f));$(e).attr("disabled","disabled");$.ajax({url:"/user/friends/rejectFriend/"+a+"/"+c,type:"POST",success:function(){$(f).removeAttr("onclick");typeof d!="undefined"&&d==true?rejectFriendResponse(a,c,rotate,true):rejectFriendResponse(a,
c,rotate)}})}function rejectFriendResponse(a,c,d,e){var f="#accept_button_"+a,g="#reject_button_"+a;"undefined"!=typeof e&&!0==e&&(f="#notification_accept_button_"+a,g="#notification_reject_button_"+a);c?($(f).remove(),$(g).text("You have responded"),getFriendNotificationUpdates()):location.reload();d.stop();disableButton($(g))}
function hovercardRemoveFriend(a,c){bootbox.confirm("Are you sure you want to remove?",function(d){if(d){var e=Ladda.create(document.querySelector("#remove_hovercard_button_"+a));null!=e&&e.start();disableButton($("#remove_hovercard_button_"+a));$.ajax({url:"/user/friends/removeFriend",type:"POST",data:{friend_id:a,search:c},success:function(){c?(removeFriendResponse(a,c,e),createAddFriendButton(a,e)):location.reload();$("#online_friends_list").length&&(updateOnlineFriendsList(),$(".popover").remove())}})}})}
function createAddFriendButton(a,c){null!=c&&c.stop();$("#remove_hovercard_button_"+a).html("Add as friend");$("#remove_hovercard_button_"+a).removeAttr("data-friend_id");$("#remove_hovercard_button_"+a).attr("onclick","addFriend("+a+", true)");$("#remove_hovercard_button_"+a).attr("id","add_button_"+a);enableButton($("#add_button_"+a))}
function removeFriend(a,c){var d=Ladda.create(document.querySelector("#remove_button_"+a));null!=d&&d.start();disableButton($("#remove_button_"+a));$.ajax({url:"/user/friends/removeFriend",type:"POST",data:{friend_id:a,search:c},dataType:"json",success:function(e){removeFriendResponse(a,c,d);jQuery.isEmptyObject(e)||($.each(["warning","success","danger"],function(a,c){$("#header-alert").removeClass("alert-"+c)}),$("#header-alert").addClass("alert-"+e.type),$("#header-alert .alert-content").html(e.message),
$("#header-alert").show(),setTimeout(function(){$("#header-alert").hide()},5E3))}})}
function removeFriendResponse(a,c,d){if(c){c={friends:{friend:[]}};$("#"+a).remove();for(var e=0;e<friendList.friends.friend.length;e++)friendList.friends.friend[e].friend_id!=a&&c.friends.friend.push(friendList.friends.friend[e]);friendList=c;0==friendList.friends.friend.length&&$("#none_found").removeClass("hidden");null!=d&&d.stop()}else d.stop(),disableButton($("#remove_button_"+a)),$("#remove_button_"+a).text("Removed");$("#remove_button_"+a).text("Removed");$("#remove_button_"+a).removeAttr("onclick")}
var mutualFriendsList="";
$(document).on("click",".mutual_frnds",function(a){a.preventDefault();if($(this).hasClass("disabled"))return!1;$("#mutualFriends .modal-body").html('<center><img src="/img/loader.gif" alt="Loading..."></center>');user_id=$(this).data("user_id");friend_id=$(this).data("friend_id");search=$(this).data("search");"undefined"===typeof search&&(search=!1);$.ajax({url:"/user/friends/getMutualFriends",type:"POST",data:{user_id:user_id,friend_id:friend_id},dataType:"json",success:function(a){mutualFriendsList=JSON.parse(a.json);
$("#mutualFriends .modal-body").html(a.html_content);0!=$("#mutual-friends .col-lg-6").length%2&&$("#mutual-friends .col-lg-6:last").css("border-bottom","0px")}});$("#mutualFriends").modal("show")});
$(document).on("click",".btn_add_symtom_severity",function(){var a=$(this).data("symptom_id"),c=$(this).data("symptom_name"),d=$(this).data("severity"),e=c.toLowerCase().replace(/[^a-z0-9\s]/gi,"").replace(/[ ]/g,"_"),e=$("#"+e).data("last-updated-date"),e=""==e?getUserNow().toDateString():(new Date(e)).toDateString(),f=getUserNow().toDateString();$("#model_add_symptom_serveriy .symptom-selected").html(c);$("#model_add_symptom_serveriy #selectedSymptomId").val(a);$("#modal_symptom_datepicker").val("");
$("#modal_symptom_date_selected").html("today");$(".condition_indicator label").removeClass("on");$(".condition_indicator input").attr("checked",!1);$("#symptom_history_error_message").hide();"no data"!=d&&f===e&&($(".condition_"+d).addClass("on"),$(".condition_"+d).find("input").prop("checked",!0),$(".condition_"+d).find("input").hecked=!0);$("#model_add_symptom_serveriy").modal("show")});
$(document).on("click","#btn_symptom_severity_save",function(){var a=$.trim($("#model_add_symptom_serveriy #selectedSymptomId").val()),c=$.trim($("#model_add_symptom_serveriy .symptom-selected").html()).toLowerCase().replace(/[^a-z0-9\s]/gi,"").replace(/[ ]/g,"_"),d=c+"_gauge_graph";$("#btn_symptom_severity_save").attr("disabled","disabled");if(0<$("input[name=symptomHistoryRadio]:radio:checked").length){var e=$("input[name=symptomHistoryRadio]:radio:checked").val(),f=$(".condition_indicator label.on  span").html(),
g="dial_"+$(".condition_indicator .on").attr("class").replace(" on",""),h=$("#modal_symptom_datepicker").val(),m=$("#"+c).data("last-updated-date"),j=$(".condition_indicator .on .name").html().toLowerCase(),n=getDialValue(j);saveSymtomSeverity(a,h,e,callback_saveSymptomSeverity,{date:h,severityName:f,severityClass:g,newSeverity:j,lastUpdatedDate:m,symptom_div_id:c,container:d,dialValue:n})}else return $("#symptom_history_error_message").text("Please select valid severity.").show(),$("#btn_symptom_severity_save").removeAttr("disabled"),
!1});function getDialValue(a){var c=0;switch(a.toLowerCase()){case "none":c=25;break;case "mild":c=75;break;case "moderate":c=125;break;case "severe":c=175;break;default:c=0}return c}
function callback_saveSymptomSeverity(a){var c=a.date,d=a.lastUpdatedDate,e=a.symptom_div_id,f=a.severityName,g=a.severityClass,h=a.newSeverity,m=""==c?getUserNow():new Date(c),d=""==d?getUserNow():new Date(d);m.setHours(0,0,0,0);d.setHours(0,0,0,0);m>=d&&(chartValue[a.container].series[0].points[0].update(a.dialValue),$("#"+e+" p ").html(f),$("#"+e).removeClass().addClass("col-lg-3 "+g),$("#"+e+" .btn_add_symtom_severity ").data("severity",h),$("#"+e).data("last-updated-date",c),a=$.datepicker.formatDate("M d, yy",
m),$("#"+e+" p ").attr("title","Last updated: "+a));$("#model_add_symptom_serveriy").modal("hide");$("#btn_symptom_severity_save").removeAttr("disabled");$("#model_add_symptom_serveriy .condition_popup_container").find("label").removeClass("on");$("#modal_symptom_datepicker").val("");$("#modal_symptom_date_selected").html("today")}
function saveSymtomSeverity(a,c,d,e,f){chartValue[f.container].showLoading("saving..");$.ajax({url:"/user/api/addUserSeverity",data:{id:a,date:c,severity:d},type:"POST",success:function(){chartValue[f.container].hideLoading();socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"symptom"});"function"==typeof e&&e(f)},error:function(){chartValue[f.container].hideLoading()}})}
$(document).on("click","#btn_add_all_symptom_severity",function(){$.ajax({url:"/user/api/getAddSymptomListHTML",success:function(){}})});$(document).on("click","#btn_daily-health-load-more",function(){$(".health_indicator_div .row").removeClass("hidden");hideAllPainData();appendlatestPainDetails();$("#btn_daily-health-load-more").hide()});
$(document).on("click","#btn_daily-health-load-less",function(){$(".health_indicator_div .row.health_dial_indicator:gt(2)").addClass("hidden");appendlatestPainDetails();$("#btn_daily-health-load-more").show()});function clearVariablesAndData(){selected_pain_type=selected_body_main_part=1;all_pain_array=[];save_pain_array=[];new_pain_obj={};append_pin=!1;current_fixed_pin_id=id_counter=y_pos_image=x_pos_image=bodySubPartsArray=bodyPartsArray=0}
function hideAllPainData(){clearVariablesAndData();$(".fixed_pin, .latest_pain_pins").each(function(){$(this).fadeOut(10,function(){$(this).remove()})})}
function appendlatestPainDetailsFixed(){if("undefined"!=typeof latestPainDataDetails&&null!=latestPainDataDetails&&0<latestPainDataDetails.length){$("bodypain_tracker_container").offset();var a=$("#paintracker_div");$(latestPainDataDetails).each(function(c,d){if("undefined"!=typeof d&&0<parseInt(d.severity)&&null!=d.severity){var e=d.pain_type,f=$("#drag_pain_icon"+e).clone().removeAttr("id").removeAttr("class");f.addClass("drag_pain_icon"+e+"ui-draggable ui-draggable-dragging fixed_pin").attr("id",
id_counter);f.css({position:"absolute",left:d.pos_x+"px",top:d.pos_y+"px"});a.append(f);obj={};obj.severity=parseInt(d.severity);obj.pain_type=parseInt(d.pain_type);obj.selected_body_main_part=parseInt(d.bodyPartMain);obj.pos_x=parseInt(d.pos_x);obj.pos_y=parseInt(d.pos_y);all_pain_array[id_counter]=obj;id_counter++}})}}
function appendlatestPainDetails(){if("undefined"!=typeof latestPainDataDetails&&null!=latestPainDataDetails&&0<latestPainDataDetails.length){var a=$("#paintracker_div");$("bodypain_tracker_container").offset();$(latestPainDataDetails).each(function(c,d){if("undefined"!=typeof d&&0<parseInt(d.severity)&&null!=d.severity){var e=d.pain_type,f=$("#drag_pain_icon"+e).clone().removeAttr("id").removeAttr("class");f.addClass("drag_pain_icon"+e+"ui-draggable ui-draggable-dragging fixed_pin").attr("id",id_counter);
f.css({position:"absolute",left:d.pos_x+"px",top:d.pos_y+"px"});a.append(f);obj={};obj.severity=parseInt(d.severity);obj.pain_type=parseInt(d.pain_type);obj.selected_body_main_part=parseInt(d.bodyPartMain);obj.pos_x=parseInt(d.pos_x);obj.pos_y=parseInt(d.pos_y);all_pain_array[id_counter]=obj;id_counter++}})}}var userId;
$(document).on("click",".unblock_user",function(){userId=$(this).attr("data-user_id");if(0<userId){$('#confirm_unblock_dialog form input[type="hidden"]').val(userId);var a=$(this).attr("data-username");$("#confirm_unblock_dialog .username").html(a);$("#confirm_unblock_dialog").modal("show")}});
$(document).on("click","#confirm_user_unblock",function(){var a=!1;$("#confirm_unblock_dialog #unblock_messaging").is(":visible")?$("#confirm_unblock_dialog #unblock_messaging").is(":checked")&&(a=!0):a=!0;!0===a&&$("#blocked_user_"+userId).remove();a=$("#confirm_unblock_dialog form").serialize();$('#confirm_unblock_dialog form input[type="hidden"]').val("");$("#confirm_unblock_dialog").modal("hide");$.ajax({type:"POST",url:"/user/blocking/unblockUser",data:a})});
$(document).on("click",'input[name="data[NotificationSetting][recommend_friends]"]',function(){var a=$("#NotificationSettingRecommendFriendsFrequency");$(this).is(":checked")?a.removeClass("hide"):a.addClass("hide")});$(document).on("click",".select_all_graphs",function(){$('input[name="graph_options_list[]"]').prop("checked",!0);$('input[name="graph_title_list[]"]').prop("checked",!0)});
$(document).on("click",".clear_all_graphs",function(){$('input[name="graph_options_list[]"]').prop("checked",!1);$('input[name="graph_title_list[]"]').prop("checked",!1)});$(document).on("click","#dateSelectType2",function(){$(".dateSelection").removeClass("hidden");$(".periodSelection").addClass("hidden");$("#print_error_message").hide()});$(document).on("click","#dateSelectType1",function(){$(".periodSelection").removeClass("hidden");$(".dateSelection").addClass("hidden");$("#print_error_message").hide()});
$(document).on("click","#print_button",function(){var a=[],c="",d="",e="";graphType=$(this).data("graphtype");$("#dateSelectType1").prop("checked")?e=$(".periodSelectionValue").val():$("#dateSelectType2").prop("checked")&&(e=1,c=$("#PrintFrom").val(),d=$("#PrintTo").val());""==e?$("#print_error_message").text("Please choose a date option.").show():c>d?($("#print_error_message").text("From-date should be less than To-date.").show(),(0==c.length||0==d.length)&&$("#print_error_message").text("Please enter Both dates.").show()):
c<d&&1==e&&0==c.length?$("#print_error_message").text("Please enter Both dates.").show():c==d&&1==e&&0==c.length?$("#print_error_message").text("Please enter Both dates.").show():("normal"==graphType?($('input[name="graph_options_list[]"]:checked').each(function(){a.push($(this).attr("value"))}),""==a?$("#print_error_message").text("Please choose the options to print.").show():(window.open("/healthinfo/print?graphIds="+a+"&customDates="+e+"&mindate="+c+"&maxdate="+d,"_blank"),$("#printGraph").modal("hide"))):
"symptom"==graphType&&(a=16,symptomIds=[],$('input[name="graph_options_list[]"]:checked').each(function(){symptomIds.push($(this).attr("value"))}),""==symptomIds?$("#print_error_message").text("Please choose the options to print.").show():(window.open("/healthinfo/print?graphIds="+a+"&customDates="+e+"&mindate="+c+"&maxdate="+d+"&symptoms="+symptomIds,"_blank"),$("#printGraph").modal("hide"))),$('input[type="radio"]').prop("checked",!1),$('input[type="checkbox"]').prop("checked",!1),$('input[type="text"]').val(""),
$(".periodSelection").addClass("hidden"),$(".dateSelection").addClass("hidden"))});$(document).on("click",".close_print",function(){$('input[type="checkbox"]').prop("checked",!1);$('input[type="radio"]').prop("checked",!1);$('input[type="text"]').val("");$(".periodSelection").addClass("hidden");$(".dateSelection").addClass("hidden")});
(function(a,c,d,e){var f,g,h,m,j,n,t,o,q,p,u,i,r,C,s,B,E,v,D,w=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};s={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"};t=["l","c","r"];D=["t","m","b"];u=["t","b","l","r"];i={t:"b",m:null,b:"t",l:"r",c:null,r:"l"};r=function(a){var c;c=[];d.each(a.split(/\W+/),function(a,d){var e;e=d.toLowerCase().charAt(0);if(s[e])return c.push(e)});return c};v={};E={"border-radius":["-webkit-","-moz-"]};
p=function(a){var c;c=f("style");c.attr("type","text/css");d("head").append(c);try{c.html(a)}catch(e){c[0].styleSheet.cssText=a}return c};m=function(a,c,e){var f;"html"!==a&&(a="text");f="data-notify-"+a;return h(c,"["+f+"]").each(function(){var c;(c=d(this).attr(f))||(c="notify!blank");return e[c]=a})};h=function(a,c){return a.is(c)?a:a.find(c)};C={clickToHide:!0,autoHide:!0,autoHideDelay:5E3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",
className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5};q=function(a,c){var e;e=function(){};e.prototype=a;return d.extend(!0,new e,c)};f=function(a){return d("<"+a+"></"+a+">")};n={};j=function(a){var c;a.is("[type=radio]")&&(c=a.parents("form:first").find("[type=radio]").filter(function(c,e){return d(e).attr("name")===a.attr("name")}),a=c.first());return a};o=function(a,c,d){var f;if("string"===typeof d)d=parseInt(d,10);else if("number"!==typeof d)return;
if(!isNaN(d))return f=s[i[c.charAt(0)]],a[f]!==e&&(c=s[f.charAt(0)],d=-d),a[c]=a[c]===e?d:a[c]+d,null};B=function(a,c,d){if("l"===a||"t"===a)return 0;if("c"===a||"m"===a)return d/2-c/2;if("r"===a||"b"===a)return d-c;throw"Invalid alignment";};g=function(a){g.e=g.e||f("div");return g.e.text(a).html()};var k=function(a,c,e){"string"===typeof e&&(e={className:e});this.options=q(C,d.isPlainObject(e)?e:{});this.loadHTML();this.wrapper=d('<div class="notifyjs-wrapper">\n  <div class="notifyjs-arrow"></div>\n  <div class="notifyjs-container"></div>\n</div>');
this.options.clickToHide&&this.wrapper.addClass("notifyjs-hidable");this.wrapper.data("notifyjs",this);this.arrow=this.wrapper.find(".notifyjs-arrow");this.container=this.wrapper.find(".notifyjs-container");this.container.append(this.userContainer);a&&a.length&&(this.elementType=a.attr("type"),this.originalElement=a,this.elem=j(a),this.elem.data("notifyjs",this),this.elem.before(this.wrapper));this.container.hide();this.run(c)};k.prototype.loadHTML=function(){var a;a=this.getStyle();this.userContainer=
d(a.html);return this.userFields=a.fields};k.prototype.show=function(a,c){var d,e,f,g,h=this;e=function(){!a&&!h.elem&&h.destroy();if(c)return c()};g=0<this.container.parent().parents(":hidden").length;f=this.container.add(this.arrow);d=[];if(g&&a)g="show";else if(g&&!a)g="hide";else if(!g&&a)g=this.options.showAnimation,d.push(this.options.showDuration);else if(!g&&!a)g=this.options.hideAnimation,d.push(this.options.hideDuration);else return e();d.push(e);return f[g].apply(f,d)};k.prototype.setGlobalPosition=
function(){var a,c,e,g;a=this.getPosition();c=a[0];e=a[1];g=s[c];a=s[e];e=c+"|"+e;c=n[e];c||(c=n[e]=f("div"),e={},e[g]=0,"middle"===a?e.top="45%":"center"===a?e.left="45%":e[a]=0,c.css(e).addClass("notifyjs-corner"),d("body").append(c));return c.prepend(this.wrapper)};k.prototype.setElementPosition=function(){var a,c,e,f,g,h,l,j,m,n,k,r,x,p,z,A,y,q,v;g=this.getPosition();A=g[0];z=g[1];f=this.elem.position();j=this.elem.outerHeight();k=this.elem.outerWidth();m=this.elem.innerHeight();n=this.elem.innerWidth();
x=this.wrapper.position();g=this.container.height();h=this.container.width();r=s[A];p=i[A];a=s[p];l={};l[a]="b"===A?j:"r"===A?k:0;o(l,"top",f.top-x.top);o(l,"left",f.left-x.left);v=["top","left"];y=0;for(q=v.length;y<q;y++)f=v[y],(x=parseInt(this.elem.css("margin-"+f),10))&&o(l,f,x);f=Math.max(0,this.options.gap-(this.options.arrowShow?e:0));o(l,a,f);if(this.options.arrowShow){e=this.options.arrowSize;c=d.extend({},l);a=this.userContainer.css("border-color")||this.userContainer.css("background-color")||
"white";y=0;for(q=u.length;y<q;y++)f=u[y],x=s[f],f!==p&&(f=x===r?a:"transparent",c["border-"+x]=""+e+"px solid "+f);o(l,s[p],e);0<=w.call(u,z)&&o(c,s[z],2*e)}else this.arrow.hide();0<=w.call(D,A)?(o(l,"left",B(z,h,k)),c&&o(c,"left",B(z,e,n))):0<=w.call(t,A)&&(o(l,"top",B(z,g,j)),c&&o(c,"top",B(z,e,m)));this.container.is(":visible")&&(l.display="block");this.container.removeAttr("style").css(l);if(c)return this.arrow.removeAttr("style").css(c)};k.prototype.getPosition=function(){var a,c,d,e,f,g,h;
a=r(this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition));0===a.length&&(a[0]="b");if(c=a[0],0>w.call(u,c))throw"Must be one of ["+u+"]";if(1===a.length||(d=a[0],0<=w.call(D,d))&&(e=a[1],0>w.call(t,e))||(f=a[0],0<=w.call(t,f))&&(g=a[1],0>w.call(D,g)))a[1]=(h=a[0],0<=w.call(t,h))?"m":"l";2===a.length&&(a[2]=a[1]);return a};k.prototype.getStyle=function(a){var c;a||(a=this.options.style);a||(a="default");c=v[a];if(!c)throw"Missing style: "+a;return c};k.prototype.updateClasses=
function(){var a,c;a=["base"];d.isArray(this.options.className)?a=a.concat(this.options.className):this.options.className&&a.push(this.options.className);c=this.getStyle();a=d.map(a,function(a){return"notifyjs-"+c.name+"-"+a}).join(" ");return this.userContainer.attr("class",a)};k.prototype.run=function(a,c){var e,f,i,j,l,k=this;d.isPlainObject(c)?d.extend(this.options,c):"string"===d.type(c)&&(this.options.className=c);if(this.container&&!a)this.show(!1);else if(this.container||a){f={};d.isPlainObject(a)?
f=a:f["notify!blank"]=a;for(i in f)if(e=f[i],j=this.userFields[i])"text"===j&&(e=g(e),this.options.breakNewLines&&(e=e.replace(/\n/g,"<br/>"))),l="notify!blank"===i?"":"="+i,h(this.userContainer,"[data-notify-"+j+l+"]").html(e);this.updateClasses();this.elem?this.setElementPosition():this.setGlobalPosition();this.show(!0);if(this.options.autoHide)return clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return k.show(false)},this.options.autoHideDelay)}};k.prototype.destroy=
function(){return this.wrapper.remove()};d.notify=function(a,c,e){a&&a.nodeName||a.jquery?d(a).notify(c,e):(e=c,new k(null,a,e));return a};d.fn.notify=function(a,c){d(this).each(function(){var e;return(e=j(d(this)).data("notifyjs"))?e.run(a,c):new k(d(this),a,c)});return this};d.extend(d.notify,{defaults:function(a){return d.extend(C,a)},addStyle:function(c,e){var f,g,h;if(!c)throw"Missing Style name";if(!e)throw"Missing Style definition";if(!e.html)throw"Missing Style HTML";if(null!=(g=v[c])&&g.cssElem)a.console&&
console.warn("notify: overwriting style '"+c+"'"),v[c].cssElem.remove();e.name=c;v[c]=e;f="";e.classes&&d.each(e.classes,function(a,c){f+=".notifyjs-"+e.name+"-"+a+" {\n";d.each(c,function(a,c){E[a]&&d.each(E[a],function(d,e){return f+="  "+e+a+": "+c+";\n"});return f+="  "+a+": "+c+";\n"});return f+="}\n"});e.css&&(f+="/* styles for "+e.name+" */\n"+e.css);f&&(e.cssElem=p(f),e.cssElem.attr("id","notify-"+e.name));h={};g=d(e.html);m("html",g,h);m("text",g,h);return e.fields=h},pluginOptions:C,getStyle:function(a){return v[a]},
insertCSS:p});d(function(){p(".notifyjs-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n.notifyjs-corner .notifyjs-wrapper,\n.notifyjs-corner .notifyjs-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n.notifyjs-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n.notifyjs-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n}\n\n.notifyjs-hidable {\n  cursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n  position: relative;\n}\n\n.notifyjs-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}").attr("id",
"core-notify");d(c).on("click",".notifyjs-hidable",function(){return d(this).trigger("notify-hide")});return d(c).on("notify-hide",".notifyjs-wrapper",function(){var a;return null!=(a=d(this).data("notifyjs"))?a.show(!1):void 0})})})(window,document,jQuery);
$.notify.addStyle("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},
success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},
info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},
warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}});