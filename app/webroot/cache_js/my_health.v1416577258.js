/*
 MIT License (c) copyright B Cavalier & J Hann */
(function(){function f(a,b){var d;a||(a={});for(d in b)a[d]=b[d];return a}function A(){var a,b=arguments,d,e={},g=function(a,b){var d,e;"object"!==typeof a&&(a={});for(e in b)b.hasOwnProperty(e)&&(d=b[e],a[e]=d&&"object"===typeof d&&"[object Array]"!==Object.prototype.toString.call(d)&&"renderTo"!==e&&"number"!==typeof d.nodeType?g(a[e]||{},d):b[e]);return a};!0===b[0]&&(e=b[1],b=Array.prototype.slice.call(b,2));d=b.length;for(a=0;a<d;a++)e=g(e,b[a]);return e}function w(){for(var a=0,b=arguments,
d=b.length,e={};a<d;a++)e[b[a++]]=b[a];return e}function q(a,b){return parseInt(a,b||10)}function c(a){return"string"===typeof a}function p(a){return"object"===typeof a}function y(a){return"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"number"===typeof a}function n(a){return ma.log(a)/ma.LN10}function E(a){return ma.pow(10,a)}function m(a,b){for(var d=a.length;d--;)if(a[d]===b){a.splice(d,1);break}}function k(a){return a!==I&&null!==a}function v(a,b,d){var e,g;if(c(b))k(d)?
a.setAttribute(b,d):a&&a.getAttribute&&(g=a.getAttribute(b));else if(k(b)&&p(b))for(e in b)a.setAttribute(e,b[e]);return g}function H(a){return y(a)?a:[a]}function r(){var a=arguments,b,d,e=a.length;for(b=0;b<e;b++)if(d=a[b],"undefined"!==typeof d&&null!==d)return d}function B(a,b){Va&&(!za&&b&&b.opacity!==I)&&(b.filter="alpha(opacity="+100*b.opacity+")");f(a.style,b)}function l(a,b,d,e,g){a=Q.createElement(a);b&&f(a,b);g&&B(a,{padding:0,border:qa,margin:0});d&&B(a,d);e&&e.appendChild(a);return a}
function s(a,b){var d=function(){};d.prototype=new a;f(d.prototype,b);return d}function M(a,b,d,e){var g=ca.lang,a=+a||0,j=-1===b?(a.toString().split(".")[1]||"").length:isNaN(b=da(b))?2:b,b=void 0===d?g.decimalPoint:d,e=void 0===e?g.thousandsSep:e,g=0>a?"-":"",d=String(q(a=da(a).toFixed(j))),o=3<d.length?d.length%3:0;return g+(o?d.substr(0,o)+e:"")+d.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+e)+(j?b+da(a-d).toFixed(j).slice(2):"")}function N(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function L(a,
b,d){var e=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(e);return d.apply(this,a)}}function ta(a,b){for(var d="{",e=!1,g,j,o,t,C,V=[];-1!==(d=a.indexOf(d));){g=a.slice(0,d);if(e){j=g.split(":");o=j.shift().split(".");C=o.length;g=b;for(t=0;t<C;t++)g=g[o[t]];j.length&&(j=j.join(":"),o=/\.([0-9])/,t=ca.lang,/f$/.test(j)?(C=(C=j.match(o))?C[1]:-1,g=M(g,C,t.decimalPoint,-1<j.indexOf(",")?t.thousandsSep:"")):g=Ka(j,g))}V.push(g);a=a.slice(d+1);d=(e=!e)?"}":"{"}V.push(a);return V.join("")}
function va(a){return ma.pow(10,ja(ma.log(a)/ma.LN10))}function ua(a,b,d,e){var g,d=r(d,1);g=a/d;b||(b=[1,2,2.5,5,10],e&&!1===e.allowDecimals&&(1===d?b=[1,2,5,10]:0.1>=d&&(b=[1/d])));for(e=0;e<b.length&&!(a=b[e],g<=(b[e]+(b[e+1]||b[e]))/2);e++);return a*d}function Wa(){this.symbol=this.color=0}function Fa(a,b){var d=a.length,e,g;for(g=0;g<d;g++)a[g].ss_i=g;a.sort(function(a,d){e=b(a,d);return 0===e?a.ss_i-d.ss_i:e});for(g=0;g<d;g++)delete a[g].ss_i}function wa(a){for(var b=a.length,d=a[0];b--;)a[b]<
d&&(d=a[b]);return d}function na(a){for(var b=a.length,d=a[0];b--;)a[b]>d&&(d=a[b]);return d}function W(a,b){for(var d in a)a[d]&&a[d]!==b&&a[d].destroy&&a[d].destroy(),delete a[d]}function oa(a){nb||(nb=l(ab));a&&nb.appendChild(a);nb.innerHTML=""}function X(a,b){var d="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw d;ka.console&&console.log(d)}function Y(a){return parseFloat(a.toPrecision(14))}function aa(a,b){Ra=r(a,b.animation)}function pa(){var a=ca.global.useUTC,b=a?"getUTC":
"get",d=a?"setUTC":"set";Xa=6E4*(a&&ca.global.timezoneOffset||0);ob=a?Date.UTC:function(a,b,d,o,t,C){return(new Date(a,b,r(d,1),r(o,0),r(t,0),r(C,0))).getTime()};xb=b+"Minutes";yb=b+"Hours";zb=b+"Day";bb=b+"Date";pb=b+"Month";qb=b+"FullYear";Hb=d+"Minutes";Ib=d+"Hours";Ab=d+"Date";Jb=d+"Month";Kb=d+"FullYear"}function z(){}function ra(a,b,d,e){this.axis=a;this.pos=b;this.type=d||"";this.isNew=!0;!d&&!e&&this.addLabel()}function F(){this.init.apply(this,arguments)}function xa(){this.init.apply(this,
arguments)}function Lb(a,b,d,e,g,j){var o=a.chart.inverted;this.axis=a;this.isNegative=d;this.options=b;this.x=e;this.total=null;this.points={};this.stack=g;this.percent="percent"===j;this.alignOptions={align:b.align||(o?d?"left":"right":"center"),verticalAlign:b.verticalAlign||(o?"middle":d?"bottom":"top"),y:r(b.y,o?4:d?14:-6),x:r(b.x,o?d?-6:6:0)};this.textAlign=b.textAlign||(o?d?"right":"left":"center")}function Sa(a){var b=a.options,d=b.navigator,e=d.enabled,b=b.scrollbar,g=b.enabled,j=e?d.height:
0,o=g?b.height:0;this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=a;this.setBaseSeries();this.height=j;this.scrollbarHeight=o;this.scrollbarEnabled=g;this.navigatorEnabled=e;this.navigatorOptions=d;this.scrollbarOptions=b;this.outlineHeight=j+o;this.init()}function cb(a){this.init(a)}var I,Q=document,ka=window,ma=Math,J=ma.round,ja=ma.floor,db=ma.ceil,K=ma.max,P=ma.min,da=ma.abs,Aa=ma.cos,Ca=ma.sin,Ha=ma.PI,Ya=2*Ha/360,Ta=navigator.userAgent,Mb=ka.opera,Va=/msie/i.test(Ta)&&
!Mb,rb=8===Q.documentMode,sb=/AppleWebKit/.test(Ta),gb=/Firefox/.test(Ta),ib=/(Mobile|Android|Windows Phone)/.test(Ta),Za="http://www.w3.org/2000/svg",za=!!Q.createElementNS&&!!Q.createElementNS(Za,"svg").createSVGRect,Sb=gb&&4>parseInt(Ta.split("Firefox/")[1],10),Da=!za&&!Va&&!!Q.createElement("canvas").getContext,eb,hb,Nb={},Bb=0,nb,ca,Ka,Ra,Cb,T,La=function(){},Ba=[],ab="div",qa="none",Tb=/^[0-9]+$/,Ob="stroke-width",ob,Xa,xb,yb,zb,bb,pb,qb,Hb,Ib,Ab,Jb,Kb,U={},ha=ka.Highcharts=ka.Highcharts?X(16,
!0):{};Ka=function(a,b,d){if(!k(b)||isNaN(b))return"Invalid date";var a=r(a,"%Y-%m-%d %H:%M:%S"),e=new Date(b-Xa),g,j=e[yb](),o=e[zb](),t=e[bb](),C=e[pb](),V=e[qb](),u=ca.lang,c=u.weekdays,e=f({a:c[o].substr(0,3),A:c[o],d:N(t),e:t,b:u.shortMonths[C],B:u.months[C],m:N(C+1),y:V.toString().substr(2,2),Y:V,H:N(j),I:N(j%12||12),l:j%12||12,M:N(e[xb]()),p:12>j?"AM":"PM",P:12>j?"am":"pm",S:N(e.getSeconds()),L:N(J(b%1E3),3)},ha.dateFormats);for(g in e)for(;-1!==a.indexOf("%"+g);)a=a.replace("%"+g,"function"===
typeof e[g]?e[g](b):e[g]);return d?a.substr(0,1).toUpperCase()+a.substr(1):a};Wa.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}};T=w("millisecond",1,"second",1E3,"minute",6E4,"hour",36E5,"day",864E5,"week",6048E5,"month",26784E5,"year",31556952E3);Cb={init:function(a,b,d){var b=b||"",e=a.shift,g=-1<b.indexOf("C"),j=g?7:3,o,b=b.split(" "),d=[].concat(d),t,C,V=function(a){for(o=a.length;o--;)"M"===a[o]&&a.splice(o+1,0,a[o+1],a[o+
2],a[o+1],a[o+2])};g&&(V(b),V(d));a.isArea&&(t=b.splice(b.length-6,6),C=d.splice(d.length-6,6));if(e<=d.length/j&&b.length===d.length)for(;e--;)d=[].concat(d).splice(0,j).concat(d);a.shift=0;if(b.length)for(a=d.length;b.length<a;)e=[].concat(b).splice(b.length-j,j),g&&(e[j-6]=e[j-2],e[j-5]=e[j-1]),b=b.concat(e);t&&(b=b.concat(t),d=d.concat(C));return[b,d]},step:function(a,b,d,e){var g=[],j=a.length;if(1===d)g=e;else if(j===b.length&&1>d)for(;j--;)e=parseFloat(a[j]),g[j]=isNaN(e)?a[j]:d*parseFloat(b[j]-
e)+e;else g=b;return g}};var sa=ka.jQuery;ka.HighchartsAdapter=ka.HighchartsAdapter||sa&&{init:function(a){var b=sa.fx,d=b.step,e,g=sa.Tween,j=g&&g.propHooks;e=sa.cssHooks.opacity;sa.extend(sa.easing,{easeOutQuad:function(a,b,d,e,g){return-e*(b/=g)*(b-2)+d}});sa.each(["cur","_default","width","height","opacity"],function(a,e){var C=d,V;"cur"===e?C=b.prototype:"_default"===e&&g&&(C=j[e],e="set");(V=C[e])&&(C[e]=function(b){var d,b=a?b:this;if("align"!==b.prop)return d=b.elem,d.attr?d.attr(b.prop,"cur"===
e?I:b.now):V.apply(this,arguments)})});L(e,"get",function(a,b,d){return b.attr?b.opacity||0:a.call(this,b,d)});e=function(b){var d=b.elem,e;b.started||(e=a.init(d,d.d,d.toD),b.start=e[0],b.end=e[1],b.started=!0);d.attr("d",a.step(b.start,b.end,b.pos,d.toD))};g?j.d={set:e}:d.d=e;this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){for(var d=0,e=a.length;d<e;d++)if(!1===b.call(a[d],a[d],d,a))return d};sa.fn.highcharts=function(){var a="Chart",b=arguments,
d,e;c(b[0])&&(a=b[0],b=Array.prototype.slice.call(b,1));d=b[0];d!==I&&(d.chart=d.chart||{},d.chart.renderTo=this[0],new ha[a](d,b[1]),e=this);d===I&&(e=Ba[v(this[0],"data-highcharts-chart")]);return e}},getScript:sa.getScript,inArray:sa.inArray,adapterRun:function(a,b){return sa(a)[b]()},grep:sa.grep,map:function(a,b){for(var d=[],e=0,g=a.length;e<g;e++)d[e]=b.call(a[e],a[e],e,a);return d},offset:function(a){return sa(a).offset()},addEvent:function(a,b,d){sa(a).bind(b,d)},removeEvent:function(a,b,
d){var e=Q.removeEventListener?"removeEventListener":"detachEvent";Q[e]&&a&&!a[e]&&(a[e]=function(){});sa(a).unbind(b,d)},fireEvent:function(a,b,d,e){var g=sa.Event(b),j="detached"+b,o;!Va&&d&&(delete d.layerX,delete d.layerY);f(g,d);a[b]&&(a[j]=a[b],a[b]=null);sa.each(["preventDefault","stopPropagation"],function(a,b){var d=g[b];g[b]=function(){try{d.call(g)}catch(a){"preventDefault"===b&&(o=!0)}}});sa(a).trigger(g);a[j]&&(a[b]=a[j],a[j]=null);e&&!g.isDefaultPrevented()&&!o&&e(g)},washMouseEvent:function(a){var b=
a.originalEvent||a;b.pageX===I&&(b.pageX=a.pageX,b.pageY=a.pageY);return b},animate:function(a,b,d){var e=sa(a);a.style||(a.style={});b.d&&(a.toD=b.d,b.d=1);e.stop();b.opacity!==I&&a.attr&&(b.opacity+="px");e.animate(b,d)},stop:function(a){sa(a).stop()}};var fa=ka.HighchartsAdapter,ea=fa||{};fa&&fa.init.call(fa,Cb);var tb=ea.adapterRun,Ub=ea.getScript,Ma=ea.inArray,D=ea.each,Db=ea.grep,Vb=ea.offset,Na=ea.map,R=ea.addEvent,ia=ea.removeEvent,ga=ea.fireEvent,Wb=ea.washMouseEvent,ub=ea.animate,jb=ea.stop,
ea={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};ca={colors:"#2f7ed8 #0d233a #8bbc21 #910000 #1aadce #492970 #f28f43 #77a1e5 #c42525 #a6c96a".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.3.10/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.3.10/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},
position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:A(ea,{align:"center",enabled:!1,
formatter:function(){return null===this.y?"":M(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#274b6d",fontSize:"12px"},
itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:za,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",
second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:ib?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",
position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var la=ca.plotOptions,fa=la.line;pa();var Xb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Yb=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Zb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ua=function(a){var b=[],d,e;a&&a.stops?e=Na(a.stops,function(a){return Ua(a[1])}):(d=Xb.exec(a))?b=[q(d[1]),q(d[2]),q(d[3]),
parseFloat(d[4],10)]:(d=Yb.exec(a))?b=[q(d[1],16),q(d[2],16),q(d[3],16),1]:(d=Zb.exec(a))&&(b=[q(d[1]),q(d[2]),q(d[3]),1]);return{get:function(d){var j;e?(j=A(a),j.stops=[].concat(j.stops),D(e,function(a,b){j.stops[b]=[j.stops[b][0],a.get(d)]})):j=b&&!isNaN(b[0])?"rgb"===d?"rgb("+b[0]+","+b[1]+","+b[2]+")":"a"===d?b[3]:"rgba("+b.join(",")+")":a;return j},brighten:function(a){if(e)D(e,function(b){b.brighten(a)});else if(h(a)&&0!==a){var d;for(d=0;3>d;d++)b[d]+=q(255*a),0>b[d]&&(b[d]=0),255<b[d]&&(b[d]=
255)}return this},rgba:b,setOpacity:function(a){b[3]=a;return this}}};z.prototype={init:function(a,b){this.element="span"===b?l(b):Q.createElementNS(Za,b);this.renderer=a;this.attrSetters={}},opacity:1,animate:function(a,b,d){b=r(b,Ra,!0);jb(this);b?(b=A(b,{}),d&&(b.complete=d),ub(this,a,b)):(this.attr(a),d&&d())},attr:function(a,b){var d,e,g,j,o=this.element,t=o.nodeName.toLowerCase(),C=this.renderer,V,u=this.attrSetters,f=this.shadows,G,O,S=this;c(a)&&k(b)&&(d=a,a={},a[d]=b);if(c(a))d=a,"circle"===
t?d={x:"cx",y:"cy"}[d]||d:"strokeWidth"===d&&(d="stroke-width"),S=v(o,d)||this[d]||0,"d"!==d&&"visibility"!==d&&"fill"!==d&&(S=parseFloat(S));else{for(d in a)if(V=!1,e=a[d],g=u[d]&&u[d].call(this,e,d),!1!==g){g!==I&&(e=g);if("d"===d)e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0");else if("x"===d&&"text"===t)for(g=0;g<o.childNodes.length;g++)j=o.childNodes[g],v(j,"x")===v(o,"x")&&v(j,"x",e);else if(this.rotation&&("x"===d||"y"===d))O=!0;else if("fill"===d)e=C.color(e,o,d);else if("circle"===
t&&("x"===d||"y"===d))d={x:"cx",y:"cy"}[d]||d;else if("rect"===t&&"r"===d)v(o,{rx:e,ry:e}),V=!0;else if("translateX"===d||"translateY"===d||"rotation"===d||"verticalAlign"===d||"scaleX"===d||"scaleY"===d)V=O=!0;else if("stroke"===d)e=C.color(e,o,d);else if("dashstyle"===d)if(d="stroke-dasharray",e=e&&e.toLowerCase(),"solid"===e)e=qa;else{if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,
"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(g=e.length;g--;)e[g]=q(e[g])*r(a["stroke-width"],this["stroke-width"]);e=e.join(",")}}else"width"===d?e=q(e):"align"===d?(d="text-anchor",e={left:"start",center:"middle",right:"end"}[e]):"title"===d&&((g=o.getElementsByTagName("title")[0])||(g=Q.createElementNS(Za,"title"),o.appendChild(g)),g.textContent=e);"strokeWidth"===d&&(d="stroke-width");if("stroke-width"===d||"stroke"===d)this[d]=e,this.stroke&&this["stroke-width"]?(v(o,"stroke",
this.stroke),v(o,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===d&&(0===e&&this.hasStroke)&&(o.removeAttribute("stroke"),this.hasStroke=!1),V=!0;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(d)&&(G||(this.symbolAttr(a),G=!0),V=!0);if(f&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d))for(g=f.length;g--;)v(f[g],d,"height"===d?K(e-(f[g].cutHeight||0),0):e);if(("width"===d||"height"===d)&&"rect"===t&&0>e)e=0;this[d]=e;"text"===
d?e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&C.buildText(this)):V||void 0!==e&&o.setAttribute(d,e)}O&&this.updateTransform()}return S},addClass:function(a){var b=this.element,d=v(b,"class")||"";-1===d.indexOf(a)&&v(b,"class",d+" "+a);return this},symbolAttr:function(a){var b=this;D("x y r start end width height innerR anchorX anchorY".split(" "),function(d){b[d]=r(a[d],b[d])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",
a?"url("+this.renderer.url+"#"+a.id+")":qa)},crisp:function(a){var b,d={},e,g=a.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;e=J(g)%2/2;a.x=ja(a.x||this.x||0)+e;a.y=ja(a.y||this.y||0)+e;a.width=ja((a.width||this.width||0)-2*e);a.height=ja((a.height||this.height||0)-2*e);a.strokeWidth=g;for(b in a)this[b]!==a[b]&&(this[b]=d[b]=a[b]);return d},css:function(a){var b=this.styles,d={},e=this.element,g,j,o="";g=!b;a&&a.color&&(a.fill=a.color);if(b)for(j in a)a[j]!==b[j]&&(d[j]=
a[j],g=!0);if(g){g=this.textWidth=a&&a.width&&"text"===e.nodeName.toLowerCase()&&q(a.width);b&&(a=f(b,d));this.styles=a;g&&(Da||!za&&this.renderer.forExport)&&delete a.width;if(Va&&!za)B(this.element,a);else{b=function(a,b){return"-"+b.toLowerCase()};for(j in a)o+=j.replace(/([A-Z])/g,b)+":"+a[j]+";";v(e,"style",o)}g&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var d=this,e=d.element;hb&&"click"===a?(e.ontouchstart=function(a){d.touchEventFired=Date.now();a.preventDefault();
b.call(e,a)},e.onclick=function(a){(-1===Ta.indexOf("Android")||1100<Date.now()-(d.touchEventFired||0))&&b.call(e,a)}):e["on"+a]=b;return this},setRadialReference:function(a){this.element.radialReference=a;return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,d=this.scaleX,e=this.scaleY,g=this.inverted,j=this.rotation;g&&(a+=
this.attr("width"),b+=this.attr("height"));a=["translate("+a+","+b+")"];g?a.push("rotate(90) scale(-1,1)"):j&&a.push("rotate("+j+" "+(this.x||0)+" "+(this.y||0)+")");(k(d)||k(e))&&a.push("scale("+r(d,1)+" "+r(e,1)+")");a.length&&v(this.element,"transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,b,d){var e,g,j,o,t={};g=this.renderer;j=g.alignedObjects;if(a){if(this.alignOptions=a,this.alignByTranslate=b,!d||c(d))this.alignTo=e=d||
"renderer",m(j,this),j.push(this),d=null}else a=this.alignOptions,b=this.alignByTranslate,e=this.alignTo;d=r(d,g[e],g);e=a.align;g=a.verticalAlign;j=(d.x||0)+(a.x||0);o=(d.y||0)+(a.y||0);if("right"===e||"center"===e)j+=(d.width-(a.width||0))/{right:1,center:2}[e];t[b?"translateX":"x"]=J(j);if("bottom"===g||"middle"===g)o+=(d.height-(a.height||0))/({bottom:1,middle:2}[g]||1);t[b?"translateY":"y"]=J(o);this[this.placed?"animate":"attr"](t);this.placed=!0;this.alignAttr=t;return this},getBBox:function(){var a=
this.bBox,b=this.renderer,d,e,g=this.rotation;d=this.element;var j=this.styles,o=g*Ya;e=this.textStr;var t;if(""===e||Tb.test(e))t=e.toString().length+(j?"|"+j.fontSize+"|"+j.fontFamily:""),a=b.cache[t];if(!a){if(d.namespaceURI===Za||b.forExport){try{a=d.getBBox?f({},d.getBBox()):{width:d.offsetWidth,height:d.offsetHeight}}catch(C){}if(!a||0>a.width)a={width:0,height:0}}else a=this.htmlGetBBox();if(b.isSVG&&(d=a.width,e=a.height,Va&&(j&&"11px"===j.fontSize&&"16.9"===e.toPrecision(3))&&(a.height=e=
14),g))a.width=da(e*Ca(o))+da(d*Aa(o)),a.height=da(e*Aa(o))+da(d*Ca(o));this.bBox=a;t&&(b.cache[t]=a)}return a},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b=this.renderer,d=a||b,e=d.element||b.box,g=this.element,j=this.zIndex,o,t;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==
this.textStr&&b.buildText(this);j&&(d.handleZ=!0,j=q(j));if(d.handleZ){a=e.childNodes;for(o=0;o<a.length;o++)if(b=a[o],d=v(b,"zIndex"),b!==g&&(q(d)>j||!k(j)&&k(d))){e.insertBefore(g,b);t=!0;break}}t||e.appendChild(g);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a=this,b=a.element||{},d=a.shadows,e=a.renderer.isSVG&&"SPAN"===b.nodeName&&a.parentGroup,g,j;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=
b.point=null;jb(a);a.clipPath&&(a.clipPath=a.clipPath.destroy());if(a.stops){for(j=0;j<a.stops.length;j++)a.stops[j]=a.stops[j].destroy();a.stops=null}a.safeRemoveChild(b);for(d&&D(d,function(b){a.safeRemoveChild(b)});e&&0===e.div.childNodes.length;)b=e.parentGroup,a.safeRemoveChild(e.div),delete e.div,e=b;a.alignTo&&m(a.renderer.alignedObjects,a);for(g in a)delete a[g];return null},shadow:function(a,b,d){var e=[],g,j,o=this.element,t,C,V,u;if(a){C=r(a.width,3);V=(a.opacity||0.15)/C;u=this.parentInverted?
"(-1,-1)":"("+r(a.offsetX,1)+", "+r(a.offsetY,1)+")";for(g=1;g<=C;g++)j=o.cloneNode(0),t=2*C+1-2*g,v(j,{isShadow:"true",stroke:a.color||"black","stroke-opacity":V*g,"stroke-width":t,transform:"translate"+u,fill:qa}),d&&(v(j,"height",K(v(j,"height")-t,0)),j.cutHeight=t),b?b.element.appendChild(j):o.parentNode.insertBefore(j,o),e.push(j);this.shadows=e}return this}};var Ea=function(){this.init.apply(this,arguments)};Ea.prototype={Element:z,init:function(a,b,d,e,g){var j=location,o,e=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(e));
o=e.element;a.appendChild(o);-1===a.innerHTML.indexOf("xmlns")&&v(o,"xmlns",Za);this.isSVG=!0;this.box=o;this.boxWrapper=e;this.alignedObjects=[];this.url=(gb||sb)&&Q.getElementsByTagName("base").length?j.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(Q.createTextNode("Created with Highstock 1.3.10"));this.defs=this.createElement("defs").add();this.forExport=g;this.gradients={};this.cache={};this.setSize(b,d,!1);var t;
gb&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){B(a,{left:0,top:0});t=a.getBoundingClientRect();B(a,{left:db(t.left)-t.left+"px",top:db(t.top)-t.top+"px"})},b(),R(ka,"resize",b))},getStyle:function(a){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();W(this.gradients||
{});this.gradients=null;a&&(this.defs=a.destroy());this.subPixelFix&&ia(ka,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},buildText:function(a){for(var b=a.element,d=this,e=d.forExport,g=r(a.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),
j=b.childNodes,o=/<.*style="([^"]+)".*>/,t=/<.*href="(http[^"]+)".*>/,C=v(b,"x"),V=a.styles,u=a.textWidth,c=V&&V.lineHeight,f=j.length,O=function(a){return c?q(c):d.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:V.fontSize||11).h};f--;)b.removeChild(j[f]);u&&!a.added&&this.box.appendChild(b);""===g[g.length-1]&&g.pop();D(g,function(g,j){var c,f=0,g=g.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=g.split("|||");D(c,function(g){if(""!==g||1===c.length){var ba={},
G=Q.createElementNS(Za,"tspan"),k;o.test(g)&&(k=g.match(o)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),v(G,"style",k));t.test(g)&&!e&&(v(G,"onclick",'location.href="'+g.match(t)[1]+'"'),B(G,{cursor:"pointer"}));g=(g.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==g&&(G.appendChild(Q.createTextNode(g)),f?ba.dx=0:ba.x=C,v(G,ba),!f&&j&&(!za&&e&&B(G,{display:"block"}),v(G,"dy",O(G),sb&&G.offsetHeight)),b.appendChild(G),f++,u))for(var g=g.replace(/([^\^])-/g,"$1- ").split(" "),
ba=1<g.length&&"nowrap"!==V.whiteSpace,S,h,l=a._clipHeight,r=[],m=O(),z=1;ba&&(g.length||r.length);)delete a.bBox,S=a.getBBox(),h=S.width,!za&&d.forExport&&(h=d.measureSpanWidth(G.firstChild.data,a.styles)),S=h>u,!S||1===g.length?(g=r,r=[],g.length&&(z++,l&&z*m>l?(g=["..."],a.attr("title",a.textStr)):(G=Q.createElementNS(Za,"tspan"),v(G,{dy:m,x:C}),k&&v(G,"style",k),b.appendChild(G),h>u&&(u=h)))):(G.removeChild(G.firstChild),r.unshift(g.pop())),g.length&&G.appendChild(Q.createTextNode(g.join(" ").replace(/- /g,
"-")))}})})},button:function(a,b,d,e,g,j,o,t,C){var c=this.label(a,b,d,C,null,null,null,null,"button"),u=0,ba,G,k,S,h,l,a={x1:0,y1:0,x2:0,y2:1},g=A({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:a,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},g);k=g.style;delete g.style;j=A(g,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#FFF"],[1,"#ACF"]]}},j);S=j.style;delete j.style;o=A(g,{stroke:"#68A",fill:{linearGradient:a,stops:[[0,"#9BD"],[1,"#CDF"]]}},o);h=o.style;
delete o.style;t=A(g,{style:{color:"#CCC"}},t);l=t.style;delete t.style;R(c.element,Va?"mouseover":"mouseenter",function(){3!==u&&c.attr(j).css(S)});R(c.element,Va?"mouseout":"mouseleave",function(){3!==u&&(ba=[g,j,o][u],G=[k,S,h][u],c.attr(ba).css(G))});c.setState=function(a){(c.state=u=a)?2===a?c.attr(o).css(h):3===a&&c.attr(t).css(l):c.attr(g).css(k)};return c.on("click",function(){3!==u&&e.call(c)}).attr(g).css(f({cursor:"default"},k))},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=J(a[1])-
b%2/2);a[2]===a[5]&&(a[2]=a[5]=J(a[2])+b%2/2);return a},path:function(a){var b={fill:qa};y(a)?b.d=a:p(a)&&f(b,a);return this.createElement("path").attr(b)},circle:function(a,b,d){a=p(a)?a:{x:a,y:b,r:d};return this.createElement("circle").attr(a)},arc:function(a,b,d,e,g,j){p(a)&&(b=a.y,d=a.r,e=a.innerR,g=a.start,j=a.end,a=a.x);a=this.symbol("arc",a||0,b||0,d||0,d||0,{innerR:e||0,start:g||0,end:j||0});a.r=d;return a},rect:function(a,b,d,e,g,j){var g=p(a)?a.r:g,o=this.createElement("rect"),a=p(a)?a:
a===I?{}:{x:a,y:b,width:K(d,0),height:K(e,0)};j!==I&&(a.strokeWidth=j,a=o.crisp(a));g&&(a.r=g);return o.attr(a)},setSize:function(a,b,d){var e=this.alignedObjects,g=e.length;this.width=a;this.height=b;for(this.boxWrapper[r(d,!0)?"animate":"attr"]({width:a,height:b});g--;)e[g].align()},g:function(a){var b=this.createElement("g");return k(a)?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,d,e,g){var j={preserveAspectRatio:qa};1<arguments.length&&f(j,{x:b,y:d,width:e,height:g});j=this.createElement("image").attr(j);
j.element.setAttributeNS?j.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):j.element.setAttribute("hc-svg-href",a);return j},symbol:function(a,b,d,e,g,j){var o,t=this.symbols[a],t=t&&t(J(b),J(d),e,g,j),C=/^url\((.*?)\)$/,c,u;t?(o=this.path(t),f(o,{symbolName:a,x:b,y:d,width:e,height:g}),j&&f(o,j)):C.test(a)&&(u=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(J((e-b[0])/2),J((g-b[1])/2)))},c=a.match(C)[1],a=Nb[c],o=this.image(c).attr({x:b,
y:d}),o.isImg=!0,a?u(o,a):(o.attr({width:0,height:0}),l("img",{onload:function(){u(o,Nb[c]=[this.width,this.height])},src:c})));return o},symbols:{circle:function(a,b,d,e){var g=0.166*d;return["M",a+d/2,b,"C",a+d+g,b,a+d+g,b+e,a+d/2,b+e,"C",a-g,b+e,a-g,b,a+d/2,b,"Z"]},square:function(a,b,d,e){return["M",a,b,"L",a+d,b,a+d,b+e,a,b+e,"Z"]},triangle:function(a,b,d,e){return["M",a+d/2,b,"L",a+d,b+e,a,b+e,"Z"]},"triangle-down":function(a,b,d,e){return["M",a,b,"L",a+d,b,a+d/2,b+e,"Z"]},diamond:function(a,
b,d,e){return["M",a+d/2,b,"L",a+d,b+e/2,a+d/2,b+e,a,b+e/2,"Z"]},arc:function(a,b,d,e,g){var j=g.start,d=g.r||d||e,o=g.end-0.001,e=g.innerR,t=g.open,C=Aa(j),c=Ca(j),u=Aa(o),o=Ca(o),g=g.end-j<Ha?0:1;return["M",a+d*C,b+d*c,"A",d,d,0,g,1,a+d*u,b+d*o,t?"M":"L",a+e*u,b+e*o,"A",e,e,0,g,0,a+e*C,b+e*c,t?"":"Z"]}},clipRect:function(a,b,d,e){var g="highcharts-"+Bb++,j=this.createElement("clipPath").attr({id:g}).add(this.defs),a=this.rect(a,b,d,e,0).add(j);a.id=g;a.clipPath=j;return a},color:function(a,b,d){var e=
this,g,j=/^rgba/,o,t,C,c,u,f,G,O=[];a&&a.linearGradient?o="linearGradient":a&&a.radialGradient&&(o="radialGradient");if(o){d=a[o];t=e.gradients;c=a.stops;b=b.radialReference;y(d)&&(a[o]=d={x1:d[0],y1:d[1],x2:d[2],y2:d[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===o&&b&&!k(d.gradientUnits)&&(d=A(d,{cx:b[0]-b[2]/2+d.cx*b[2],cy:b[1]-b[2]/2+d.cy*b[2],r:d.r*b[2],gradientUnits:"userSpaceOnUse"}));for(G in d)"id"!==G&&O.push(G,d[G]);for(G in c)O.push(c[G]);O=O.join(",");t[O]?a=t[O].id:(d.id=a="highcharts-"+
Bb++,t[O]=C=e.createElement(o).attr(d).add(e.defs),C.stops=[],D(c,function(a){j.test(a[1])?(g=Ua(a[1]),u=g.get("rgb"),f=g.get("a")):(u=a[1],f=1);a=e.createElement("stop").attr({offset:a[0],"stop-color":u,"stop-opacity":f}).add(C);C.stops.push(a)}));return"url("+e.url+"#"+a+")"}return j.test(a)?(g=Ua(a),v(b,d+"-opacity",g.get("a")),g.get("rgb")):(b.removeAttribute(d+"-opacity"),a)},text:function(a,b,d,e){var g=Da||!za&&this.forExport;if(e&&!this.forExport)return this.html(a,b,d);b=J(r(b,0));d=J(r(d,
0));a=this.createElement("text").attr({x:b,y:d,text:a});g&&a.css({position:"absolute"});a.x=b;a.y=d;return a},fontMetrics:function(a){var a=a||this.style.fontSize,a=/px/.test(a)?q(a):/em/.test(a)?12*parseFloat(a):12,a=24>a?a+4:J(1.2*a),b=J(0.8*a);return{h:a,b:b}},label:function(a,b,d,e,g,j,o,t,C){function c(){var a,b;a=S.element.style;l=(void 0===p||void 0===n||O.styles.textAlign)&&S.textStr&&S.getBBox();O.width=(p||l.width||0)+2*m+s;O.height=(n||l.height||0)+2*m;E=m+G.fontMetrics(a&&a.fontSize).b;
B&&(h||(a=J(-r*m),b=t?-E:0,O.box=h=e?G.symbol(e,a,b,O.width,O.height,v):G.rect(a,b,O.width,O.height,0,v[Ob]),h.attr("fill",qa).add(O)),h.isImg||h.attr(A({width:O.width,height:O.height},v)),v=null)}function u(){var a=O.styles,a=a&&a.textAlign,b=s+m*(1-r),d;d=t?0:E;if(k(p)&&l&&("center"===a||"right"===a))b+={center:0.5,right:1}[a]*(p-l.width);(b!==S.x||d!==S.y)&&S.attr({x:b,y:d});S.x=b;S.y=d}function ba(a,b){h?h.attr(a,b):v[a]=b}var G=this,O=G.g(C),S=G.text("",0,0,o).attr({zIndex:1}),h,l,r=0,m=3,s=
0,p,n,F,y,q=0,v={},E,o=O.attrSetters,B;O.onAdd=function(){S.add(O);O.attr({text:a,x:b,y:d});h&&k(g)&&O.attr({anchorX:g,anchorY:j})};o.width=function(a){p=a;return!1};o.height=function(a){n=a;return!1};o.padding=function(a){k(a)&&a!==m&&(m=a,u());return!1};o.paddingLeft=function(a){k(a)&&a!==s&&(s=a,u());return!1};o.align=function(a){r={left:0,center:0.5,right:1}[a];return!1};o.text=function(a,b){S.attr(b,a);c();u();return!1};o[Ob]=function(a,b){a&&(B=!0);q=a%2/2;ba(b,a);return!1};o.stroke=o.fill=
o.r=function(a,b){"fill"===b&&a&&(B=!0);ba(b,a);return!1};o.anchorX=function(a,b){g=a;ba(b,a+q-F);return!1};o.anchorY=function(a,b){j=a;ba(b,a-y);return!1};o.x=function(a){O.x=a;a-=r*((p||l.width)+m);F=J(a);O.attr("translateX",F);return!1};o.y=function(a){y=O.y=J(a);O.attr("translateY",y);return!1};var ra=O.css;return f(O,{css:function(a){if(a){var b={},a=A(a);D("fontSize fontWeight fontFamily color lineHeight width textDecoration textShadow".split(" "),function(d){a[d]!==I&&(b[d]=a[d],delete a[d])});
S.css(b)}return ra.call(O,a)},getBBox:function(){return{width:l.width+2*m,height:l.height+2*m,x:l.x-m,y:l.y-m}},shadow:function(a){h&&h.shadow(a);return O},destroy:function(){ia(O.element,"mouseenter");ia(O.element,"mouseleave");S&&(S=S.destroy());h&&(h=h.destroy());z.prototype.destroy.call(O);O=G=c=u=ba=null}})}};eb=Ea;f(z.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();this.styles=f(this.styles,a);B(this.element,
a);return this},htmlGetBBox:function(){var a=this.element,b=this.bBox;b||("text"===a.nodeName&&(a.style.position="absolute"),b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight});return b},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,d=this.translateX||0,e=this.translateY||0,g=this.x||0,j=this.y||0,o=this.textAlign||"left",t={left:0,center:0.5,right:1}[o],C=this.shadows;B(b,{marginLeft:d,marginTop:e});C&&D(C,function(a){B(a,{marginLeft:d+
1,marginTop:e+1})});this.inverted&&D(b.childNodes,function(d){a.invertChild(d,b)});if("SPAN"===b.tagName){var c=this.rotation,u,f=q(this.textWidth),G=[c,o,b.innerHTML,this.textWidth].join();if(G!==this.cTT){u=a.fontMetrics(b.style.fontSize).b;k(c)&&this.setSpanRotation(c,t,u);C=r(this.elemWidth,b.offsetWidth);if(C>f&&/[ \-]/.test(b.textContent||b.innerText))B(b,{width:f+"px",display:"block",whiteSpace:"normal"}),C=f;this.getSpanCorrection(C,u,t,c,o)}B(b,{left:g+(this.xCorr||0)+"px",top:j+(this.yCorr||
0)+"px"});sb&&(u=b.offsetHeight);this.cTT=G}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,d){var e={},g=Va?"-ms-transform":sb?"-webkit-transform":gb?"MozTransform":Mb?"-o-transform":"";e[g]=e.transform="rotate("+a+"deg)";e[g+(gb?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+d+"px";B(this.element,e)},getSpanCorrection:function(a,b,d){this.xCorr=-a*d;this.yCorr=-b}});f(Ea.prototype,{html:function(a,b,d){var e=this.createElement("span"),g=e.attrSetters,j=e.element,o=e.renderer;g.text=function(a){a!==
j.innerHTML&&delete this.bBox;j.innerHTML=this.textStr=a;return!1};g.x=g.y=g.align=g.rotation=function(a,b){"align"===b&&(b="textAlign");e[b]=a;e.htmlUpdateTransform();return!1};e.attr({text:a,x:J(b),y:J(d)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});e.css=e.htmlCss;o.isSVG&&(e.add=function(a){var b,d=o.box.parentNode,g=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)g.push(a),a=a.parentGroup;D(g.reverse(),function(a){var e;b=a.div=
a.div||l(ab,{className:v(a.element,"class")},{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px"},b||d);e=b.style;f(a.attrSetters,{translateX:function(a){e.left=a+"px"},translateY:function(a){e.top=a+"px"},visibility:function(a,b){e[b]=a}})})}}else b=d;b.appendChild(j);e.added=!0;e.alignOnAdd&&e.htmlUpdateTransform();return e});return e}});var kb,Ia;!za&&!Da&&(ha.VMLElement=Ia={init:function(a,b){var d=["<",b,' filled="f" stroked="f"'],e=["position: ","absolute",";"],g=b===
ab;("shape"===b||g)&&e.push("left:0;top:0;width:1px;height:1px;");e.push("visibility: ",g?"hidden":"visible");d.push(' style="',e.join(""),'"/>');b&&(d=g||"span"===b||"img"===b?d.join(""):a.prepVML(d),this.element=l(d));this.renderer=a;this.attrSetters={}},add:function(a){var b=this.renderer,d=this.element,e=b.box,e=a?a.element||a:e;a&&a.inverted&&b.invertChild(d,e);e.appendChild(d);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();return this},
updateTransform:z.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=Aa(a*Ya),d=Ca(a*Ya);B(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-d,", M21=",d,", M22=",b,", sizingMethod='auto expand')"].join(""):qa})},getSpanCorrection:function(a,b,d,e,g){var j=e?Aa(e*Ya):1,o=e?Ca(e*Ya):0,t=r(this.elemHeight,this.element.offsetHeight),C;this.xCorr=0>j&&-a;this.yCorr=0>o&&-t;C=0>j*o;this.xCorr+=o*b*(C?1-d:d);this.yCorr-=j*b*(e?C?d:1-d:1);g&&
"left"!==g&&(this.xCorr-=a*d*(0>j?-1:1),e&&(this.yCorr-=t*d*(0>o?-1:1)),B(this.element,{textAlign:g}))},pathToVML:function(a){for(var b=a.length,d=[];b--;)if(h(a[b]))d[b]=J(10*a[b])-5;else if("Z"===a[b])d[b]="x";else if(d[b]=a[b],a.isArc&&("wa"===a[b]||"at"===a[b]))d[b+5]===d[b+7]&&(d[b+7]+=a[b+7]>a[b+5]?1:-1),d[b+6]===d[b+8]&&(d[b+8]+=a[b+8]>a[b+6]?1:-1);return d.join(" ")||"x"},attr:function(a,b){var d,e,g,j=this.element||{},o=j.style,t=j.nodeName,C=this.renderer,V=this.symbolName,u,f=this.shadows,
G,O=this.attrSetters,S=this;c(a)&&k(b)&&(d=a,a={},a[d]=b);if(c(a))d=a,S="strokeWidth"===d||"stroke-width"===d?this.strokeweight:this[d];else for(d in a)if(e=a[d],G=!1,g=O[d]&&O[d].call(this,e,d),!1!==g&&null!==e){g!==I&&(e=g);if(V&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(d))u||(this.symbolAttr(a),u=!0),G=!0;else if("d"===d){e=e||[];this.d=e.join(" ");j.path=e=this.pathToVML(e);if(f)for(g=f.length;g--;)f[g].path=f[g].cutOff?this.cutOffPath(e,f[g].cutOff):e;G=!0}else if("visibility"===
d){"inherit"===e&&(e="visible");if(f)for(g=f.length;g--;)f[g].style[d]=e;"DIV"===t&&(e="hidden"===e?"-999em":0,rb||(o[d]=e?"visible":"hidden"),d="top");o[d]=e;G=!0}else if("zIndex"===d)e&&(o[d]=e),G=!0;else if(-1!==Ma(d,["x","y","width","height"]))this[d]=e,"x"===d||"y"===d?d={x:"left",y:"top"}[d]:e=K(0,e),this.updateClipping?(this[d]=e,this.updateClipping()):o[d]=e,G=!0;else if("class"===d&&"DIV"===t)j.className=e;else if("stroke"===d)e=C.color(e,j,d),d="strokecolor";else if("stroke-width"===d||
"strokeWidth"===d)j.stroked=e?!0:!1,d="strokeweight",this[d]=e,h(e)&&(e+="px");else if("dashstyle"===d)(j.getElementsByTagName("stroke")[0]||l(C.prepVML(["<stroke/>"]),null,null,j))[d]=e||"solid",this.dashstyle=e,G=!0;else if("fill"===d)"SPAN"===t?o.color=e:"IMG"!==t&&(j.filled=e!==qa?!0:!1,e=C.color(e,j,d,this),d="fillcolor");else if("opacity"===d)G=!0;else if("shape"===t&&"rotation"===d)this[d]=j.style[d]=e,j.style.left=-J(Ca(e*Ya)+1)+"px",j.style.top=J(Aa(e*Ya))+"px";else if("translateX"===d||
"translateY"===d||"rotation"===d)this[d]=e,this.updateTransform(),G=!0;G||(rb?j[d]=e:v(j,d,e))}return S},clip:function(a){var b=this,d;a?(d=a.members,m(d,b),d.push(b),b.destroyClip=function(){m(d,b)},a=a.getCSS(b)):(b.destroyClip&&b.destroyClip(),a={clip:rb?"inherit":"rect(auto)"});return b.css(a)},css:z.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&oa(a)},destroy:function(){this.destroyClip&&this.destroyClip();return z.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+
a]=function(){var a=ka.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var d,a=a.split(/[ ,]/);d=a.length;if(9===d||11===d)a[d-4]=a[d-2]=q(a[d-2])-10*b;return a.join(" ")},shadow:function(a,b,d){var e=[],g,j=this.element,o=this.renderer,t,C=j.style,c,u=j.path,f,G,k,S;u&&"string"!==typeof u.value&&(u="x");G=u;if(a){k=r(a.width,3);S=(a.opacity||0.15)/k;for(g=1;3>=g;g++)f=2*k+1-2*g,d&&(G=this.cutOffPath(u.value,f+0.5)),c=['<shape isShadow="true" strokeweight="',f,'" filled="false" path="',
G,'" coordsize="10 10" style="',j.style.cssText,'" />'],t=l(o.prepVML(c),null,{left:q(C.left)+r(a.offsetX,1),top:q(C.top)+r(a.offsetY,1)}),d&&(t.cutOff=f+1),c=['<stroke color="',a.color||"black",'" opacity="',S*g,'"/>'],l(o.prepVML(c),null,null,t),b?b.element.appendChild(t):j.parentNode.insertBefore(t,j),e.push(t);this.shadows=e}return this}},Ia=s(z,Ia),Ia={Element:Ia,isIE8:-1<Ta.indexOf("MSIE 8.0"),init:function(a,b,d,e){var g;this.alignedObjects=[];e=this.createElement(ab).css(f(this.getStyle(e),
{position:"relative"}));g=e.element;a.appendChild(e.element);this.isVML=!0;this.box=g;this.boxWrapper=e;this.cache={};this.setSize(b,d,!1);if(!Q.namespaces.hcv){Q.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{Q.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(j){Q.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},
isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,d,e){var g=this.createElement(),j=p(a);return f(g,{members:[],left:(j?a.x:a)+1,top:(j?a.y:b)+1,width:(j?a.width:d)-1,height:(j?a.height:e)-1,getCSS:function(a){var b=a.element,d=b.nodeName,a=a.inverted,e=this.top-("shape"===d?b.offsetTop:0),g=this.left,b=g+this.width,j=e+this.height,e={clip:"rect("+J(a?g:e)+"px,"+J(a?j:b)+"px,"+J(a?b:j)+"px,"+J(a?e:g)+"px)"};!a&&rb&&"DIV"===d&&f(e,{width:b+"px",height:j+"px"});return e},updateClipping:function(){D(g.members,
function(a){a.css(g.getCSS(a))})}})},color:function(a,b,d,e){var g=this,j,o=/^rgba/,t,C,c=qa;a&&a.linearGradient?C="gradient":a&&a.radialGradient&&(C="pattern");if(C){var u,f,G=a.linearGradient||a.radialGradient,k,S,h,m,r,z="",a=a.stops,s,p=[],n=function(){t=['<fill colors="'+p.join(",")+'" opacity="',h,'" o:opacity2="',S,'" type="',C,'" ',z,'focus="100%" method="any" />'];l(g.prepVML(t),null,null,b)};k=a[0];s=a[a.length-1];0<k[0]&&a.unshift([0,k[1]]);1>s[0]&&a.push([1,s[1]]);D(a,function(a,b){o.test(a[1])?
(j=Ua(a[1]),u=j.get("rgb"),f=j.get("a")):(u=a[1],f=1);p.push(100*a[0]+"% "+u);b?(h=f,m=u):(S=f,r=u)});if("fill"===d)if("gradient"===C)d=G.x1||G[0]||0,a=G.y1||G[1]||0,k=G.x2||G[2]||0,G=G.y2||G[3]||0,z='angle="'+(90-180*ma.atan((G-a)/(k-d))/Ha)+'"',n();else{var c=G.r,F=2*c,y=2*c,v=G.cx,q=G.cy,E=b.radialReference,B,c=function(){E&&(B=e.getBBox(),v+=(E[0]-B.x)/B.width-0.5,q+=(E[1]-B.y)/B.height-0.5,F*=E[2]/B.width,y*=E[2]/B.height);z='src="'+ca.global.VMLRadialGradientURL+'" size="'+F+","+y+'" origin="0.5,0.5" position="'+
v+","+q+'" color2="'+r+'" ';n()};e.added?c():e.onAdd=c;c=m}else c=u}else o.test(a)&&"IMG"!==b.tagName?(j=Ua(a),t=["<",d,' opacity="',j.get("a"),'"/>'],l(this.prepVML(t),null,null,b),c=j.get("rgb")):(c=b.getElementsByTagName(d),c.length&&(c[0].opacity=1,c[0].type="solid"),c=a);return c},prepVML:function(a){var b=this.isIE8,a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):
a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:Ea.prototype.html,path:function(a){var b={coordsize:"10 10"};y(a)?b.d=a:p(a)&&f(b,a);return this.createElement("shape").attr(b)},circle:function(a,b,d){var e=this.symbol("circle");p(a)&&(d=a.r,b=a.y,a=a.x);e.isCircle=!0;e.r=d;return e.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(ab).attr(b)},image:function(a,
b,d,e,g){var j=this.createElement("img").attr({src:a});1<arguments.length&&j.attr({x:b,y:d,width:e,height:g});return j},createElement:function(a){return"rect"===a?this.symbol(a):Ea.prototype.createElement.call(this,a)},invertChild:function(a,b){var d=this,e=b.style,g="IMG"===a.tagName&&a.style;B(a,{flip:"x",left:q(e.width)-(g?q(g.top):1),top:q(e.height)-(g?q(g.left):1),rotation:-90});D(a.childNodes,function(b){d.invertChild(b,a)})},symbols:{arc:function(a,b,d,e,g){var j=g.start,o=g.end,t=g.r||d||
e,d=g.innerR,e=Aa(j),C=Ca(j),c=Aa(o),u=Ca(o);if(0===o-j)return["x"];j=["wa",a-t,b-t,a+t,b+t,a+t*e,b+t*C,a+t*c,b+t*u];g.open&&!d&&j.push("e","M",a,b);j.push("at",a-d,b-d,a+d,b+d,a+d*c,b+d*u,a+d*e,b+d*C,"x","e");j.isArc=!0;return j},circle:function(a,b,d,e,g){g&&(d=e=2*g.r);g&&g.isCircle&&(a-=d/2,b-=e/2);return["wa",a,b,a+d,b+e,a+d,b+e/2,a+d,b+e/2,"e"]},rect:function(a,b,d,e,g){var j=a+d,o=b+e,t;!k(g)||!g.r?j=Ea.prototype.symbols.square.apply(0,arguments):(t=P(g.r,d,e),j=["M",a+t,b,"L",j-t,b,"wa",j-
2*t,b,j,b+2*t,j-t,b,j,b+t,"L",j,o-t,"wa",j-2*t,o-2*t,j,o,j,o-t,j-t,o,"L",a+t,o,"wa",a,o-2*t,a+2*t,o,a+t,o,a,o-t,"L",a,b+t,"wa",a,b,a+2*t,b+2*t,a,b+t,a+t,b,"x","e"]);return j}}},ha.VMLRenderer=kb=function(){this.init.apply(this,arguments)},kb.prototype=A(Ea.prototype,Ia),eb=kb);Ea.prototype.measureSpanWidth=function(a,b){var d=Q.createElement("span"),e;e=Q.createTextNode(a);d.appendChild(e);B(d,b);this.box.appendChild(d);e=d.offsetWidth;oa(d);return e};var Pb;if(Da){ha.CanVGRenderer=Ia=function(){Za=
"http://www.w3.org/1999/xhtml"};Ia.prototype.symbols={};var $b=function(){var a=lb.length,b;for(b=0;b<a;b++)lb[b]();lb=[]},lb=[];Pb={push:function(a,b){lb.length===0&&Ub(b,$b);lb.push(a)}};eb=Ia}ra.prototype={addLabel:function(){var a=this.axis,b=a.options,d=a.chart,e=a.horiz,g=a.categories,j=a.names,o=this.pos,t=b.labels,C=a.tickPositions,e=e&&g&&!t.step&&!t.staggerLines&&!t.rotation&&d.plotWidth/C.length||!e&&(d.margin[3]||d.chartWidth*0.33),c=o===C[0],u=o===C[C.length-1],ba,j=g?r(g[o],j[o],o):
o,g=this.label,G=C.info;a.isDatetimeAxis&&G&&(ba=b.dateTimeLabelFormats[G.higherRanks[o]||G.unitName]);this.isFirst=c;this.isLast=u;b=a.labelFormatter.call({axis:a,chart:d,isFirst:c,isLast:u,dateTimeLabelFormat:ba,value:a.isLog?Y(E(j)):j});o=e&&{width:K(1,J(e-2*(t.padding||10)))+"px"};o=f(o,t.style);if(k(g))g&&g.attr({text:b}).css(o);else{ba={align:a.labelAlign};if(h(t.rotation))ba.rotation=t.rotation;if(e&&t.ellipsis)ba._clipHeight=a.len/C.length;this.label=k(b)&&t.enabled?d.renderer.text(b,0,0,
t.useHTML).attr(ba).css(o).add(a.labelGroup):null}},getLabelSize:function(){var a=this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,d=b.horiz,e=b.options.labels,a=d?a.width:a.height,b=d?e.x-a*{left:0,center:0.5,right:1}[b.labelAlign]:0;return[b,d?a+b:a]},handleOverflow:function(a,b){var d=true,e=this.axis,g=this.isFirst,j=this.isLast,o=e.horiz?b.x:b.y,t=e.reversed,C=e.tickPositions,c=this.getLabelSides(),u=c[0],
c=c[1],f,G,k,h=this.label.line||0;f=e.labelEdge;G=e.justifyLabels&&(g||j);f[h]===I||o+u>f[h]?f[h]=o+c:G||(d=false);if(G){f=(G=e.justifyToPlot)?e.pos:0;G=G?f+e.len:e.chart.chartWidth;do{a=a+(g?1:-1);k=e.ticks[C[a]]}while(C[a]&&(!k||k.label.line!==h));e=k&&k.label.xy&&k.label.xy.x+k.getLabelSides()[g?0:1];g&&!t||j&&t?o+u<f&&(o=f-u,k&&o+c>e&&(d=false)):o+c>G&&(o=G-c,k&&o+u<e&&(d=false));b.x=o}return d},getPosition:function(a,b,d,e){var g=this.axis,j=g.chart,o=e&&j.oldChartHeight||j.chartHeight;return{x:a?
g.translate(b+d,null,null,e)+g.transB:g.left+g.offset+(g.opposite?(e&&j.oldChartWidth||j.chartWidth)-g.right-g.left:0),y:a?o-g.bottom+g.offset-(g.opposite?g.height:0):o-g.translate(b+d,null,null,e)-g.transB}},getLabelPosition:function(a,b,d,e,g,j,o,t){var C=this.axis,c=C.transA,u=C.reversed,f=C.staggerLines,G=C.chart.renderer.fontMetrics(g.style.fontSize).b,h=g.rotation,a=a+g.x-(j&&e?j*c*(u?-1:1):0),b=b+g.y-(j&&!e?j*c*(u?1:-1):0);h&&C.side===2&&(b=b-(G-G*Aa(h*Ya)));!k(g.y)&&!h&&(b=b+(G-d.getBBox().height/
2));if(f){d.line=o/(t||1)%f;b=b+d.line*(C.labelOffset/f)}return{x:a,y:b}},getMarkPath:function(a,b,d,e,g,j){return j.crispLine(["M",a,b,"L",a+(g?0:-d),b+(g?d:0)],e)},render:function(a,b,d){var e=this.axis,g=e.options,j=e.chart.renderer,o=e.horiz,t=this.type,C=this.label,c=this.pos,u=g.labels,f=this.gridLine,G=t?t+"Grid":"grid",k=t?t+"Tick":"tick",h=g[G+"LineWidth"],l=g[G+"LineColor"],m=g[G+"LineDashStyle"],z=g[k+"Length"],G=g[k+"Width"]||0,s=g[k+"Color"],p=g[k+"Position"],k=this.mark,n=u.step,F=true,
y=e.tickmarkOffset,v=this.getPosition(o,c,y,b),q=v.x,v=v.y,E=o&&q===e.pos+e.len||!o&&v===e.pos?-1:1;this.isActive=true;if(h){c=e.getPlotLinePath(c+y,h*E,b,true);if(f===I){f={stroke:l,"stroke-width":h};if(m)f.dashstyle=m;if(!t)f.zIndex=1;if(b)f.opacity=0;this.gridLine=f=h?j.path(c).attr(f).add(e.gridGroup):null}if(!b&&f&&c)f[this.isNew?"attr":"animate"]({d:c,opacity:d})}if(G&&z){p==="inside"&&(z=-z);e.opposite&&(z=-z);t=this.getMarkPath(q,v,z,G*E,o,j);k?k.animate({d:t,opacity:d}):this.mark=j.path(t).attr({stroke:s,
"stroke-width":G,opacity:d}).add(e.axisGroup)}if(C&&!isNaN(q)){C.xy=v=this.getLabelPosition(q,v,C,o,u,y,a,n);this.isFirst&&!this.isLast&&!r(g.showFirstLabel,1)||this.isLast&&!this.isFirst&&!r(g.showLastLabel,1)?F=false:!e.isRadial&&!u.step&&!u.rotation&&!b&&d!==0&&(F=this.handleOverflow(a,v));n&&a%n&&(F=false);F&&!isNaN(v.y)?(v.opacity=d,C[this.isNew?"attr":"animate"](v),this.isNew=false):C.attr("y",-9999)}},destroy:function(){W(this,this.axis)}};ha.PlotLineOrBand=function(a,b){this.axis=a;if(b){this.options=
b;this.id=b.id}};ha.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,d=b.horiz,e=(b.pointRange||0)/2,g=a.options,j=g.label,o=a.label,t=g.width,C=g.to,c=g.from,u=k(c)&&k(C),f=g.value,G=g.dashStyle,h=a.svgElem,l=[],m,z=g.color,s=g.zIndex,p=g.events,v=b.chart.renderer;b.isLog&&(c=n(c),C=n(C),f=n(f));if(t){if(l=b.getPlotLinePath(f,t),e={stroke:z,"stroke-width":t},G)e.dashstyle=G}else if(u){if(c=K(c,b.min-e),C=P(C,b.max+e),l=b.getPlotBandPath(c,C,g),e={fill:z},g.borderWidth){e.stroke=g.borderColor;
e["stroke-width"]=g.borderWidth}}else return;if(k(s))e.zIndex=s;if(h)if(l)h.animate({d:l},null,h.onGetPath);else{if(h.hide(),h.onGetPath=function(){h.show()},o)a.label=o=o.destroy()}else if(l&&l.length&&(a.svgElem=h=v.path(l).attr(e).add(),p))for(m in g=function(b){h.on(b,function(d){p[b].apply(a,[d])})},p)g(m);if(j&&k(j.text)&&l&&l.length&&b.width>0&&b.height>0){j=A({align:d&&u&&"center",x:d?!u&&4:10,verticalAlign:!d&&u&&"middle",y:d?u?16:10:u?6:-4,rotation:d&&!u&&90},j);if(!o)a.label=o=v.text(j.text,
0,0,j.useHTML).attr({align:j.textAlign||j.align,rotation:j.rotation,zIndex:s}).css(j.style).add();b=[l[1],l[4],r(l[6],l[1])];l=[l[2],l[5],r(l[7],l[2])];d=wa(b);u=wa(l);o.align(j,false,{x:d,y:u,width:na(b)-d,height:na(l)-u});o.show()}else o&&o.hide();return a},destroy:function(){m(this.axis.plotLinesAndBands,this);delete this.axis;W(this)}};F.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",
year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:ea,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,
gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return M(this.total,-1)},style:ea.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},
title:{rotation:0}},init:function(a,b){var d=b.isX;this.horiz=a.inverted?!d:d;this.coll=(this.isXAxis=d)?"xAxis":"yAxis";this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var e=this.options,g=e.type;this.labelFormatter=e.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.chart=a;this.reversed=e.reversed;this.zoomEnabled=e.zoomEnabled!==false;this.categories=e.categories||g==="category";this.names=
[];this.isLog=g==="logarithmic";this.isDatetimeAxis=g==="datetime";this.isLinked=k(e.linkedTo);this.tickmarkOffset=this.categories&&e.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=e.minRange||e.maxZoom;this.range=e.range;this.offset=e.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=r(e.crosshair,H(a.options.tooltip.crosshairs)[d?0:1],
false);var j,e=this.options.events;Ma(this,a.axes)===-1&&(d&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];if(a.inverted&&d&&this.reversed===I)this.reversed=true;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(j in e)R(this,j,e[j]);if(this.isLog){this.val2lin=n;this.lin2val=E}},setOptions:function(a){this.options=A(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,
this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],A(ca[this.coll],a))},defaultLabelFormatter:function(){var a=this.axis,b=this.value,d=a.categories,e=this.dateTimeLabelFormat,g=ca.lang.numericSymbols,j=g&&g.length,o,t=a.options.labels.format,a=a.isLog?b:a.tickInterval;if(t)o=ta(t,this);else if(d)o=b;else if(e)o=Ka(e,b);else if(j&&a>=1E3)for(;j--&&o===I;){d=Math.pow(1E3,j+1);a>=d&&g[j]!==null&&(o=M(b/d,-1)+g[j])}o===I&&(o=b>=1E4?M(b,0):M(b,-1,I,""));
return o},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=false;a.dataMin=a.dataMax=null;a.buildStacks&&a.buildStacks();D(a.series,function(d){if(d.visible||!b.options.chart.ignoreHiddenSeries){var e;e=d.options.threshold;var g;a.hasVisibleSeries=true;a.isLog&&e<=0&&(e=null);if(a.isXAxis){if(e=d.xData,e.length){a.dataMin=P(r(a.dataMin,e[0]),wa(e));a.dataMax=K(r(a.dataMax,e[0]),na(e))}}else{d.getExtremes();g=d.dataMax;d=d.dataMin;if(k(d)&&k(g)){a.dataMin=P(r(a.dataMin,d),d);a.dataMax=
K(r(a.dataMax,g),g)}if(k(e))if(a.dataMin>=e){a.dataMin=e;a.ignoreMinPadding=true}else if(a.dataMax<e){a.dataMax=e;a.ignoreMaxPadding=true}}}})},translate:function(a,b,d,e,g,j){var o=1,t=0,C=e?this.oldTransA:this.transA,e=e?this.oldMin:this.min,c=this.minPixelPadding,g=(this.options.ordinal||this.isLog&&g)&&this.lin2val;if(!C)C=this.transA;if(d){o=o*-1;t=this.len}this.reversed&&(o=o*-1,t=t-o*(this.sector||this.len));b?(a=a*o+t,a=a-c,a=a/C+e,g&&(a=this.lin2val(a))):(g&&(a=this.val2lin(a)),j==="between"&&
(j=0.5),a=o*(a-e)*C+t+o*c+(h(j)?C*j*this.pointRange:0));return a},toPixels:function(a,b){return this.translate(a,false,!this.horiz,null,true)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),true,!this.horiz,null,true)},getPlotLinePath:function(a,b,d,e,g){var j=this.chart,o=this.left,t=this.top,C,c,f=d&&j.oldChartHeight||j.chartHeight,k=d&&j.oldChartWidth||j.chartWidth,G;C=this.transB;g=r(g,this.translate(a,null,null,d));a=d=J(g+C);C=c=J(f-g-C);if(isNaN(g))G=true;else if(this.horiz){if(C=
t,c=f-this.bottom,a<o||a>o+this.width)G=true}else if(a=o,d=k-this.right,C<t||C>t+this.height)G=true;return G&&!e?null:j.renderer.crispLine(["M",a,C,"L",d,c],b||1)},getLinearTickPositions:function(a,b,d){for(var e,b=Y(ja(b/a)*a),d=Y(db(d/a)*a),g=[];b<=d;){g.push(b);b=Y(b+a);if(b===e)break;e=b}return g},getMinorTickPositions:function(){var a=this.options,b=this.tickPositions,d=this.minorTickInterval,e=[],g;if(this.isLog){g=b.length;for(a=1;a<g;a++)e=e.concat(this.getLogTickPositions(d,b[a-1],b[a],true))}else if(this.isDatetimeAxis&&
a.minorTickInterval==="auto"){e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),this.min,this.max,a.startOfWeek));e[0]<this.min&&e.shift()}else for(b=this.min+(b[0]-this.min)%d;b<=this.max;b=b+d)e.push(b);return e},adjustForMinRange:function(){var a=this.options,b=this.min,d=this.max,e,g=this.dataMax-this.dataMin>=this.minRange,j,o,t,C;if(this.isXAxis&&this.minRange===I&&!this.isLog)k(a.min)||k(a.max)?this.minRange=null:(D(this.series,function(a){C=a.xData;for(o=a.xIncrement?1:C.length-
1;o>0;o--)if(t=C[o]-C[o-1],j===I||t<j)j=t}),this.minRange=P(j*5,this.dataMax-this.dataMin));if(d-b<this.minRange){var c=this.minRange;e=(c-d+b)/2;e=[b-e,r(a.min,b-e)];if(g)e[2]=this.dataMin;b=na(e);d=[b+c,r(a.max,b+c)];if(g)d[2]=this.dataMax;d=wa(d);d-b<c&&(e[0]=d-c,e[1]=r(a.min,d-c),b=na(e))}this.min=b;this.max=d},setAxisTranslation:function(a){var b=this,d=b.max-b.min,e=b.axisPointRange||0,g,j=0,o=0,t=b.linkedParent,C=!!b.categories,f=b.transA;if(b.isXAxis||C||e){t?(j=t.minPointOffset,o=t.pointRangePadding):
D(b.series,function(a){var t=K(b.isXAxis?a.pointRange:b.axisPointRange||0,+C),f=a.options.pointPlacement,V=a.closestPointRange;t>d&&(t=0);e=K(e,t);j=K(j,c(f)?0:t/2);o=K(o,f==="on"?0:t);!a.noSharedTooltip&&k(V)&&(g=k(g)?P(g,V):V)});t=b.ordinalSlope&&g?b.ordinalSlope/g:1;b.minPointOffset=j=j*t;b.pointRangePadding=o=o*t;b.pointRange=P(e,d);b.closestPointRange=g}if(a)b.oldTransA=f;b.translationSlope=b.transA=f=b.len/(d+o||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=f*j},setTickPositions:function(a){var b=
this,d=b.chart,e=b.options,g=b.isLog,j=b.isDatetimeAxis,o=b.isXAxis,t=b.isLinked,C=b.options.tickPositioner,c=e.maxPadding,f=e.minPadding,ba=e.tickInterval,G=e.minTickInterval,h=e.tickPixelInterval,l,m=b.categories;t?(b.linkedParent=d[b.coll][e.linkedTo],d=b.linkedParent.getExtremes(),b.min=r(d.min,d.dataMin),b.max=r(d.max,d.dataMax),e.type!==b.linkedParent.options.type&&X(11,1)):(b.min=r(b.userMin,e.min,b.dataMin),b.max=r(b.userMax,e.max,b.dataMax));if(g){!a&&P(b.min,r(b.dataMin,b.min))<=0&&X(10,
1);b.min=Y(n(b.min));b.max=Y(n(b.max))}if(b.range&&k(b.max)){b.userMin=b.min=K(b.min,b.max-b.range);b.userMax=b.max;b.range=null}b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!m&&!b.axisPointRange&&!b.usePercentage&&!t&&k(b.min)&&k(b.max)&&(d=b.max-b.min)){if(!k(e.min)&&!k(b.userMin)&&f&&(b.dataMin<0||!b.ignoreMinPadding))b.min=b.min-d*f;if(!k(e.max)&&!k(b.userMax)&&c&&(b.dataMax>0||!b.ignoreMaxPadding))b.max=b.max+d*c}b.min===b.max||b.min===void 0||b.max===void 0?b.tickInterval=1:t&&
!ba&&h===b.linkedParent.options.tickPixelInterval?b.tickInterval=b.linkedParent.tickInterval:(b.tickInterval=r(ba,m?1:(b.max-b.min)*h/K(b.len,h)),!k(ba)&&b.len<h&&!this.isRadial&&!this.isLog&&!m&&e.startOnTick&&e.endOnTick&&(l=true,b.tickInterval=b.tickInterval/4));o&&!a&&D(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(true);b.beforeSetTickPositions&&b.beforeSetTickPositions();if(b.postProcessTickInterval)b.tickInterval=b.postProcessTickInterval(b.tickInterval);
if(b.pointRange)b.tickInterval=K(b.pointRange,b.tickInterval);if(!ba&&b.tickInterval<G)b.tickInterval=G;if(!j&&!g&&!ba)b.tickInterval=ua(b.tickInterval,null,va(b.tickInterval),e);b.minorTickInterval=e.minorTickInterval==="auto"&&b.tickInterval?b.tickInterval/5:e.minorTickInterval;b.tickPositions=a=e.tickPositions?[].concat(e.tickPositions):C&&C.apply(b,[b.min,b.max]);if(!a){!b.ordinalPositions&&(b.max-b.min)/b.tickInterval>K(2*b.len,200)&&X(19,true);a=j?b.getTimeTicks(b.normalizeTimeTickInterval(b.tickInterval,
e.units),b.min,b.max,e.startOfWeek,b.ordinalPositions,b.closestPointRange,true):g?b.getLogTickPositions(b.tickInterval,b.min,b.max):b.getLinearTickPositions(b.tickInterval,b.min,b.max);l&&a.splice(1,a.length-2);b.tickPositions=a}if(!t){g=a[0];j=a[a.length-1];t=b.minPointOffset||0;e.startOnTick?b.min=g:b.min-t>g&&a.shift();e.endOnTick?b.max=j:b.max+t<j&&a.pop();a.length===1&&(e=da(b.max||1)*0.001,b.min=b.min-e,b.max=b.max+e)}},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},d=this.tickPositions,
e=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&d&&d.length>(b[e]||0)&&this.options.alignTicks!==false)b[e]=d.length;a.maxTicks=b},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,d=this.chart.maxTicks;if(d&&d[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==false&&this.min!==I){var e=this.tickAmount,g=b.length;this.tickAmount=a=d[a];if(g<a){for(;b.length<a;)b.push(Y(b[b.length-1]+this.tickInterval));
this.transA=this.transA*((g-1)/(a-1));this.max=b[b.length-1]}if(k(e)&&a!==e)this.isDirty=true}},setScale:function(){var a=this.stacks,b,d,e,g;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();g=this.len!==this.oldAxisLength;D(this.series,function(a){if(a.isDirtyData||a.isDirty||a.xAxis.isDirty)e=true});if(g||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(b in a)for(d in a[b]){a[b][d].total=
null;a[b][d].cum=0}this.forceRedraw=false;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty)this.isDirty=g||this.min!==this.oldMin||this.max!==this.oldMax}else if(!this.isXAxis){if(this.oldStacks)a=this.stacks=this.oldStacks;for(b in a)for(d in a[b])a[b][d].cum=a[b][d].total}this.setMaxTicks()},setExtremes:function(a,b,d,e,g){var j=this,o=j.chart,d=r(d,true),g=f(g,{min:a,max:b});ga(j,"setExtremes",g,function(){j.userMin=a;j.userMax=
b;j.eventArgs=g;j.isDirtyExtremes=true;d&&o.redraw(e)})},zoom:function(a,b){var d=this.dataMin,e=this.dataMax,g=this.options;this.allowZoomOutside||(k(d)&&a<=P(d,r(g.min,d))&&(a=I),k(e)&&b>=K(e,r(g.max,e))&&(b=I));this.displayBtn=a!==I||b!==I;this.setExtremes(a,b,false,I,{trigger:"zoom"});return true},setAxisSize:function(){var a=this.chart,b=this.options,d=b.offsetLeft||0,e=b.offsetRight||0,g=this.horiz,j,o;this.left=o=r(b.left,a.plotLeft+d);this.top=j=r(b.top,a.plotTop);this.width=d=r(b.width,a.plotWidth-
d+e);this.height=b=r(b.height,a.plotHeight);this.bottom=a.chartHeight-b-j;this.right=a.chartWidth-d-o;this.len=K(g?d:b,0);this.pos=g?o:j},getExtremes:function(){var a=this.isLog;return{min:a?Y(E(this.min)):this.min,max:a?Y(E(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,d=b?E(this.min):this.min,b=b?E(this.max):this.max;d>a||a===null?a=d:b<a&&(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=
(r(a,0)-this.side*90+720)%360;return a>15&&a<165?"right":a>195&&a<345?"left":"center"},getOffset:function(){var a=this,b=a.chart,d=b.renderer,e=a.options,g=a.tickPositions,j=a.ticks,o=a.horiz,t=a.side,C=b.inverted?[1,0,3,2][t]:t,c,f=0,ba,G=0,h=e.title,l=e.labels,m=0,z=b.axisOffset,s=b.clipOffset,p=[-1,1,1,-1][t],n,v=1,F=r(l.maxStaggerLines,5),y,q,E,B;a.hasData=c=a.hasVisibleSeries||k(a.min)&&k(a.max)&&!!g;a.showAxis=b=c||r(e.showEmpty,true);a.staggerLines=a.horiz&&l.staggerLines;if(!a.axisGroup){a.gridGroup=
d.g("grid").attr({zIndex:e.gridZIndex||1}).add();a.axisGroup=d.g("axis").attr({zIndex:e.zIndex||2}).add();a.labelGroup=d.g("axis-labels").attr({zIndex:l.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add()}if(c||a.isLinked){a.labelAlign=r(l.align||a.autoLabelAlign(l.rotation));D(g,function(b){j[b]?j[b].addLabel():j[b]=new ra(a,b)});if(a.horiz&&!a.staggerLines&&F&&!l.rotation){for(n=a.reversed?[].concat(g).reverse():g;v<F;){c=[];y=false;for(l=0;l<n.length;l++){q=n[l];E=(E=j[q].label&&
j[q].label.getBBox())?E.width:0;B=l%v;E&&(q=a.translate(q),c[B]!==I&&q<c[B]&&(y=true),c[B]=q+E)}if(y)v++;else break}if(v>1)a.staggerLines=v}D(g,function(b){if(t===0||t===2||{1:"left",3:"right"}[t]===a.labelAlign)m=K(j[b].getLabelSize(),m)});if(a.staggerLines){m=m*a.staggerLines;a.labelOffset=m}}else for(n in j){j[n].destroy();delete j[n]}if(h&&h.text&&h.enabled!==false){if(!a.axisTitle){a.axisTitle=d.text(h.text,0,0,h.useHTML).attr({zIndex:7,rotation:h.rotation||0,align:h.textAlign||{low:"left",middle:"center",
high:"right"}[h.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(h.style).add(a.axisGroup);a.axisTitle.isNew=true}if(b){f=a.axisTitle.getBBox()[o?"height":"width"];G=r(h.margin,o?5:10);ba=h.offset}a.axisTitle[b?"show":"hide"]()}a.offset=p*r(e.offset,z[t]);a.axisTitleMargin=r(ba,m+G+(t!==2&&m&&p*e.labels[o?"y":"x"]));z[t]=K(z[t],a.axisTitleMargin+f+p*a.offset);s[C]=K(s[C],ja(e.lineWidth/2)*2)},getLinePath:function(a){var b=this.chart,d=this.opposite,e=this.offset,g=this.horiz,
j=this.left+(d?this.width:0)+e,e=b.chartHeight-this.bottom-(d?this.height:0)+e;d&&(a=a*-1);return b.renderer.crispLine(["M",g?this.left:j,g?e:this.top,"L",g?b.chartWidth-this.right:j,g?e:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,d=this.top,e=this.len,g=this.options.title,j=a?b:d,o=this.opposite,t=this.offset,C=q(g.style.fontSize||12),e={low:j+(a?0:e),middle:j+e/2,high:j+(a?e:0)}[g.align],b=(a?d+this.height:b)+(a?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===
2?C:0);return{x:a?e:b+(o?this.width:0)+t+(g.x||0),y:a?b-(o?this.height:0)+t:e+(g.y||0)}},render:function(){var a=this,b=a.horiz,d=a.reversed,e=a.chart,g=e.renderer,j=a.options,o=a.isLog,t=a.isLinked,C=a.tickPositions,c,f=a.axisTitle,h=a.ticks,G=a.minorTicks,l=a.alternateBands,m=j.stackLabels,z=j.alternateGridColor,r=a.tickmarkOffset,s=j.lineWidth,p=e.hasRendered&&k(a.oldMin)&&!isNaN(a.oldMin),n=a.hasData,v=a.showAxis,F,q=j.labels.overflow,y=a.justifyLabels=b&&q!==false,B;a.labelEdge.length=0;a.justifyToPlot=
q==="justify";D([h,G,l],function(a){for(var b in a)a[b].isActive=false});if(n||t)if(a.minorTickInterval&&!a.categories&&D(a.getMinorTickPositions(),function(b){G[b]||(G[b]=new ra(a,b,"minor"));p&&G[b].isNew&&G[b].render(null,true);G[b].render(null,false,1)}),C.length&&(c=C.slice(),(b&&d||!b&&!d)&&c.reverse(),y&&(c=c.slice(1).concat([c[0]])),D(c,function(b,d){y&&(d=d===c.length-1?0:d+1);if(!t||b>=a.min&&b<=a.max){h[b]||(h[b]=new ra(a,b));p&&h[b].isNew&&h[b].render(d,true,0.1);h[b].render(d,false,1)}}),
r&&a.min===0&&(h[-1]||(h[-1]=new ra(a,-1,null,true)),h[-1].render(-1))),z&&D(C,function(b,d){if(d%2===0&&b<a.max){l[b]||(l[b]=new ha.PlotLineOrBand(a));F=b+r;B=C[d+1]!==I?C[d+1]+r:a.max;l[b].options={from:o?E(F):F,to:o?E(B):B,color:z};l[b].render();l[b].isActive=true}}),!a._addedPlotLB){D((j.plotLines||[]).concat(j.plotBands||[]),function(b){a.addPlotBandOrLine(b)});a._addedPlotLB=true}D([h,G,l],function(a){var b,d,g=[],j=Ra?Ra.duration||500:0,o=function(){for(d=g.length;d--;)a[g[d]]&&!a[g[d]].isActive&&
(a[g[d]].destroy(),delete a[g[d]])};for(b in a)if(!a[b].isActive){a[b].render(b,false,0);a[b].isActive=false;g.push(b)}a===l||!e.hasRendered||!j?o():j&&setTimeout(o,j)});if(s){b=a.getLinePath(s);a.axisLine?a.axisLine.animate({d:b}):a.axisLine=g.path(b).attr({stroke:j.lineColor,"stroke-width":s,zIndex:7}).add(a.axisGroup);a.axisLine[v?"show":"hide"]()}if(f&&v){f[f.isNew?"attr":"animate"](a.getTitlePosition());f.isNew=false}m&&m.enabled&&a.renderStackTotals();a.isDirty=false},redraw:function(){var a=
this.chart.pointer;a&&a.reset(true);this.render();D(this.plotLinesAndBands,function(a){a.render()});D(this.series,function(a){a.isDirty=true})},destroy:function(a){var b=this,d=b.stacks,e,g=b.plotLinesAndBands;a||ia(b);for(e in d){W(d[e]);d[e]=null}D([b.ticks,b.minorTicks,b.alternateBands],function(a){W(a)});for(a=g.length;a--;)g[a].destroy();D(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(a){b[a]&&(b[a]=b[a].destroy())});this.cross&&this.cross.destroy()},
drawCrosshair:function(a,b){if(this.crosshair)if((k(b)||!r(this.crosshair.snap,true))===false)this.hideCrosshair();else{var d,e=this.crosshair,g=e.animation;r(e.snap,true)?k(b)&&(d=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):d=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos;d=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:r(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,d);if(d===null)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[g?
"animate":"attr"]({d:d},g);else{g={"stroke-width":e.width||1,stroke:e.color||"#C0C0C0",zIndex:e.zIndex||2};if(e.dashStyle)g.dashstyle=e.dashStyle;this.cross=this.chart.renderer.path(d).attr(g).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};f(F.prototype,{getPlotBandPath:function(a,b){var d=this.getPlotLinePath(b),e=this.getPlotLinePath(a);e&&d?e.push(d[4],d[5],d[1],d[2]):e=null;return e},addPlotBand:function(a){this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){this.addPlotBandOrLine(a,
"plotLines")},addPlotBandOrLine:function(a,b){var d=(new ha.PlotLineOrBand(this,a)).render(),e=this.userOptions;d&&(b&&(e[b]=e[b]||[],e[b].push(a)),this.plotLinesAndBands.push(d));return d},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,d=this.options,e=this.userOptions,g=b.length;g--;)b[g].id===a&&b[g].destroy();D([d.plotLines||[],e.plotLines||[],d.plotBands||[],e.plotBands||[]],function(b){for(g=b.length;g--;)b[g].id===a&&m(b,b[g])})}});F.prototype.getTimeTicks=function(a,b,d,
e){var g=[],j={},o=ca.global.useUTC,t,C=new Date(b-Xa),c=a.unitRange,u=a.count;if(k(b)){c>=T.second&&(C.setMilliseconds(0),C.setSeconds(c>=T.minute?0:u*ja(C.getSeconds()/u)));if(c>=T.minute)C[Hb](c>=T.hour?0:u*ja(C[xb]()/u));if(c>=T.hour)C[Ib](c>=T.day?0:u*ja(C[yb]()/u));if(c>=T.day)C[Ab](c>=T.month?1:u*ja(C[bb]()/u));c>=T.month&&(C[Jb](c>=T.year?0:u*ja(C[pb]()/u)),t=C[qb]());c>=T.year&&(t=t-t%u,C[Kb](t));if(c===T.week)C[Ab](C[bb]()-C[zb]()+r(e,1));b=1;Xa&&(C=new Date(C.getTime()+Xa));t=C[qb]();for(var e=
C.getTime(),h=C[pb](),G=C[bb](),l=o?Xa:(864E5+C.getTimezoneOffset()*6E4)%864E5;e<d;){g.push(e);c===T.year?e=ob(t+b*u,0):c===T.month?e=ob(t,h+b*u):!o&&(c===T.day||c===T.week)?e=ob(t,h,G+b*u*(c===T.day?1:7)):e=e+c*u;b++}g.push(e);D(Db(g,function(a){return c<=T.hour&&a%T.day===l}),function(a){j[a]="day"})}g.info=f(a,{higherRanks:j,totalRange:c*u});return g};F.prototype.normalizeTimeTickInterval=function(a,b){var d=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",
[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=d[d.length-1],g=T[e[0]],j=e[1],o;for(o=0;o<d.length;o++)if(e=d[o],g=T[e[0]],j=e[1],d[o+1]&&a<=(g*j[j.length-1]+T[d[o+1][0]])/2)break;g===T.year&&a<5*g&&(j=[1,2,5]);d=ua(a/g,j,e[0]==="year"?K(va(a/g),1):1);return{unitRange:g,count:d,unitName:e[0]}};F.prototype.getLogTickPositions=function(a,b,d,e){var g=this.options,j=this.len,o=[];if(!e)this._minorAutoInterval=null;if(a>=0.5){a=J(a);o=this.getLinearTickPositions(a,
b,d)}else if(a>=0.08)for(var j=ja(b),t,c,f,u,k,g=a>0.3?[1,2,4]:a>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];j<d+1&&!k;j++){c=g.length;for(t=0;t<c&&!k;t++){f=n(E(j)*g[t]);f>b&&(!e||u<=d)&&o.push(u);u>d&&(k=true);u=f}}else if(b=E(b),d=E(d),a=g[e?"minorTickInterval":"tickInterval"],a=r(a==="auto"?null:a,this._minorAutoInterval,(d-b)*(g.tickPixelInterval/(e?5:1))/((e?j/this.tickPositions.length:j)||1)),a=ua(a,null,va(a)),o=Na(this.getLinearTickPositions(a,b,d),n),!e)this._minorAutoInterval=a/5;if(!e)this.tickInterval=
a;return o};var Eb=ha.Tooltip=function(){this.init.apply(this,arguments)};Eb.prototype={init:function(a,b){var d=b.borderWidth,e=b.style,g=q(e.padding);this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=a.renderer.label("",0,0,b.shape,null,null,b.useHTML,null,"tooltip").attr({padding:g,fill:b.backgroundColor,"stroke-width":d,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999});Da||this.label.shadow(b.shadow);this.shared=b.shared},destroy:function(){if(this.label)this.label=
this.label.destroy();clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,d,e){var g=this,j=g.now,o=g.options.animation!==false&&!g.isHidden;f(j,{x:o?(2*j.x+a)/3:a,y:o?(j.y+b)/2:b,anchorX:o?(2*j.anchorX+d)/3:d,anchorY:o?(j.anchorY+e)/2:e});g.label.attr(j);if(o&&(da(a-j.x)>1||da(b-j.y)>1)){clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){g&&g.move(a,b,d,e)},32)}},hide:function(){var a=this,b;clearTimeout(this.hideTimer);if(!this.isHidden){b=this.chart.hoverPoints;
this.hideTimer=setTimeout(function(){a.label.fadeOut();a.isHidden=true},r(this.options.hideDelay,500));b&&D(b,function(a){a.setState()});this.chart.hoverPoints=null}},getAnchor:function(a,b){var d,e=this.chart,g=e.inverted,j=e.plotTop,o=0,t=0,c,a=H(a);d=a[0].tooltipPos;this.followPointer&&b&&(b.chartX===I&&(b=e.pointer.normalize(b)),d=[b.chartX-e.plotLeft,b.chartY-j]);d||(D(a,function(a){c=a.series.yAxis;o=o+a.plotX;t=t+((a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!g&&c?c.top-j:0))}),o=o/a.length,
t=t/a.length,d=[g?e.plotWidth-t:o,this.shared&&!g&&a.length>1&&b?b.chartY-j:g?e.plotHeight-o:t]);return Na(d,J)},getPosition:function(a,b,d){var e=this.chart,g=e.plotLeft,j=e.plotTop,o=e.plotWidth,t=e.plotHeight,c=r(this.options.distance,12),f=isNaN(d.plotX)?0:d.plotX,d=d.plotY,e=f+g+(e.inverted?c:-a-c),u=d-b+j+15,k;e<7&&(e=g+K(f,0)+c);e+a>g+o&&(e=e-(e+a-(g+o)),u=d-b+j-c,k=true);u<j+5&&(u=j+5,k&&d>=u&&d<=u+b&&(u=d+j+c));u+b>j+t&&(u=K(j,j+t-b-c));return{x:e,y:u}},defaultFormatter:function(a){var b=
this.points||H(this),d=b[0].series,e;e=[a.tooltipHeaderFormatter(b[0])];D(b,function(a){d=a.series;e.push(d.tooltipFormatter&&d.tooltipFormatter(a)||a.point.tooltipFormatter(d.tooltipOptions.pointFormat))});e.push(a.options.footerFormat||"");return e.join("")},refresh:function(a,b){var d=this.chart,e=this.label,g=this.options,j,o,t={},c,f=[];c=g.formatter||this.defaultFormatter;var t=d.hoverPoints,u,k=this.shared;clearTimeout(this.hideTimer);this.followPointer=H(a)[0].series.tooltipOptions.followPointer;
o=this.getAnchor(a,b);j=o[0];o=o[1];k&&(!a.series||!a.series.noSharedTooltip)?(d.hoverPoints=a,t&&D(t,function(a){a.setState()}),D(a,function(a){a.setState("hover");f.push(a.getLabelConfig())}),t={x:a[0].category,y:a[0].y},t.points=f,a=a[0]):t=a.getLabelConfig();c=c.call(t,this);t=a.series;c===false?this.hide():(this.isHidden&&(jb(e),e.attr("opacity",1).show()),e.attr({text:c}),u=g.borderColor||a.color||t.color||"#606060",e.attr({stroke:u}),this.updatePosition({plotX:j,plotY:o}),this.isHidden=false);
ga(d,"tooltipRefresh",{text:c,x:j+d.plotLeft,y:o+d.plotTop,borderColor:u})},updatePosition:function(a){var b=this.chart,d=this.label,d=(this.options.positioner||this.getPosition).call(this,d.width,d.height,a);this.move(J(d.x),J(d.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(a){var b=a.series,d=b.tooltipOptions,e=d.dateTimeLabelFormats,g=d.xDateFormat,j=b.xAxis,o=j&&j.options.type==="datetime"&&h(a.key),d=d.headerFormat,j=j&&j.closestPointRange,t;if(o&&!g){if(j)for(t in T){if(T[t]>=
j||T[t]<=T.day&&a.key%T[t]>0){g=e[t];break}}else g=e.day;g=g||e.year}o&&g&&(d=d.replace("{point.key}","{point.key:"+g+"}"));return ta(d,{point:a,series:b})}};var Ga;hb=Q.documentElement.ontouchstart!==I;var fb=ha.Pointer=function(a,b){this.init(a,b)};fb.prototype={init:function(a,b){var d=b.chart,e=d.events,g=Da?"":d.zoomType,d=a.inverted,j;this.options=b;this.chart=a;this.zoomX=j=/x/.test(g);this.zoomY=g=/y/.test(g);this.zoomHor=j&&!d||g&&d;this.zoomVert=g&&!d||j&&d;this.runChartClick=e&&!!e.click;
this.pinchDown=[];this.lastValidTouch={};if(ha.Tooltip&&b.tooltip.enabled)a.tooltip=new Eb(a,b.tooltip);this.setDOMEvents()},normalize:function(a,b){var d,e,a=a||ka.event,a=Wb(a);if(!a.target)a.target=a.srcElement;e=a.touches?a.touches.item(0):a;if(!b)this.chartPosition=b=Vb(this.chart.container);e.pageX===I?(d=K(a.x,a.clientX-b.left),e=a.y):(d=e.pageX-b.left,e=e.pageY-b.top);return f(a,{chartX:J(d),chartY:J(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};D(this.chart.axes,function(d){b[d.isXAxis?
"xAxis":"yAxis"].push({axis:d,value:d.toValue(a[d.horiz?"chartX":"chartY"])})});return b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b=this.chart,d=b.series,e=b.tooltip,g,j,o=b.hoverPoint,t=b.hoverSeries,c,f,u=b.chartWidth,h=this.getIndex(a);if(e&&this.options.tooltip.shared&&(!t||!t.noSharedTooltip)){j=[];c=d.length;for(f=0;f<c;f++)if(d[f].visible&&d[f].options.enableMouseTracking!==false&&!d[f].noSharedTooltip&&
d[f].singularTooltips!==true&&d[f].tooltipPoints.length&&(g=d[f].tooltipPoints[h])&&g.series){g._dist=da(h-g.clientX);u=P(u,g._dist);j.push(g)}for(c=j.length;c--;)j[c]._dist>u&&j.splice(c,1);if(j.length&&j[0].clientX!==this.hoverX){e.refresh(j,a);this.hoverX=j[0].clientX}}if(t&&t.tracker&&(!e||!e.followPointer)){if((g=t.tooltipPoints[h])&&g!==o)g.onMouseOver(a)}else e&&e.followPointer&&!e.isHidden&&(d=e.getAnchor([{}],a),e.updatePosition({plotX:d[0],plotY:d[1]}));if(e&&!this._onDocumentMouseMove){this._onDocumentMouseMove=
function(a){if(k(Ga))Ba[Ga].pointer.onDocumentMouseMove(a)};R(Q,"mousemove",this._onDocumentMouseMove)}D(b.axes,function(b){b.drawCrosshair(a,r(g,o))})},reset:function(a){var b=this.chart,d=b.hoverSeries,e=b.hoverPoint,g=b.tooltip,j=g&&g.shared?b.hoverPoints:e;(a=a&&g&&j)&&H(j)[0].plotX===I&&(a=false);if(a){g.refresh(j);e&&e.setState(e.state,true)}else{if(e)e.onMouseOut();if(d)d.onMouseOut();g&&g.hide();if(this._onDocumentMouseMove){ia(Q,"mousemove",this._onDocumentMouseMove);this._onDocumentMouseMove=
null}D(b.axes,function(a){a.hideCrosshair()});this.hoverX=null}},scaleGroups:function(a,b){var d=this.chart,e;D(d.series,function(g){e=a||g.getPlotBox();g.xAxis&&g.xAxis.zoomEnabled&&(g.group.attr(e),g.markerGroup&&(g.markerGroup.attr(e),g.markerGroup.clip(b?d.clipRect:null)),g.dataLabelsGroup&&g.dataLabelsGroup.attr(e))});d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=false;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=
a.chartY},drag:function(a){var b=this.chart,d=b.options.chart,e=a.chartX,g=a.chartY,j=this.zoomHor,o=this.zoomVert,t=b.plotLeft,c=b.plotTop,f=b.plotWidth,u=b.plotHeight,k,h=this.mouseDownX,l=this.mouseDownY;e<t?e=t:e>t+f&&(e=t+f);g<c?g=c:g>c+u&&(g=c+u);this.hasDragged=Math.sqrt(Math.pow(h-e,2)+Math.pow(l-g,2));if(this.hasDragged>10){k=b.isInsidePlot(h-t,l-c);if(b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&k&&!this.selectionMarker)this.selectionMarker=b.renderer.rect(t,c,j?1:f,o?1:u,0).attr({fill:d.selectionMarkerFill||
"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&j&&(e=e-h,this.selectionMarker.attr({width:da(e),x:(e>0?0:e)+h}));this.selectionMarker&&o&&(e=g-l,this.selectionMarker.attr({height:da(e),y:(e>0?0:e)+l}));k&&!this.selectionMarker&&d.panning&&b.pan(a,d.panning)}},drop:function(a){var b=this.chart,d=this.hasPinched;if(this.selectionMarker){var e={xAxis:[],yAxis:[],originalEvent:a.originalEvent||a},g=this.selectionMarker,j=g.x,o=g.y,t;if(this.hasDragged||d){D(b.axes,function(a){if(a.zoomEnabled){var b=
a.horiz,d=a.toValue(b?j:o),b=a.toValue(b?j+g.width:o+g.height);!isNaN(d)&&!isNaN(b)&&(e[a.coll].push({axis:a,min:P(d,b),max:K(d,b)}),t=true)}});t&&ga(b,"selection",e,function(a){b.zoom(f(a,d?{animation:false}:null))})}this.selectionMarker=this.selectionMarker.destroy();d&&this.scaleGroups()}if(b){B(b.container,{cursor:b._cursor});b.cancelClick=this.hasDragged>10;b.mouseIsDown=this.hasDragged=this.hasPinched=false;this.pinchDown=[]}},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&
a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){k(Ga)&&Ba[Ga].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,d=this.chartPosition,e=b.hoverSeries,a=this.normalize(a,d);d&&e&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=Ba[Ga];if(a){a.pointer.reset();a.pointer.chartPosition=null}Ga=null},onContainerMouseMove:function(a){var b=this.chart;Ga=b.index;a=
this.normalize(a);b.mouseIsDown==="mousedown"&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var d;a;){if(d=v(a,"class")){if(d.indexOf(b)!==-1)return true;if(d.indexOf("highcharts-container")!==-1)return false}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,d=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;if(b&&!b.options.stickyTracking&&
!this.inClass(a,"highcharts-tooltip")&&d!==b)b.onMouseOut()},onContainerClick:function(a){var b=this.chart,d=b.hoverPoint,e=b.plotLeft,g=b.plotTop,j=b.inverted,o,t,c,a=this.normalize(a);a.cancelBubble=true;if(!b.cancelClick)d&&this.inClass(a.target,"highcharts-tracker")?(o=this.chartPosition,t=d.plotX,c=d.plotY,f(d,{pageX:o.left+e+(j?b.plotWidth-c:t),pageY:o.top+g+(j?b.plotHeight-t:c)}),ga(d.series,"click",f(a,{point:d})),b.hoverPoint&&d.firePointEvent("click",a)):(f(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-
e,a.chartY-g)&&ga(b,"click",a))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};R(b,"mouseleave",a.onContainerMouseLeave);R(Q,"mouseup",a.onDocumentMouseUp);if(hb){b.ontouchstart=function(b){a.onContainerTouchStart(b)};b.ontouchmove=function(b){a.onContainerTouchMove(b)};R(Q,"touchend",a.onDocumentTouchEnd)}},destroy:function(){var a;ia(this.chart.container,
"mouseleave",this.onContainerMouseLeave);ia(Q,"mouseup",this.onDocumentMouseUp);ia(Q,"touchend",this.onDocumentTouchEnd);clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}};f(ha.Pointer.prototype,{pinchTranslate:function(a,b,d,e,g,j,o,t){a&&this.pinchTranslateDirection(true,d,e,g,j,o,t);b&&this.pinchTranslateDirection(false,d,e,g,j,o,t)},pinchTranslateDirection:function(a,b,d,e,g,j,o,t){var c=this.chart,f=a?"x":"y",u=a?"X":"Y",k="chart"+u,h=a?"width":"height",l=c["plot"+(a?"Left":"Top")],
m,z,r=t||1,s=c.inverted,p=c.bounds[a?"h":"v"],n=b.length===1,v=b[0][k],F=d[0][k],q=!n&&b[1][k],y=!n&&d[1][k],E,d=function(){!n&&da(v-q)>20&&(r=t||da(F-y)/da(v-q));z=(l-F)/r+v;m=c["plot"+(a?"Width":"Height")]/r};d();b=z;b<p.min?(b=p.min,E=true):b+m>p.max&&(b=p.max-m,E=true);E?(F=F-0.8*(F-o[f][0]),n||(y=y-0.8*(y-o[f][1])),d()):o[f]=[F,y];s||(j[f]=z-l,j[h]=m);j=s?1/r:r;g[h]=m;g[f]=b;e[s?a?"scaleY":"scaleX":"scale"+u]=r;e["translate"+u]=j*l+(F-j*v)},pinch:function(a){var b=this,d=b.chart,e=b.pinchDown,
g=d.tooltip&&d.tooltip.options.followTouchMove,j=a.touches,o=j.length,t=b.lastValidTouch,c=b.zoomHor||b.pinchHor,k=b.zoomVert||b.pinchVert,u=c||k,h=b.selectionMarker,l={},m=o===1&&(b.inClass(a.target,"highcharts-tracker")&&d.runTrackerClick||d.runChartClick),r={};(u||g)&&!m&&a.preventDefault();Na(j,function(a){return b.normalize(a)});if(a.type==="touchstart"){D(j,function(a,b){e[b]={chartX:a.chartX,chartY:a.chartY}});t.x=[e[0].chartX,e[1]&&e[1].chartX];t.y=[e[0].chartY,e[1]&&e[1].chartY];D(d.axes,
function(a){if(a.zoomEnabled){var b=d.bounds[a.horiz?"h":"v"],e=a.minPixelPadding,g=a.toPixels(a.dataMin),j=a.toPixels(a.dataMax),o=P(g,j),g=K(g,j);b.min=P(a.pos,o-e);b.max=K(a.pos+a.len,g+e)}})}else if(e.length){if(!h)b.selectionMarker=h=f({destroy:La},d.plotBox);b.pinchTranslate(c,k,e,j,l,h,r,t);b.hasPinched=u;b.scaleGroups(l,r);!u&&g&&o===1&&this.runPointActions(b.normalize(a))}},onContainerTouchStart:function(a){var b=this.chart;Ga=b.index;a.touches.length===1?(a=this.normalize(a),b.isInsidePlot(a.chartX-
b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):a.touches.length===2&&this.pinch(a)},onContainerTouchMove:function(a){(a.touches.length===1||a.touches.length===2)&&this.pinch(a)},onDocumentTouchEnd:function(a){k(Ga)&&Ba[Ga].pointer.drop(a)}});if(ka.PointerEvent||ka.MSPointerEvent){var Oa={},Fb=!!ka.PointerEvent,ac=function(){var a,b=[];b.item=function(a){return this[a]};for(a in Oa)Oa.hasOwnProperty(a)&&b.push({pageX:Oa[a].pageX,pageY:Oa[a].pageY,target:Oa[a].target});
return b},Gb=function(a,b,d,e){a=a.originalEvent||a;if((a.pointerType==="touch"||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&Ba[Ga]){e(a);e=Ba[Ga].pointer;e[b]({type:d,target:a.currentTarget,preventDefault:La,touches:ac()})}};f(fb.prototype,{onContainerPointerDown:function(a){Gb(a,"onContainerTouchStart","touchstart",function(a){Oa[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){Gb(a,"onContainerTouchMove","touchmove",function(a){Oa[a.pointerId]=
{pageX:a.pageX,pageY:a.pageY};if(!Oa[a.pointerId].target)Oa[a.pointerId].target=a.currentTarget})},onDocumentPointerUp:function(a){Gb(a,"onContainerTouchEnd","touchend",function(a){delete Oa[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,Fb?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,Fb?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(Q,Fb?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});L(fb.prototype,"init",function(a,b,d){B(b.container,
{"-ms-touch-action":qa,"touch-action":qa});a.call(this,b,d)});L(fb.prototype,"setDOMEvents",function(a){a.apply(this);this.batchMSEvents(R)});L(fb.prototype,"destroy",function(a){this.batchMSEvents(ia);a.call(this)})}var vb=ha.Legend=function(a,b){this.init(a,b)};vb.prototype={init:function(a,b){var d=this,e=b.itemStyle,g=r(b.padding,8),j=b.itemMarginTop||0;this.options=b;if(b.enabled){d.baseline=q(e.fontSize)+3+j;d.itemStyle=e;d.itemHiddenStyle=A(e,b.itemHiddenStyle);d.itemMarginTop=j;d.padding=
g;d.initialItemX=g;d.initialItemY=g-5;d.maxItemWidth=0;d.chart=a;d.itemHeight=0;d.lastLineHeight=0;d.symbolWidth=r(b.symbolWidth,16);d.pages=[];d.render();R(d.chart,"endResize",function(){d.positionCheckboxes()})}},colorizeItem:function(a,b){var d=this.options,e=a.legendItem,g=a.legendLine,j=a.legendSymbol,o=this.itemHiddenStyle.color,d=b?d.itemStyle.color:o,t=b?a.legendColor||a.color||"#CCC":o,o=a.options&&a.options.marker,c={stroke:t,fill:t},f;e&&e.css({fill:d,color:d});g&&g.attr({stroke:t});if(j){if(o&&
j.isMarker)for(f in o=a.convertAttribs(o),o){e=o[f];e!==I&&(c[f]=e)}j.attr(c)}},positionItem:function(a){var b=this.options,d=b.symbolPadding,b=!b.rtl,e=a._legendItemPos,g=e[0],e=e[1],j=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?g:this.legendWidth-g-2*d-4,e);if(j){j.x=g;j.y=e}},destroyItem:function(a){var b=a.checkbox;D(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&oa(a.checkbox)},destroy:function(){var a=this.group,b=this.box;if(b)this.box=
b.destroy();if(a)this.group=a.destroy()},positionCheckboxes:function(a){var b=this.group.alignAttr,d,e=this.clipHeight||this.legendHeight;if(b){d=b.translateY;D(this.allItems,function(g){var j=g.checkbox,o;j&&(o=d+j.y+(a||0)+3,B(j,{left:b.translateX+g.legendItemWidth+j.x-20+"px",top:o+"px",display:o>d-6&&o<d+e-6?"":qa}))})}},renderTitle:function(){var a=this.padding,b=this.options.title,d=0;if(b.text){if(!this.title)this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group);
a=this.title.getBBox();d=a.height;this.offsetWidth=a.width;this.contentGroup.attr({translateY:d})}this.titleHeight=d},renderItem:function(a){var b=this.chart,d=b.renderer,e=this.options,g=e.layout==="horizontal",j=this.symbolWidth,o=e.symbolPadding,t=this.itemStyle,c=this.itemHiddenStyle,f=this.padding,u=g?r(e.itemDistance,8):0,k=!e.rtl,h=e.width,l=e.itemMarginBottom||0,m=this.itemMarginTop,z=this.initialItemX,s=a.legendItem,p=a.series&&a.series.drawLegendSymbol?a.series:a,n=p.options,n=this.createCheckboxForItem&&
n&&n.showCheckbox,v=e.useHTML;if(!s){a.legendGroup=d.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);p.drawLegendSymbol(this,a);a.legendItem=s=d.text(e.labelFormat?ta(e.labelFormat,a):e.labelFormatter.call(a),k?j+o:-o,this.baseline,v).css(A(a.visible?t:c)).attr({align:k?"left":"right",zIndex:2}).add(a.legendGroup);this.setItemEvents&&this.setItemEvents(a,s,v,t,c);this.colorizeItem(a,a.visible);n&&this.createCheckboxForItem(a)}d=s.getBBox();j=a.legendItemWidth=e.itemWidth||a.legendItemWidth||
j+o+d.width+u+(n?20:0);this.itemHeight=o=J(a.legendItemHeight||d.height);if(g&&this.itemX-z+j>(h||b.chartWidth-2*f-z-e.x)){this.itemX=z;this.itemY=this.itemY+(m+this.lastLineHeight+l);this.lastLineHeight=0}this.maxItemWidth=K(this.maxItemWidth,j);this.lastItemY=m+this.itemY+l;this.lastLineHeight=K(o,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];g?this.itemX=this.itemX+j:(this.itemY=this.itemY+(m+o+l),this.lastLineHeight=o);this.offsetWidth=h||K((g?this.itemX-z-u:j)+f,this.offsetWidth)},
getAllItems:function(){var a=[];D(this.chart.series,function(b){var d=b.options;if(r(d.showInLegend,!k(d.linkedTo)?I:false,true))a=a.concat(b.legendItems||(d.legendType==="point"?b.data:b))});return a},render:function(){var a=this,b=a.chart,d=b.renderer,e=a.group,g,j,o,t,c=a.box,k=a.options,u=a.padding,h=k.borderWidth,l=k.backgroundColor;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;if(!e){a.group=e=d.g("legend").attr({zIndex:7}).add();a.contentGroup=d.g().attr({zIndex:1}).add(e);
a.scrollGroup=d.g().add(a.contentGroup)}a.renderTitle();g=a.getAllItems();Fa(g,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)});k.reversed&&g.reverse();a.allItems=g;a.display=j=!!g.length;D(g,function(b){a.renderItem(b)});o=k.width||a.offsetWidth;t=a.lastItemY+a.lastLineHeight+a.titleHeight;t=a.handleOverflow(t);if(h||l){o=o+u;t=t+u;if(c){if(o>0&&t>0){c[c.isNew?"attr":"animate"](c.crisp({width:o,height:t}));c.isNew=false}}else{a.box=c=d.rect(0,0,o,
t,k.borderRadius,h||0).attr({stroke:k.borderColor,"stroke-width":h||0,fill:l||qa}).add(e).shadow(k.shadow);c.isNew=true}c[j?"show":"hide"]()}a.legendWidth=o;a.legendHeight=t;D(g,function(b){a.positionItem(b)});j&&e.align(f({width:o,height:t},k),true,"spacingBox");b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,d=this.chart,e=d.renderer,g=this.options,j=g.y,j=d.spacingBox.height+(g.verticalAlign==="top"?-j:j)-this.padding,o=g.maxHeight,t,c=this.clipRect,f=g.navigation,
u=r(f.animation,true),k=f.arrowSize||12,h=this.nav,l=this.pages,m,z=this.allItems;g.layout==="horizontal"&&(j=j/2);o&&(j=P(j,o));l.length=0;if(a>j&&!g.useHTML){this.clipHeight=t=j-20-this.titleHeight-this.padding;this.currentPage=r(this.currentPage,1);this.fullHeight=a;D(z,function(a,b){var d=a._legendItemPos[1],e=J(a.legendItem.getBBox().height),g=l.length;if(!g||d-l[g-1]>t&&(m||d)!==l[g-1]){l.push(m||d);g++}b===z.length-1&&d+e-l[g-1]>t&&l.push(d);d!==m&&(m=d)});if(!c){c=b.clipRect=e.clipRect(0,
this.padding,9999,0);b.contentGroup.clip(c)}c.attr({height:t});if(!h){this.nav=h=e.g().attr({zIndex:1}).add(this.group);this.up=e.symbol("triangle",0,0,k,k).on("click",function(){b.scroll(-1,u)}).add(h);this.pager=e.text("",15,10).css(f.style).add(h);this.down=e.symbol("triangle-down",0,0,k,k).on("click",function(){b.scroll(1,u)}).add(h)}b.scroll(0);a=j}else if(h){c.attr({height:d.chartHeight});h.hide();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return a},scroll:function(a,b){var d=this.pages,
e=d.length,g=this.currentPage+a,j=this.clipHeight,o=this.options.navigation,t=o.activeColor,o=o.inactiveColor,c=this.pager,f=this.padding;g>e&&(g=e);if(g>0){b!==I&&aa(b,this.chart);this.nav.attr({translateX:f,translateY:j+this.padding+7+this.titleHeight,visibility:"visible"});this.up.attr({fill:g===1?o:t}).css({cursor:g===1?"default":"pointer"});c.attr({text:g+"/"+e});this.down.attr({x:18+this.pager.getBBox().width,fill:g===e?o:t}).css({cursor:g===e?"default":"pointer"});d=-d[g-1]+this.initialItemY;
this.scrollGroup.animate({translateY:d});this.currentPage=g;this.positionCheckboxes(d)}}};ea=ha.LegendSymbolMixin={drawRectangle:function(a,b){var d=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-d/2,a.symbolWidth,d,r(a.options.symbolRadius,2)).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b=this.options,d=b.marker,e;e=a.symbolWidth;var g=this.chart.renderer,j=this.legendGroup,a=a.baseline-J(g.fontMetrics(a.options.itemStyle.fontSize).b*0.3),
o;if(b.lineWidth){o={"stroke-width":b.lineWidth};if(b.dashStyle)o.dashstyle=b.dashStyle;this.legendLine=g.path(["M",0,a,"L",e,a]).attr(o).add(j)}if(d&&d.enabled){b=d.radius;this.legendSymbol=e=g.symbol(this.symbol,e/2-b,a-b,2*b,2*b).add(j);e.isMarker=true}}};(/Trident\/7\.0/.test(Ta)||gb)&&L(vb.prototype,"positionItem",function(a,b){var d=this,e=function(){b._legendItemPos&&a.call(d,b)};d.chart.renderer.forExport?e():setTimeout(e)});xa.prototype={init:function(a,b){var d,e=a.series;a.series=null;
d=A(ca,a);d.series=a.series=e;this.userOptions=a;e=d.chart;this.margin=this.splashArray("margin",e);this.spacing=this.splashArray("spacing",e);var g=e.events;this.bounds={h:{},v:{}};this.callback=b;this.isResizing=0;this.options=d;this.axes=[];this.series=[];this.hasCartesianSeries=e.showAxes;var j=this,o;j.index=Ba.length;Ba.push(j);e.reflow!==false&&R(j,"load",function(){j.initReflow()});if(g)for(o in g)R(j,o,g[o]);j.xAxis=[];j.yAxis=[];j.animation=Da?false:r(e.animation,true);j.pointCount=0;j.counters=
new Wa;j.firstRender()},initSeries:function(a){var b=this.options.chart;(b=U[a.type||b.type||b.defaultSeriesType])||X(17,true);b=new b;b.init(this,a);return b},isInsidePlot:function(a,b,d){var e=d?b:a,a=d?a:b;return e>=0&&e<=this.plotWidth&&a>=0&&a<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==false&&D(this.axes,function(a){a.adjustTickAmount()});this.maxTicks=null},redraw:function(a){var b=this.axes,d=this.series,e=this.pointer,g=this.legend,j=this.isDirtyLegend,
o,t,c=this.isDirtyBox,k=d.length,u=k,h=this.renderer,l=h.isHidden(),m=[];aa(a,this);l&&this.cloneRenderTo();for(this.layOutTitles();u--;)if(a=d[u],a.options.stacking&&(o=true,a.isDirty)){t=true;break}if(t)for(u=k;u--;)if(a=d[u],a.options.stacking)a.isDirty=true;D(d,function(a){a.isDirty&&a.options.legendType==="point"&&(j=true)});if(j&&g.options.enabled){g.render();this.isDirtyLegend=false}o&&this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null;D(b,function(a){a.setScale()})}this.adjustTickAmounts();
this.getMargins();D(b,function(a){a.isDirty&&(c=true)});D(b,function(a){if(a.isDirtyExtremes){a.isDirtyExtremes=false;m.push(function(){ga(a,"afterSetExtremes",f(a.eventArgs,a.getExtremes()));delete a.eventArgs})}(c||o)&&a.redraw()})}c&&this.drawChartBox();D(d,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()});e&&e.reset(true);h.draw();ga(this,"redraw");l&&this.cloneRenderTo(true);D(m,function(a){a.call()})},get:function(a){var b=this.axes,d=this.series,e,g;for(e=0;e<b.length;e++)if(b[e].options.id===
a)return b[e];for(e=0;e<d.length;e++)if(d[e].options.id===a)return d[e];for(e=0;e<d.length;e++){g=d[e].points||[];for(b=0;b<g.length;b++)if(g[b].id===a)return g[b]}return null},getAxes:function(){var a=this,b=this.options,d=b.xAxis=H(b.xAxis||{}),b=b.yAxis=H(b.yAxis||{});D(d,function(a,b){a.index=b;a.isX=true});D(b,function(a,b){a.index=b});d=d.concat(b);D(d,function(b){new F(a,b)});a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];D(this.series,function(b){a=a.concat(Db(b.points||[],function(a){return a.selected}))});
return a},getSelectedSeries:function(){return Db(this.series,function(a){return a.selected})},getStacks:function(){var a=this;D(a.yAxis,function(a){if(a.stacks&&a.hasVisibleSeries)a.oldStacks=a.stacks});D(a.series,function(b){if(b.options.stacking&&(b.visible===true||a.options.chart.ignoreHiddenSeries===false))b.stackKey=b.type+r(b.options.stack,"")})},setTitle:function(a,b,d){var e=this,g=e.options,j;j=g.title=A(g.title,a);g=g.subtitle=A(g.subtitle,b);D([["title",a,j],["subtitle",b,g]],function(a){var b=
a[0],d=e[b],g=a[1],a=a[2];d&&g&&(e[b]=d=d.destroy());a&&a.text&&!d&&(e[b]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())});e.layOutTitles(d)},layOutTitles:function(a){var b=0,d=this.title,e=this.subtitle,g=this.options,j=g.title,g=g.subtitle,o=this.spacingBox.width-44;if(d&&(d.css({width:(j.width||o)+"px"}).align(f({y:15},j),false,"spacingBox"),!j.floating&&!j.verticalAlign)){b=d.getBBox().height;b>=18&&b<=25&&(b=15)}e&&(e.css({width:(g.width||
o)+"px"}).align(f({y:b+j.margin},g),false,"spacingBox"),!g.floating&&!g.verticalAlign&&(b=db(b+e.getBBox().height)));d=this.titleOffset!==b;this.titleOffset=b;if(!this.isDirtyBox&&d){this.isDirtyBox=d;this.hasRendered&&r(a,true)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,d=this.renderToClone||this.renderTo;if(!k(b))this.containerWidth=tb(d,"width");if(!k(a))this.containerHeight=tb(d,"height");this.chartWidth=K(0,b||this.containerWidth||
600);this.chartHeight=K(0,r(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,d=this.container;a?b&&(this.renderTo.appendChild(d),oa(b),delete this.renderToClone):(d&&d.parentNode===this.renderTo&&this.renderTo.removeChild(d),this.renderToClone=b=this.renderTo.cloneNode(0),B(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),Q.body.appendChild(b),d&&b.appendChild(d))},
getContainer:function(){var a,b=this.options.chart,d,e,g;this.renderTo=a=b.renderTo;g="highcharts-"+Bb++;if(c(a))this.renderTo=a=Q.getElementById(a);a||X(13,true);d=q(v(a,"data-highcharts-chart"));!isNaN(d)&&Ba[d]&&Ba[d].hasRendered&&Ba[d].destroy();v(a,"data-highcharts-chart",this.index);a.innerHTML="";!b.skipClone&&!a.offsetWidth&&this.cloneRenderTo();this.getChartSize();d=this.chartWidth;e=this.chartHeight;this.container=a=l(ab,{className:"highcharts-container"+(b.className?" "+b.className:""),
id:g},f({position:"relative",overflow:"hidden",width:d+"px",height:e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},b.style),this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=b.forExport?new Ea(a,d,e,b.style,true):new eb(a,d,e,b.style);Da&&this.renderer.create(this,a,d,e)},getMargins:function(){var a=this.spacing,b,d=this.legend,e=this.margin,g=this.options.legend,j=r(g.margin,10),o=g.x,c=g.y,f=g.align,h=g.verticalAlign,u=this.titleOffset;
this.resetMargins();b=this.axisOffset;if(u&&!k(e[0]))this.plotTop=K(this.plotTop,u+this.options.title.margin+a[0]);if(d.display&&!g.floating)if(f==="right"){if(!k(e[1]))this.marginRight=K(this.marginRight,d.legendWidth-o+j+a[1])}else if(f==="left"){if(!k(e[3]))this.plotLeft=K(this.plotLeft,d.legendWidth+o+j+a[3])}else if(h==="top"){if(!k(e[0]))this.plotTop=K(this.plotTop,d.legendHeight+c+j+a[0])}else if(h==="bottom"&&!k(e[2]))this.marginBottom=K(this.marginBottom,d.legendHeight-c+j+a[2]);this.extraBottomMargin&&
(this.marginBottom=this.marginBottom+this.extraBottomMargin);this.extraTopMargin&&(this.plotTop=this.plotTop+this.extraTopMargin);this.hasCartesianSeries&&D(this.axes,function(a){a.getOffset()});k(e[3])||(this.plotLeft=this.plotLeft+b[3]);k(e[0])||(this.plotTop=this.plotTop+b[0]);k(e[2])||(this.marginBottom=this.marginBottom+b[2]);k(e[1])||(this.marginRight=this.marginRight+b[1]);this.setChartSize()},reflow:function(a){var b=this,d=b.options.chart,e=b.renderTo,g=d.width||tb(e,"width"),j=d.height||
tb(e,"height"),d=a?a.target:ka,e=function(){if(b.container){b.setSize(g,j,false);b.hasUserSize=null}};if(!b.hasUserSize&&g&&j&&(d===ka||d===Q)){if(g!==b.containerWidth||j!==b.containerHeight){clearTimeout(b.reflowTimeout);a?b.reflowTimeout=setTimeout(e,100):e()}b.containerWidth=g;b.containerHeight=j}},initReflow:function(){var a=this,b=function(b){a.reflow(b)};R(ka,"resize",b);R(a,"destroy",function(){ia(ka,"resize",b)})},setSize:function(a,b,d){var e=this,g,j,o;e.isResizing=e.isResizing+1;o=function(){e&&
ga(e,"endResize",null,function(){e.isResizing=e.isResizing-1})};aa(d,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;if(k(a)){e.chartWidth=g=K(0,J(a));e.hasUserSize=!!g}if(k(b))e.chartHeight=j=K(0,J(b));(Ra?ub:B)(e.container,{width:g+"px",height:j+"px"},Ra);e.setChartSize(true);e.renderer.setSize(g,j,d);e.maxTicks=null;D(e.axes,function(a){a.isDirty=true;a.setScale()});D(e.series,function(a){a.isDirty=true});e.isDirtyLegend=true;e.isDirtyBox=true;e.getMargins();e.redraw(d);e.oldChartHeight=
null;ga(e,"resize");Ra===false?o():setTimeout(o,Ra&&Ra.duration||500)},setChartSize:function(a){var b=this.inverted,d=this.renderer,e=this.chartWidth,g=this.chartHeight,j=this.options.chart,o=this.spacing,c=this.clipOffset,f,k,u,h;this.plotLeft=f=J(this.plotLeft);this.plotTop=k=J(this.plotTop);this.plotWidth=u=K(0,J(e-f-this.marginRight));this.plotHeight=h=K(0,J(g-k-this.marginBottom));this.plotSizeX=b?h:u;this.plotSizeY=b?u:h;this.plotBorderWidth=j.plotBorderWidth||0;this.spacingBox=d.spacingBox=
{x:o[3],y:o[0],width:e-o[3]-o[1],height:g-o[0]-o[2]};this.plotBox=d.plotBox={x:f,y:k,width:u,height:h};e=2*ja(this.plotBorderWidth/2);b=db(K(e,c[3])/2);d=db(K(e,c[0])/2);this.clipBox={x:b,y:d,width:ja(this.plotSizeX-K(e,c[1])/2-b),height:ja(this.plotSizeY-K(e,c[2])/2-d)};a||D(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=r(b[0],a[0]);this.marginRight=r(b[1],a[1]);this.marginBottom=r(b[2],a[2]);this.plotLeft=r(b[3],
a[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,d=this.chartWidth,e=this.chartHeight,g=this.chartBackground,j=this.plotBackground,o=this.plotBorder,c=this.plotBGImage,f=a.borderWidth||0,k=a.backgroundColor,u=a.plotBackgroundColor,h=a.plotBackgroundImage,l=a.plotBorderWidth||0,m,z=this.plotLeft,r=this.plotTop,s=this.plotWidth,p=this.plotHeight,n=this.plotBox,v=this.clipRect,F=this.clipBox;m=f+(a.shadow?8:0);if(f||k)if(g)g.animate(g.crisp({width:d-
m,height:e-m}));else{g={fill:k||qa};if(f){g.stroke=a.borderColor;g["stroke-width"]=f}this.chartBackground=b.rect(m/2,m/2,d-m,e-m,a.borderRadius,f).attr(g).addClass("highcharts-background").add().shadow(a.shadow)}if(u)j?j.animate(n):this.plotBackground=b.rect(z,r,s,p,0).attr({fill:u}).add().shadow(a.plotShadow);if(h)c?c.animate(n):this.plotBGImage=b.image(h,z,r,s,p).add();v?v.animate({width:F.width,height:F.height}):this.clipRect=b.clipRect(F);if(l)o?o.animate(o.crisp({x:z,y:r,width:s,height:p})):
this.plotBorder=b.rect(z,r,s,p,0,-l).attr({stroke:a.plotBorderColor,"stroke-width":l,fill:qa,zIndex:1}).add();this.isDirtyBox=false},propFromSeries:function(){var a=this,b=a.options.chart,d,e=a.options.series,g,j;D(["inverted","angular","polar"],function(o){d=U[b.type||b.defaultSeriesType];j=a[o]||b[o]||d&&d.prototype[o];for(g=e&&e.length;!j&&g--;)(d=U[e[g].type])&&d.prototype[o]&&(j=true);a[o]=j})},linkSeries:function(){var a=this,b=a.series;D(b,function(a){a.linkedSeries.length=0});D(b,function(b){var e=
b.options.linkedTo;if(c(e)&&(e=e===":previous"?a.series[b.index-1]:a.get(e))){e.linkedSeries.push(b);b.linkedParent=e}})},renderSeries:function(){D(this.series,function(a){a.translate();a.setTooltipPoints&&a.setTooltipPoints();a.render()})},render:function(){var a=this,b=a.axes,d=a.renderer,e=a.options,g=e.labels,j=e.credits,o;a.setTitle();a.legend=new vb(a,e.legend);a.getStacks();D(b,function(a){a.setScale()});a.getMargins();a.maxTicks=null;D(b,function(a){a.setTickPositions(true);a.setMaxTicks()});
a.adjustTickAmounts();a.getMargins();a.drawChartBox();a.hasCartesianSeries&&D(b,function(a){a.render()});if(!a.seriesGroup)a.seriesGroup=d.g("series-group").attr({zIndex:3}).add();a.renderSeries();g.items&&D(g.items,function(b){var e=f(g.style,b.style),j=q(e.left)+a.plotLeft,o=q(e.top)+a.plotTop+12;delete e.left;delete e.top;d.text(b.html,j,o).attr({zIndex:2}).css(e).add()});if(j.enabled&&!a.credits){o=j.href;a.credits=d.text(j.text,0,0).on("click",function(){if(o)location.href=o}).attr({align:j.position.align,
zIndex:8}).css(j.style).add().align(j.position)}a.hasRendered=true},destroy:function(){var a=this,b=a.axes,d=a.series,e=a.container,g,j=e&&e.parentNode;ga(a,"destroy");Ba[a.index]=I;a.renderTo.removeAttribute("data-highcharts-chart");ia(a);for(g=b.length;g--;)b[g]=b[g].destroy();for(g=d.length;g--;)d[g]=d[g].destroy();D(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton",
"tooltip","renderer"],function(b){var d=a[b];d&&d.destroy&&(a[b]=d.destroy())});if(e){e.innerHTML="";ia(e);j&&oa(e)}for(g in a)delete a[g]},isReadyToRender:function(){var a=this;return!za&&ka==ka.top&&Q.readyState!=="complete"||Da&&!ka.canvg?(Da?Pb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):Q.attachEvent("onreadystatechange",function(){Q.detachEvent("onreadystatechange",a.firstRender);Q.readyState==="complete"&&a.firstRender()}),false):true},firstRender:function(){var a=this,
b=a.options,d=a.callback;if(a.isReadyToRender()){a.getContainer();ga(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();D(b.series||[],function(b){a.initSeries(b)});a.linkSeries();ga(a,"beforeRender");if(ha.Pointer)a.pointer=new fb(a,b);a.render();a.renderer.draw();d&&d.apply(a,[a]);D(a.callbacks,function(b){b.apply(a,[a])});a.cloneRenderTo(true);ga(a,"load")}},splashArray:function(a,b){var d=b[a],d=p(d)?d:[d,d,d,d];return[r(b[a+"Top"],d[0]),r(b[a+"Right"],d[1]),r(b[a+"Bottom"],
d[2]),r(b[a+"Left"],d[3])]}};xa.prototype.callbacks=[];Ia=ha.CenteredSeriesMixin={getCenter:function(){var a=this.options,b=this.chart,d=2*(a.slicedOffset||0),e,g=b.plotWidth-2*d,j=b.plotHeight-2*d,b=a.center,a=[r(b[0],"50%"),r(b[1],"50%"),a.size||"100%",a.innerSize||0],o=P(g,j),c;return Na(a,function(a,b){c=/%$/.test(a);e=b<2||b===2&&c;return(c?[g,j,o,o][b]*q(a)/100:a)+(e?d:0)})}};var Pa=function(){};Pa.prototype={init:function(a,b,d){this.series=a;this.applyOptions(b,d);this.pointAttr={};if(a.options.colorByPoint&&
(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length))a.colorCounter=0;a.chart.pointCount++;return this},applyOptions:function(a,b){var d=this.series,e=d.pointValKey,a=Pa.prototype.optionsToObject.call(this,a);f(this,a);this.options=this.options?f(this.options,a):a;if(e)this.y=this[e];if(this.x===I&&d)this.x=b===I?d.autoIncrement():b;return this},optionsToObject:function(a){var b={},d=this.series,e=d.pointArrayMap||["y"],g=e.length,j=0,o=
0;if(typeof a==="number"||a===null)b[e[0]]=a;else if(y(a)){if(a.length>g){d=typeof a[0];if(d==="string")b.name=a[0];else if(d==="number")b.x=a[0];j++}for(;o<g;)b[e[o++]]=a[j++]}else if(typeof a==="object"){b=a;if(a.dataLabels)d._hasPointLabels=true;if(a.marker)d._hasPointMarkers=true}return b},destroy:function(){var a=this.series.chart,b=a.hoverPoints,d;a.pointCount--;if(b&&(this.setState(),m(b,this),!b.length))a.hoverPoints=null;if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel){ia(this);
this.destroyElements()}this.legendItem&&a.legend.destroyItem(this);for(d in this)this[d]=null},destroyElements:function(){for(var a=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],b,d=6;d--;){b=a[d];this[b]&&(this[b]=this[b].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,d=b.tooltipOptions,
e=r(d.valueDecimals,""),g=d.valuePrefix||"",j=d.valueSuffix||"";D(b.pointArrayMap||["y"],function(b){b="{point."+b;if(g||j)a=a.replace(b+"}",g+b+"}"+j);a=a.replace(b+"}",b+":,."+e+"f}")});return ta(a,{point:this,series:this.series})}};var Z=function(){};Z.prototype={isCartesian:!0,type:"line",pointClass:Pa,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(a,
b){var d=this,e,g,j=a.series,o=function(a,b){return r(a.options.index,a._i)-r(b.options.index,b._i)};d.chart=a;d.options=b=d.setOptions(b);d.linkedSeries=[];d.bindAxes();f(d,{name:b.name,state:"",pointAttr:{},visible:b.visible!==false,selected:b.selected===true});if(Da)b.animation=false;g=b.events;for(e in g)R(d,e,g[e]);if(g&&g.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=true;d.getColor();d.getSymbol();D(d.parallelArrays,function(a){d[a+"Data"]=[]});
d.setData(b.data,false);if(d.isCartesian)a.hasCartesianSeries=true;j.push(d);d._i=j.length-1;Fa(j,o);this.yAxis&&Fa(this.yAxis.series,o);D(j,function(a,b){a.index=b;a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a=this,b=a.options,d=a.chart,e;D(a.axisTypes||[],function(g){D(d[g],function(d){e=d.options;if(b[g]===e.index||b[g]!==I&&b[g]===e.id||b[g]===I&&e.index===0){d.series.push(a);a[g]=d;d.isDirty=true}});!a[g]&&a.optionalAxis!==g&&X(18,true)})},updateParallelArrays:function(a,b){var d=
a.series,e=arguments;D(d.parallelArrays,typeof b==="number"?function(e){var j=e==="y"&&d.toYData?d.toYData(a):a[e];d[e+"Data"][b]=j}:function(a){Array.prototype[b].apply(d[a+"Data"],Array.prototype.slice.call(e,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=r(b,a.pointStart,0);this.pointInterval=r(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},getSegments:function(){var a=-1,b=[],d,e=this.points,g=e.length;if(g)if(this.options.connectNulls){for(d=
g;d--;)e[d].y===null&&e.splice(d,1);e.length&&(b=[e])}else D(e,function(d,o){d.y===null?(o>a+1&&b.push(e.slice(a+1,o)),a=o):o===g-1&&b.push(e.slice(a+1,o+1))});this.segments=b},setOptions:function(a){var b=this.chart,d=b.options.plotOptions,b=b.userOptions||{},e=b.plotOptions||{},g=d[this.type];this.userOptions=a;d=A(g,d.series,a);this.tooltipOptions=A(ca.tooltip,ca.plotOptions[this.type].tooltip,b.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip);g.marker===null&&delete d.marker;
return d},getColor:function(){var a=this.options,b=this.userOptions,d=this.chart.options.colors,e=this.chart.counters,g;g=a.color||la[this.type].color;if(!g&&!a.colorByPoint){k(b._colorIndex)?a=b._colorIndex:(b._colorIndex=e.color,a=e.color++);g=d[a]}this.color=g;e.wrapColor(d.length)},getSymbol:function(){var a=this.userOptions,b=this.options.marker,d=this.chart,e=d.options.symbols,d=d.counters;this.symbol=b.symbol;if(!this.symbol){k(a._symbolIndex)?a=a._symbolIndex:(a._symbolIndex=d.symbol,a=d.symbol++);
this.symbol=e[a]}if(/^url/.test(this.symbol))b.radius=0;d.wrapSymbol(e.length)},drawLegendSymbol:ea.drawLineMarker,setData:function(a,b,d,e){var g=this,j=g.points,o=j&&j.length||0,t,f=g.options,k=g.chart,u=null,l=g.xAxis,m=l&&!!l.categories,z=g.tooltipPoints,s=f.turboThreshold,p=this.xData,n=this.yData,v=(t=g.pointArrayMap)&&t.length,a=a||[];t=a.length;b=r(b,true);if(e!==false&&t&&o===t&&!g.cropped&&!g.hasGroupedData)D(a,function(a,b){j[b].update(a,false)});else{g.xIncrement=null;g.pointRange=m?1:
f.pointRange;g.colorCounter=0;D(this.parallelArrays,function(a){g[a+"Data"].length=0});if(s&&t>s){for(d=0;u===null&&d<t;){u=a[d];d++}if(h(u)){m=r(f.pointStart,0);f=r(f.pointInterval,1);for(d=0;d<t;d++){p[d]=m;n[d]=a[d];m=m+f}g.xIncrement=m}else if(y(u))if(v)for(d=0;d<t;d++){f=a[d];p[d]=f[0];n[d]=f.slice(1,v+1)}else for(d=0;d<t;d++){f=a[d];p[d]=f[0];n[d]=f[1]}else X(12)}else for(d=0;d<t;d++)if(a[d]!==I&&(f={series:g},g.pointClass.prototype.applyOptions.apply(f,[a[d]]),g.updateParallelArrays(f,d),m&&
f.name))l.names[f.x]=f.name;c(n[0])&&X(14,true);g.data=[];g.options.data=a;for(d=o;d--;)j[d]&&j[d].destroy&&j[d].destroy();if(z)z.length=0;if(l)l.minRange=l.userMinRange;g.isDirty=g.isDirtyData=k.isDirtyBox=true;d=false}b&&k.redraw(d)},processData:function(a){var b=this.xData,d=this.yData,e=b.length,g;g=0;var j,o,c=this.xAxis,f=this.options,k=f.cropThreshold,u=this.isCartesian;if(u&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!a)return false;if(u&&this.sorted&&(!k||e>k||this.forceCrop))if(a=c.min,
c=c.max,b[e-1]<a||b[0]>c){b=[];d=[]}else if(b[0]<a||b[e-1]>c){g=this.cropData(this.xData,this.yData,a,c);b=g.xData;d=g.yData;g=g.start;j=true}for(c=b.length-1;c>=0;c--){e=b[c]-b[c-1];e>0&&(o===I||e<o)?o=e:e<0&&this.requireSorting&&X(15)}this.cropped=j;this.cropStart=g;this.processedXData=b;this.processedYData=d;if(f.pointRange===null)this.pointRange=o||1;this.closestPointRange=o},cropData:function(a,b,d,e){var g=a.length,j=0,o=g,c=r(this.cropShoulder,1),f;for(f=0;f<g;f++)if(a[f]>=d){j=K(0,f-c);break}for(;f<
g;f++)if(a[f]>e){o=f+c;break}return{xData:a.slice(j,o),yData:b.slice(j,o),start:j,end:o}},generatePoints:function(){var a=this.options.data,b=this.data,d,e=this.processedXData,g=this.processedYData,j=this.pointClass,o=e.length,c=this.cropStart||0,f,k=this.hasGroupedData,u,h=[],l;if(!b&&!k){b=[];b.length=a.length;b=this.data=b}for(l=0;l<o;l++){f=c+l;k?h[l]=(new j).init(this,[e[l]].concat(H(g[l]))):(b[f]?u=b[f]:a[f]!==I&&(b[f]=u=(new j).init(this,a[f],e[l])),h[l]=u)}if(b&&(o!==(d=b.length)||k))for(l=
0;l<d;l++)if(l===c&&!k&&(l=l+o),b[l]){b[l].destroyElements();b[l].plotX=I}this.data=b;this.points=h},getExtremes:function(a){var b=this.yAxis,d=this.processedXData,e,g=[],j=0;e=this.xAxis.getExtremes();var o=e.min,c=e.max,f,k,u,h,a=a||this.stackedYData||this.processedYData;e=a.length;for(h=0;h<e;h++)if(k=d[h],u=a[h],f=u!==null&&u!==I&&(!b.isLog||u.length||u>0),k=this.getExtremesFromAll||this.cropped||(d[h+1]||k)>=o&&(d[h-1]||k)<=c,f&&k)if(f=u.length)for(;f--;)u[f]!==null&&(g[j++]=u[f]);else g[j++]=
u;this.dataMin=r(void 0,wa(g));this.dataMax=r(void 0,na(g))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,d=this.xAxis,e=d.categories,g=this.yAxis,j=this.points,o=j.length,c=!!this.modifyValue,f=a.pointPlacement,l=f==="between"||h(f),u=a.threshold,a=0;a<o;a++){var m=j[a],z=m.x,s=m.y,p=m.low,n=b&&g.stacks[(this.negStacks&&s<u?"-":"")+this.stackKey];if(g.isLog&&s<=0)m.y=s=null;m.plotX=d.translate(z,0,0,0,1,f,this.type==="flags");
if(b&&this.visible&&n&&n[z]){n=n[z];s=n.points[this.index];p=s[0];s=s[1];p===0&&(p=r(u,g.min));g.isLog&&p<=0&&(p=null);m.total=m.stackTotal=n.total;m.percentage=n.total&&m.y/n.total*100;m.stackY=s;n.setOffset(this.pointXOffset||0,this.barW||0)}m.yBottom=k(p)?g.translate(p,0,1,0,1):null;c&&(s=this.modifyValue(s,m));m.plotY=typeof s==="number"&&s!==Infinity?g.translate(s,0,1,0,1):I;m.clientX=l?d.translate(z,0,0,0,1):m.plotX;m.negative=m.y<(u||0);m.category=e&&e[m.x]!==I?e[m.x]:m.x}this.getSegments()},
animate:function(a){var b=this,d=b.chart,e=d.renderer,g;g=b.options.animation;var j=d.clipBox,o=d.inverted,c;if(g&&!p(g))g=la[b.type].animation;c="_sharedClip"+g.duration+g.easing;if(a){a=d[c];g=d[c+"m"];a||(d[c]=a=e.clipRect(f(j,{width:0})),d[c+"m"]=g=e.clipRect(-99,o?-d.plotLeft:-d.plotTop,99,o?d.chartWidth:d.chartHeight));b.group.clip(a);b.markerGroup.clip(g);b.sharedClipKey=c}else{if(a=d[c]){a.animate({width:d.plotSizeX},g);d[c+"m"].animate({width:d.plotSizeX+99},g)}b.animate=null;b.animationTimeout=
setTimeout(function(){b.afterAnimate()},g.duration)}},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,d=this.group;d&&this.options.clip!==false&&(d.clip(a.clipRect),this.markerGroup.clip());setTimeout(function(){b&&a[b]&&(a[b]=a[b].destroy(),a[b+"m"]=a[b+"m"].destroy())},100)},drawPoints:function(){var a,b=this.points,d=this.chart,e,g,j,o,c,C,k,u,h=this.options.marker,l=this.pointAttr[""],m,z=this.markerGroup;if(h.enabled||this._hasPointMarkers)for(j=b.length;j--;)if(o=b[j],e=ja(o.plotX),
g=o.plotY,u=o.graphic,C=o.marker||{},a=h.enabled&&C.enabled===I||C.enabled,m=d.isInsidePlot(J(e),g,d.inverted),a&&g!==I&&!isNaN(g)&&o.y!==null)if(a=o.pointAttr[o.selected?"select":""]||l,c=a.r,C=r(C.symbol,this.symbol),k=C.indexOf("url")===0,u)u.attr({visibility:m?"inherit":"hidden"}).animate(f({x:e-c,y:g-c},u.symbolName?{width:2*c,height:2*c}:{}));else{if(m&&(c>0||k))o.graphic=d.renderer.symbol(C,e-c,g-c,2*c,2*c).attr(a).add(z)}else if(u)o.graphic=u.destroy()},convertAttribs:function(a,b,d,e){var g=
this.pointAttrToOptions,j,o,c={},a=a||{},b=b||{},d=d||{},e=e||{};for(j in g){o=g[j];c[j]=r(a[o],b[j],d[j],e[j])}return c},getAttribs:function(){var a=this,b=a.options,d=la[a.type].marker?b.marker:b,e=d.states,g=e.hover,j,o=a.color;j={stroke:o,fill:o};var c=a.points||[],C,h=[],u,l=a.pointAttrToOptions;u=a.hasPointSpecificOptions;var m=b.negativeColor,z=d.lineColor,s=d.fillColor;C=b.turboThreshold;var r;b.marker?(g.radius=g.radius||d.radius+2,g.lineWidth=g.lineWidth||d.lineWidth+1):g.color=g.color||
Ua(g.color||o).brighten(g.brightness).get();h[""]=a.convertAttribs(d,j);D(["hover","select"],function(b){h[b]=a.convertAttribs(e[b],h[""])});a.pointAttr=h;o=c.length;if(!C||o<C||u)for(;o--;){C=c[o];if((d=C.options&&C.options.marker||C.options)&&d.enabled===false)d.radius=0;if(C.negative&&m)C.color=C.fillColor=m;u=b.colorByPoint||C.color;if(C.options)for(r in l)k(d[l[r]])&&(u=true);if(u){d=d||{};u=[];e=d.states||{};j=e.hover=e.hover||{};if(!b.marker)j.color=j.color||!C.options.color&&g.color||Ua(C.color).brighten(j.brightness||
g.brightness).get();j={color:C.color};if(!s)j.fillColor=C.color;if(!z)j.lineColor=C.color;u[""]=a.convertAttribs(f(j,d),h[""]);u.hover=a.convertAttribs(e.hover,h.hover,u[""]);u.select=a.convertAttribs(e.select,h.select,u[""])}else u=h;C.pointAttr=u}},destroy:function(){var a=this,b=a.chart,d=/AppleWebKit\/533/.test(Ta),e,g,j=a.data||[],o,c,f;ga(a,"destroy");ia(a);D(a.axisTypes||[],function(b){if(f=a[b]){m(f.series,a);f.isDirty=f.forceRedraw=true}});a.legendItem&&a.chart.legend.destroyItem(a);for(g=
j.length;g--;)(o=j[g])&&o.destroy&&o.destroy();a.points=null;clearTimeout(a.animationTimeout);D(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(b){a[b]&&(e=d&&b==="group"?"hide":"destroy",a[b][e]())});if(b.hoverSeries===a)b.hoverSeries=null;m(b.series,a);for(c in a)delete a[c]},getSegmentPath:function(a){var b=this,d=[],e=b.options.step;D(a,function(g,j){var o=g.plotX,c=g.plotY,f;b.getPointSpline?d.push.apply(d,b.getPointSpline(a,
g,j)):(d.push(j?"L":"M"),e&&j&&(f=a[j-1],e==="right"?d.push(f.plotX,c):e==="center"?d.push((f.plotX+o)/2,f.plotY,(f.plotX+o)/2,c):d.push(o,f.plotY)),d.push(g.plotX,g.plotY))});return d},getGraphPath:function(){var a=this,b=[],d,e=[];D(a.segments,function(g){d=a.getSegmentPath(g);g.length>1?b=b.concat(d):e.push(g[0])});a.singlePoints=e;return a.graphPath=b},drawGraph:function(){var a=this,b=this.options,d=[["graph",b.lineColor||this.color]],e=b.lineWidth,g=b.dashStyle,j=b.linecap!=="square",o=this.getGraphPath(),
c=b.negativeColor;c&&d.push(["graphNeg",c]);D(d,function(d,c){var f=d[0],t=a[f];if(t){jb(t);t.animate({d:o})}else if(e&&o.length){t={stroke:d[1],"stroke-width":e,fill:qa,zIndex:1};g?t.dashstyle=g:j&&(t["stroke-linecap"]=t["stroke-linejoin"]="round");a[f]=a.chart.renderer.path(o).attr(t).add(a.group).shadow(!c&&b.shadow)}})},clipNeg:function(){var a=this.options,b=this.chart,d=b.renderer,e=a.negativeColor||a.negativeFillColor,g,j=this.graph,o=this.area,c=this.posClip,f=this.negClip;g=b.chartWidth;
var k=b.chartHeight,u=K(g,k),h=this.yAxis;if(e&&(j||o)){e=J(h.toPixels(a.threshold||0,true));e<0&&(u=u-e);a={x:0,y:0,width:u,height:e};u={x:0,y:e,width:u,height:u};if(b.inverted){a.height=u.y=b.plotWidth-e;d.isVML&&(a={x:b.plotWidth-e-b.plotLeft,y:0,width:g,height:k},u={x:e+b.plotLeft-g,y:0,width:b.plotLeft+e,height:g})}h.reversed?(b=u,g=a):(b=a,g=u);c?(c.animate(b),f.animate(g)):(this.posClip=c=d.clipRect(b),this.negClip=f=d.clipRect(g),j&&this.graphNeg&&(j.clip(c),this.graphNeg.clip(f)),o&&(o.clip(c),
this.areaNeg.clip(f)))}},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};D(["group","markerGroup"],function(d){b[d]&&b[d].attr(a).invert()})}var b=this,d=b.chart;if(b.xAxis){R(d,"resize",a);R(b,"destroy",function(){ia(d,"resize",a)});a();b.invertGroups=a}},plotGroup:function(a,b,d,e,g){var j=this[a],o=!j;o&&(this[a]=j=this.chart.renderer.g(b).attr({visibility:d,zIndex:e||0.1}).add(g));j[o?"attr":"animate"](this.getPlotBox());return j},getPlotBox:function(){return{translateX:this.xAxis?
this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this.chart,b,d=this.options,e=d.animation&&!!this.animate&&a.renderer.isSVG,g=this.visible?"visible":"hidden",j=d.zIndex,o=this.hasRendered,c=a.seriesGroup;b=this.plotGroup("group","series",g,j,c);this.markerGroup=this.plotGroup("markerGroup","markers",g,j,c);e&&this.animate(true);this.getAttribs();b.inverted=this.isCartesian?a.inverted:false;this.drawGraph&&(this.drawGraph(),
this.clipNeg());this.drawDataLabels&&this.drawDataLabels();this.visible&&this.drawPoints();this.drawTracker&&this.options.enableMouseTracking!==false&&this.drawTracker();a.inverted&&this.invertGroups();d.clip!==false&&!this.sharedClipKey&&!o&&b.clip(a.clipRect);e?this.animate():o||this.afterAnimate();this.isDirty=this.isDirtyData=false;this.hasRendered=true},redraw:function(){var a=this.chart,b=this.isDirtyData,d=this.group,e=this.xAxis,g=this.yAxis;d&&(a.inverted&&d.attr({width:a.plotWidth,height:a.plotHeight}),
d.animate({translateX:r(e&&e.left,a.plotLeft),translateY:r(g&&g.top,a.plotTop)}));this.translate();this.setTooltipPoints(true);this.render();b&&ga(this,"updatedData")}};Lb.prototype={destroy:function(){W(this,this.axis)},render:function(a){var b=this.options,d=b.format,d=d?ta(d,this):b.formatter.call(this);this.label?this.label.attr({text:d,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(d,0,0,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},
setOffset:function(a,b){var d=this.axis,e=d.chart,g=e.inverted,j=this.isNegative,o=d.translate(this.percent?100:this.total,0,0,0,1),d=d.translate(0),d=da(o-d),c=e.xAxis[0].translate(this.x)+a,f=e.plotHeight,j={x:g?j?o:o-d:c,y:g?f-c-b:j?f-o-d:f-o,width:g?d:b,height:g?b:d};if(g=this.label){g.align(this.alignOptions,null,j);j=g.alignAttr;g[this.options.crop===false||e.isInsidePlot(j.x,j.y)?"show":"hide"](true)}}};F.prototype.buildStacks=function(){var a=this.series,b=r(this.options.reversedStacks,true),
d=a.length;if(!this.isXAxis){for(this.usePercentage=false;d--;)a[b?d:a.length-d-1].setStackedPoints();if(this.usePercentage)for(d=0;d<a.length;d++)a[d].setPercentStacks()}};F.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,d=this.stacks,e,g,j=this.stackTotalGroup;if(!j)this.stackTotalGroup=j=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();j.translate(a.plotLeft,a.plotTop);for(e in d)for(g in a=d[e],a)a[g].render(j)};Z.prototype.setStackedPoints=function(){if(this.options.stacking&&
!(this.visible!==true&&this.chart.options.chart.ignoreHiddenSeries!==false)){var a=this.processedXData,b=this.processedYData,d=[],e=b.length,g=this.options,j=g.threshold,o=g.stack,g=g.stacking,c=this.stackKey,f="-"+c,k=this.negStacks,u=this.yAxis,h=u.stacks,l=u.oldStacks,m,z,s,r,p;for(s=0;s<e;s++){r=a[s];p=b[s];z=(m=k&&p<j)?f:c;h[z]||(h[z]={});if(!h[z][r])l[z]&&l[z][r]?(h[z][r]=l[z][r],h[z][r].total=null):h[z][r]=new Lb(u,u.options.stackLabels,m,r,o,g);z=h[z][r];z.points[this.index]=[z.cum||0];g===
"percent"?(m=m?c:f,k&&h[m]&&h[m][r]?(m=h[m][r],z.total=m.total=K(m.total,z.total)+da(p)||0):z.total=Y(z.total+(da(p)||0))):z.total=Y(z.total+(p||0));z.cum=(z.cum||0)+(p||0);z.points[this.index].push(z.cum);d[s]=z.cum}if(g==="percent")u.usePercentage=true;this.stackedYData=d;u.oldStacks={}}};Z.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,d=a.yAxis.stacks,e=a.processedXData;D([b,"-"+b],function(b){for(var j,o=e.length,c,f;o--;)if(c=e[o],j=(f=d[b]&&d[b][c])&&f.points[a.index],c=j){f=
f.total?100/f.total:0;c[0]=Y(c[0]*f);c[1]=Y(c[1]*f);a.stackedYData[o]=c[1]}})};f(xa.prototype,{addSeries:function(a,b,d){var e,g=this;a&&(b=r(b,true),ga(g,"addSeries",{options:a},function(){e=g.initSeries(a);g.isDirtyLegend=true;g.linkSeries();b&&g.redraw(d)}));return e},addAxis:function(a,b,d,e){var g=b?"xAxis":"yAxis",j=this.options;new F(this,A(a,{index:this[g].length,isX:b}));j[g]=H(j[g]||{});j[g].push(a);r(d,true)&&this.redraw(e)},showLoading:function(a){var b=this.options,d=this.loadingDiv,
e=b.loading;if(!d){this.loadingDiv=d=l(ab,{className:"highcharts-loading"},f(e.style,{zIndex:10,display:qa}),this.container);this.loadingSpan=l("span",null,e.labelStyle,d)}this.loadingSpan.innerHTML=a||b.lang.loading;if(!this.loadingShown){B(d,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"});ub(d,{opacity:e.style.opacity},{duration:e.showDuration||0});this.loadingShown=true}},hideLoading:function(){var a=this.options,b=this.loadingDiv;
b&&ub(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){B(b,{display:qa})}});this.loadingShown=false}});f(Pa.prototype,{update:function(a,b,d){var e=this,g=e.series,j=e.graphic,c,f=g.data,k=g.chart,h=g.options,b=r(b,true);e.firePointEvent("update",{options:a},function(){e.applyOptions(a);if(p(a)){g.getAttribs();if(j)a&&a.marker&&a.marker.symbol?e.graphic=j.destroy():j.attr(e.pointAttr[e.state||""]);if(a&&a.dataLabels&&e.dataLabel)e.dataLabel=e.dataLabel.destroy()}c=Ma(e,f);g.updateParallelArrays(e,
c);h.data[c]=e.options;g.isDirty=g.isDirtyData=true;if(!g.fixedBox&&g.hasCartesianSeries)k.isDirtyBox=true;h.legendType==="point"&&k.legend.destroyItem(e);b&&k.redraw(d)})},remove:function(a,b){var d=this,e=d.series,g=e.points,j=e.chart,c,f=e.data;aa(b,j);a=r(a,true);d.firePointEvent("remove",null,function(){c=Ma(d,f);f.length===g.length&&g.splice(c,1);f.splice(c,1);e.options.data.splice(c,1);e.updateParallelArrays(d,"splice",c,1);d.destroy();e.isDirty=true;e.isDirtyData=true;a&&j.redraw()})}});f(Z.prototype,
{addPoint:function(a,b,d,e){var g=this.options,j=this.data,c=this.graph,f=this.area,k=this.chart,h=this.xAxis&&this.xAxis.names,u=c&&c.shift||0,l=g.data,m,z=this.xData;aa(e,k);d&&D([c,f,this.graphNeg,this.areaNeg],function(a){if(a)a.shift=u+1});if(f)f.isArea=true;b=r(b,true);e={series:this};this.pointClass.prototype.applyOptions.apply(e,[a]);c=e.x;f=z.length;if(this.requireSorting&&c<z[f-1])for(m=true;f&&z[f-1]>c;)f--;this.updateParallelArrays(e,"splice",f,0,0);this.updateParallelArrays(e,f);if(h)h[c]=
e.name;l.splice(f,0,a);m&&(this.data.splice(f,0,null),this.processData());g.legendType==="point"&&this.generatePoints();d&&(j[0]&&j[0].remove?j[0].remove(false):(j.shift(),this.updateParallelArrays(e,"shift"),l.shift()));this.isDirtyData=this.isDirty=true;b&&(this.getAttribs(),k.redraw())},remove:function(a,b){var d=this,e=d.chart,a=r(a,true);if(!d.isRemoving){d.isRemoving=true;ga(d,"remove",null,function(){d.destroy();e.isDirtyLegend=e.isDirtyBox=true;e.linkSeries();a&&e.redraw(b)})}d.isRemoving=
false},update:function(a,b){var d=this.chart,e=this.type,g=U[e].prototype,j,a=A(this.userOptions,{animation:false,index:this.index,pointStart:this.xData[0]},{data:this.options.data},a);this.remove(false);for(j in g)g.hasOwnProperty(j)&&(this[j]=I);f(this,U[a.type||e].prototype);this.init(d,a);r(b,true)&&d.redraw(false)}});f(F.prototype,{update:function(a,b){var d=this.chart,a=d.options[this.coll][this.options.index]=A(this.userOptions,a);this.destroy(true);this._addedPlotLB=this.userMin=this.userMax=
I;this.init(d,f(a,{events:I}));d.isDirtyBox=true;r(b,true)&&d.redraw()},remove:function(a){for(var b=this.chart,d=this.coll,e=this.series,g=e.length;g--;)e[g]&&e[g].remove(false);m(b.axes,this);m(b[d],this);b.options[d].splice(this.options.index,1);D(b[d],function(a,b){a.options.index=b});this.destroy();b.isDirtyBox=true;r(a,true)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var Qa=s(Z);U.line=Qa;la.area=A(fa,{threshold:0});
var Ja=s(Z,{type:"area",getSegments:function(){var a=[],b=[],d=[],e=this.xAxis,g=this.yAxis,j=g.stacks[this.stackKey],c={},f,k,h=this.points,u=this.options.connectNulls,l,m,z;if(this.options.stacking&&!this.cropped){for(m=0;m<h.length;m++)c[h[m].x]=h[m];for(z in j)j[z].total!==null&&d.push(+z);d.sort(function(a,b){return a-b});D(d,function(a){if(!u||c[a]&&c[a].y!==null)c[a]?b.push(c[a]):(f=e.translate(a),l=j[a].percent?j[a].total?j[a].cum*100/j[a].total:0:j[a].cum,k=g.toPixels(l,true),b.push({y:null,
plotX:f,clientX:f,plotY:k,yBottom:k,onMouseOver:La}))});b.length&&a.push(b)}else{Z.prototype.getSegments.call(this);a=this.segments}this.segments=a},getSegmentPath:function(a){var b=Z.prototype.getSegmentPath.call(this,a),d=[].concat(b),e,g=this.options;e=b.length;var j=this.yAxis.getThreshold(g.threshold),c;e===3&&d.push("L",b[1],b[2]);if(g.stacking&&!this.closedStacks)for(e=a.length-1;e>=0;e--){c=r(a[e].yBottom,j);e<a.length-1&&g.step&&d.push(a[e+1].plotX,c);d.push(a[e].plotX,c)}else this.closeSegment(d,
a,j);this.areaPath=this.areaPath.concat(d);return b},closeSegment:function(a,b,d){a.push("L",b[b.length-1].plotX,d,"L",b[0].plotX,d)},drawGraph:function(){this.areaPath=[];Z.prototype.drawGraph.apply(this);var a=this,b=this.areaPath,d=this.options,e=d.negativeColor,g=d.negativeFillColor,j=[["area",this.color,d.fillColor]];(e||g)&&j.push(["areaNeg",e,g]);D(j,function(e){var g=e[0],j=a[g];j?j.animate({d:b}):a[g]=a.chart.renderer.path(b).attr({fill:r(e[2],Ua(e[1]).setOpacity(r(d.fillOpacity,0.75)).get()),
zIndex:0}).add(a.group)})},drawLegendSymbol:ea.drawRectangle});U.area=Ja;la.spline=A(fa);Qa=s(Z,{type:"spline",getPointSpline:function(a,b,d){var e=b.plotX,g=b.plotY,j=a[d-1],c=a[d+1],f,k,h,u;if(j&&c){a=j.plotY;h=c.plotX;var c=c.plotY,l;f=(1.5*e+j.plotX)/2.5;k=(1.5*g+a)/2.5;h=(1.5*e+h)/2.5;u=(1.5*g+c)/2.5;l=(u-k)*(h-e)/(h-f)+g-u;k=k+l;u=u+l;k>a&&k>g?(k=K(a,g),u=2*g-k):k<a&&k<g&&(k=P(a,g),u=2*g-k);u>c&&u>g?(u=K(c,g),k=2*g-u):u<c&&u<g&&(u=P(c,g),k=2*g-u);b.rightContX=h;b.rightContY=u}d?(b=["C",j.rightContX||
j.plotX,j.rightContY||j.plotY,f||e,k||g,e,g],j.rightContX=j.rightContY=null):b=["M",e,g];return b}});U.spline=Qa;la.areaspline=A(la.area);Ja=Ja.prototype;Qa=s(Qa,{type:"areaspline",closedStacks:!0,getSegmentPath:Ja.getSegmentPath,closeSegment:Ja.closeSegment,drawGraph:Ja.drawGraph,drawLegendSymbol:ea.drawRectangle});U.areaspline=Qa;la.column=A(fa,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,
shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});Qa=s(Z,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Z.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&D(b.series,function(b){if(b.type===a.type)b.isDirty=true})},getColumnMetrics:function(){var a=
this,b=a.options,d=a.xAxis,e=a.yAxis,g=d.reversed,j,c={},f,h=0;b.grouping===false?h=1:D(a.chart.series,function(b){var d=b.options,g=b.yAxis;if(b.type===a.type&&b.visible&&e.len===g.len&&e.pos===g.pos){d.stacking?(j=b.stackKey,c[j]===I&&(c[j]=h++),f=c[j]):d.grouping!==false&&(f=h++);b.columnIndex=f}});var d=P(da(d.transA)*(d.ordinalSlope||b.pointRange||d.closestPointRange||d.tickInterval||1),d.len),l=d*b.groupPadding,u=(d-2*l)/h,m=b.pointWidth,b=k(m)?(u-m)/2:u*b.pointPadding,m=r(m,u-2*b);return a.columnMetrics=
{width:m,offset:b+(l+((g?h-(a.columnIndex||0):a.columnIndex)||0)*u-d/2)*(g?-1:1)}},translate:function(){var a=this.chart,b=this.options,d=b.borderWidth,e=this.yAxis,g=this.translatedThreshold=e.getThreshold(b.threshold),j=r(b.minPointLength,5),b=this.getColumnMetrics(),c=b.width,f=this.barW=db(K(c,1+2*d)),k=this.pointXOffset=b.offset,h=-(d%2?0.5:0),u=d%2?0.5:1;a.renderer.isVML&&a.inverted&&(u=u+1);Z.prototype.translate.apply(this);D(this.points,function(a){var b=r(a.yBottom,g),d=P(K(-999-b,a.plotY),
e.len+999+b),l=a.plotX+k,m=f,z=P(d,b),s,d=K(d,b)-z;da(d)<j&&j&&(d=j,z=J(da(z-g)>j?b-j:g-(e.translate(a.y,0,1,0,1)<=g?j:0)));a.barX=l;a.pointWidth=c;b=da(l)<0.5;m=J(l+m)+h;l=J(l)+h;m=m-l;s=da(z)<0.5;d=J(z+d)+u;z=J(z)+u;d=d-z;b&&(l=l+1,m=m-1);s&&(z=z-1,d=d+1);a.shapeType="rect";a.shapeArgs={x:l,y:z,width:m,height:d}})},getSymbol:La,drawLegendSymbol:ea.drawRectangle,drawGraph:La,drawPoints:function(){var a=this,b=a.options,d=this.chart.renderer,e=b.animationLimit||250,g;D(a.points,function(j){var c=
j.plotY,f=j.graphic;if(c!==I&&!isNaN(c)&&j.y!==null){g=j.shapeArgs;f?(jb(f),f[a.points.length<e?"animate":"attr"](A(g))):j.graphic=d[j.shapeType](g).attr(j.pointAttr[j.selected?"select":""]).add(a.group).shadow(b.shadow,null,b.stacking&&!b.borderRadius)}else if(f)j.graphic=f.destroy()})},animate:function(a){var b=this.yAxis,d=this.options,e=this.chart.inverted,g={};if(za)a?(g.scaleY=0.001,a=P(b.pos+b.len,K(b.pos,b.toPixels(d.threshold))),e?g.translateX=a-b.len:g.translateY=a,this.group.attr(g)):(g.scaleY=
1,g[e?"translateX":"translateY"]=b.pos,this.group.animate(g,this.options.animation),this.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&D(b.series,function(b){if(b.type===a.type)b.isDirty=true});Z.prototype.remove.apply(a,arguments)}});U.column=Qa;la.bar=A(la.column);Ja=s(Qa,{type:"bar",inverted:!0});U.bar=Ja;la.scatter=A(fa,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",
followPointer:!0},stickyTracking:!1});Ja=s(Z,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Z.prototype.drawGraph.call(this)}});U.scatter=Ja;la.pie=A(fa,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,
showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});fa={type:"pie",isCartesian:!1,pointClass:s(Pa,{init:function(){Pa.prototype.init.apply(this,arguments);var a=this,b;if(a.y<0)a.y=null;f(a,{visible:a.visible!==false,name:r(a.name,"Slice")});b=function(b){a.slice(b.type==="select")};R(a,"select",b);R(a,"unselect",b);return a},setVisible:function(a){var b=this,d=b.series,e=d.chart;b.visible=b.options.visible=a=a===I?!b.visible:a;
d.options.data[Ma(b,d.data)]=b.options;D(["graphic","dataLabel","connector","shadowGroup"],function(d){if(b[d])b[d][a?"show":"hide"](true)});b.legendItem&&e.legend.colorizeItem(b,a);if(!d.isDirty&&d.options.ignoreHiddenPoint){d.isDirty=true;e.redraw()}},slice:function(a,b,d){var e=this.series;aa(d,e.chart);r(b,true);this.sliced=this.options.sliced=a=k(a)?a:!this.sliced;e.options.data[Ma(this,e.data)]=this.options;a=a?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(a);this.shadowGroup&&
this.shadowGroup.animate(a)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:La,animate:function(a){var b=this,d=b.points,e=b.startAngleRad;if(!a){D(d,function(a){var d=a.graphic,a=a.shapeArgs;d&&(d.attr({r:b.center[3]/2,start:e,end:e}),d.animate({r:a.r,start:a.start,end:a.end},b.options.animation))});b.animate=null}},setData:function(a,b,d,
e){Z.prototype.setData.call(this,a,false,d,e);this.processData();this.generatePoints();r(b,true)&&this.chart.redraw(d)},generatePoints:function(){var a,b=0,d,e,g,j=this.options.ignoreHiddenPoint;Z.prototype.generatePoints.call(this);d=this.points;e=d.length;for(a=0;a<e;a++){g=d[a];b=b+(j&&!g.visible?0:g.y)}this.total=b;for(a=0;a<e;a++){g=d[a];g.percentage=b>0?g.y/b*100:0;g.total=b}},translate:function(a){this.generatePoints();var b=0,d=this.options,e=d.slicedOffset,g=e+d.borderWidth,j,c,f,k=d.startAngle||
0,h=this.startAngleRad=Ha/180*(k-90),k=(this.endAngleRad=Ha/180*(r(d.endAngle,k+360)-90))-h,u=this.points,l=d.dataLabels.distance,d=d.ignoreHiddenPoint,m,z=u.length,s;if(!a)this.center=a=this.getCenter();this.getX=function(b,d){f=ma.asin(P((b-a[1])/(a[2]/2+l),1));return a[0]+(d?-1:1)*Aa(f)*(a[2]/2+l)};for(m=0;m<z;m++){s=u[m];j=h+b*k;if(!d||s.visible)b=b+s.percentage/100;c=h+b*k;s.shapeType="arc";s.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:J(j*1E3)/1E3,end:J(c*1E3)/1E3};f=(c+j)/2;f>1.5*
Ha?f=f-2*Ha:f<-Ha/2&&(f=f+2*Ha);s.slicedTranslation={translateX:J(Aa(f)*e),translateY:J(Ca(f)*e)};j=Aa(f)*a[2]/2;c=Ca(f)*a[2]/2;s.tooltipPos=[a[0]+j*0.7,a[1]+c*0.7];s.half=f<-Ha/2||f>Ha/2?1:0;s.angle=f;g=P(g,l/2);s.labelPos=[a[0]+j+Aa(f)*l,a[1]+c+Ca(f)*l,a[0]+j+Aa(f)*g,a[1]+c+Ca(f)*g,a[0]+j,a[1]+c,l<0?"center":s.half?"right":"left",f]}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,d,e,g=a.options.shadow,j,c;if(g&&!a.shadowGroup)a.shadowGroup=b.g("shadow").add(a.group);D(a.points,
function(t){e=t.graphic;c=t.shapeArgs;j=t.shadowGroup;if(g&&!j)j=t.shadowGroup=b.g("shadow").add(a.shadowGroup);d=t.sliced?t.slicedTranslation:{translateX:0,translateY:0};j&&j.attr(d);e?e.animate(f(c,d)):t.graphic=e=b[t.shapeType](c).setRadialReference(a.center).attr(t.pointAttr[t.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(d).add(a.group).shadow(g,j);t.visible!==void 0&&t.setVisible(t.visible)})},sortByAngle:function(a,b){a.sort(function(a,e){return a.angle!==void 0&&(e.angle-a.angle)*
b})},drawLegendSymbol:ea.drawRectangle,getCenter:Ia.getCenter,getSymbol:La};fa=s(Z,fa);U.pie=fa;Z.prototype.drawDataLabels=function(){var a=this,b=a.options,d=b.cursor,e=b.dataLabels,b=a.points,g,j,c,t;if(e.enabled||a._hasPointLabels){a.dlProcessOptions&&a.dlProcessOptions(e);t=a.plotGroup("dataLabelsGroup","data-labels",a.visible?"visible":"hidden",e.zIndex||6);j=e;D(b,function(b){var h,u=b.dataLabel,l,m,z=b.connector,s=true;g=b.options&&b.options.dataLabels;h=r(g&&g.enabled,j.enabled);if(u&&!h)b.dataLabel=
u.destroy();else if(h){e=A(j,g);h=e.rotation;l=b.getLabelConfig();c=e.format?ta(e.format,l):e.formatter.call(l,e);e.style.color=r(e.color,e.style.color,a.color,"black");if(u)if(k(c)){u.attr({text:c});s=false}else{if(b.dataLabel=u=u.destroy(),z)b.connector=z.destroy()}else if(k(c)){u={fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.borderWidth,r:e.borderRadius||0,rotation:h,padding:e.padding,zIndex:1};for(m in u)u[m]===I&&delete u[m];u=b.dataLabel=a.chart.renderer[h?"text":"label"](c,
0,-999,null,null,null,e.useHTML).attr(u).css(f(e.style,d&&{cursor:d})).add(t).shadow(e.shadow)}u&&a.alignDataLabel(b,u,e,null,s)}})}};Z.prototype.alignDataLabel=function(a,b,d,e,g){var j=this.chart,c=j.inverted,t=r(a.plotX,-999),k=r(a.plotY,-999),h=b.getBBox();if(a=this.visible&&(a.series.forceDL||j.isInsidePlot(t,J(k),c)||e&&j.isInsidePlot(t,c?e.x+1:e.y+e.height-1,c))){e=f({x:c?j.plotWidth-k:t,y:J(c?j.plotHeight-t:k),width:0,height:0},e);f(d,{width:h.width,height:h.height});d.rotation?(c={align:d.align,
x:e.x+d.x+e.width/2,y:e.y+d.y+e.height/2},b[g?"attr":"animate"](c)):(b.align(d,null,e),c=b.alignAttr,r(d.overflow,"justify")==="justify"?this.justifyDataLabel(b,d,c,h,e,g):r(d.crop,true)&&(a=j.isInsidePlot(c.x,c.y)&&j.isInsidePlot(c.x+h.width,c.y+h.height)))}if(!a){b.attr({y:-999});b.placed=false}};Z.prototype.justifyDataLabel=function(a,b,d,e,g,j){var c=this.chart,f=b.align,k=b.verticalAlign,h,u;h=d.x;if(h<0){f==="right"?b.align="left":b.x=-h;u=true}h=d.x+e.width;if(h>c.plotWidth){f==="left"?b.align=
"right":b.x=c.plotWidth-h;u=true}h=d.y;if(h<0){k==="bottom"?b.verticalAlign="top":b.y=-h;u=true}h=d.y+e.height;if(h>c.plotHeight){k==="top"?b.verticalAlign="bottom":b.y=c.plotHeight-h;u=true}if(u){a.placed=!j;a.align(b,null,g)}};U.pie&&(U.pie.prototype.drawDataLabels=function(){var a=this,b=a.data,d,e=a.chart,g=a.options.dataLabels,j=r(g.connectorPadding,10),c=r(g.connectorWidth,1),f=e.plotWidth,e=e.plotHeight,h,k,u=r(g.softConnector,true),l=g.distance,m=a.center,z=m[2]/2,s=m[1],p=l>0,n,v,F,y,q=[[],
[]],E,B,ra,M,w,N=[0,0,0,0],A=function(a,b){return b.y-a.y};if(a.visible&&(g.enabled||a._hasPointLabels)){Z.prototype.drawDataLabels.apply(a);D(b,function(a){a.dataLabel&&a.visible&&q[a.half].push(a)});for(M=0;!y&&b[M];){y=b[M]&&b[M].dataLabel&&(b[M].dataLabel.getBBox().height||21);M++}for(M=2;M--;){var b=[],xa=[],I=q[M],H=I.length,L;a.sortByAngle(I,M-0.5);if(l>0){for(w=s-z-l;w<=s+z+l;w=w+y)b.push(w);v=b.length;if(H>v){d=[].concat(I);d.sort(A);for(w=H;w--;)d[w].rank=w;for(w=H;w--;)I[w].rank>=v&&I.splice(w,
1);H=I.length}for(w=0;w<H;w++){d=I[w];F=d.labelPos;d=9999;var cb,Sa;for(Sa=0;Sa<v;Sa++){cb=da(b[Sa]-F[1]);cb<d&&(d=cb,L=Sa)}if(L<w&&b[w]!==null)L=w;else for(v<H-w+L&&b[w]!==null&&(L=v-H+w);b[L]===null;)L++;xa.push({i:L,y:b[L]});b[L]=null}xa.sort(A)}for(w=0;w<H;w++){d=I[w];F=d.labelPos;n=d.dataLabel;ra=d.visible===false?"hidden":"visible";d=F[1];if(l>0){if(v=xa.pop(),L=v.i,B=v.y,d>B&&b[L+1]!==null||d<B&&b[L-1]!==null)B=d}else B=d;E=g.justify?m[0]+(M?-1:1)*(z+l):a.getX(L===0||L===b.length-1?d:B,M);
n._attr={visibility:ra,align:F[6]};n._pos={x:E+g.x+({left:j,right:-j}[F[6]]||0),y:B+g.y-10};n.connX=E;n.connY=B;if(this.options.size===null){v=n.width;E-v<j?N[3]=K(J(v-E+j),N[3]):E+v>f-j&&(N[1]=K(J(E+v-f+j),N[1]));B-y/2<0?N[0]=K(J(-B+y/2),N[0]):B+y/2>e&&(N[2]=K(J(B+y/2-e),N[2]))}}}if(na(N)===0||this.verifyDataLabelOverflow(N)){this.placeDataLabels();p&&c&&D(this.points,function(b){h=b.connector;F=b.labelPos;if((n=b.dataLabel)&&n._pos){ra=n._attr.visibility;E=n.connX;B=n.connY;k=u?["M",E+(F[6]==="left"?
5:-5),B,"C",E,B,2*F[2]-F[4],2*F[3]-F[5],F[2],F[3],"L",F[4],F[5]]:["M",E+(F[6]==="left"?5:-5),B,"L",F[2],F[3],"L",F[4],F[5]];h?(h.animate({d:k}),h.attr("visibility",ra)):b.connector=h=a.chart.renderer.path(k).attr({"stroke-width":c,stroke:g.connectorColor||b.color||"#606060",visibility:ra}).add(a.group)}else if(h)b.connector=h.destroy()})}}},U.pie.prototype.placeDataLabels=function(){D(this.points,function(a){var a=a.dataLabel,b;if(a)(b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=
true):a&&a.attr({y:-999})})},U.pie.prototype.alignDataLabel=La,U.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,d=this.options,e=d.center,g=d=d.minSize||80,j;e[0]!==null?g=K(b[2]-K(a[1],a[3]),d):(g=K(b[2]-a[1]-a[3],d),b[0]=b[0]+(a[3]-a[1])/2);e[1]!==null?g=K(P(g,b[2]-K(a[0],a[2])),d):(g=K(P(g,b[2]-a[0]-a[2]),d),b[1]=b[1]+(a[0]-a[2])/2);g<b[2]?(b[2]=g,this.translate(b),D(this.points,function(a){if(a.dataLabel)a.dataLabel._pos=null}),this.drawDataLabels&&this.drawDataLabels()):
j=true;return j});U.column&&(U.column.prototype.alignDataLabel=function(a,b,d,e,g){var j=this.chart,c=j.inverted,f=a.dlBox||a.shapeArgs,h=a.below||a.plotY>r(this.translatedThreshold,j.plotSizeY),k=r(d.inside,!!this.options.stacking);if(f&&(e=A(f),c&&(e={x:j.plotWidth-e.y-e.height,y:j.plotHeight-e.x-e.width,width:e.height,height:e.width}),!k))c?(e.x=e.x+(h?0:e.width),e.width=0):(e.y=e.y+(h?e.height:0),e.height=0);d.align=r(d.align,!c||k?"center":h?"right":"left");d.verticalAlign=r(d.verticalAlign,
c||k?"middle":h?"top":"bottom");Z.prototype.alignDataLabel.call(this,a,b,d,e,g)});var mb=ha.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,d=b.pointer,e=a.options.cursor,g=e&&{cursor:e},j=function(d){var e=d.target,g;if(b.hoverSeries!==a)a.onMouseOver();for(;e&&!g;){g=e.point;e=e.parentNode}if(g!==I&&g!==b.hoverPoint)g.onMouseOver(d)};D(a.points,function(a){if(a.graphic)a.graphic.element.point=a;if(a.dataLabel)a.dataLabel.element.point=a});if(!a._hasTracking){D(a.trackerGroups,function(b){if(a[b]&&
(a[b].addClass("highcharts-tracker").on("mouseover",j).on("mouseout",function(a){d.onTrackerMouseOut(a)}).css(g),hb))a[b].on("touchstart",j)});a._hasTracking=true}},drawTrackerGraph:function(){var a=this,b=a.options,d=b.trackByArea,e=[].concat(d?a.areaPath:a.graphPath),g=e.length,j=a.chart,c=j.pointer,f=j.renderer,h=j.options.tooltip.snap,k=a.tracker,u=b.cursor,l=u&&{cursor:u},u=a.singlePoints,m,z=function(){if(j.hoverSeries!==a)a.onMouseOver()},s="rgba(192,192,192,"+(za?1E-4:0.002)+")";if(g&&!d)for(m=
g+1;m--;){e[m]==="M"&&e.splice(m+1,0,e[m+1]-h,e[m+2],"L");(m&&e[m]==="M"||m===g)&&e.splice(m,0,"L",e[m-2]+h,e[m-1])}for(m=0;m<u.length;m++){g=u[m];e.push("M",g.plotX-h,g.plotY,"L",g.plotX+h,g.plotY)}k?k.attr({d:e}):(a.tracker=f.path(e).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:s,fill:d?s:qa,"stroke-width":b.lineWidth+(d?0:2*h),zIndex:2}).add(a.group),D([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",z).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(l);
if(hb)a.on("touchstart",z)}))}};U.column&&(Qa.prototype.drawTracker=mb.drawTrackerPoint);U.pie&&(U.pie.prototype.drawTracker=mb.drawTrackerPoint);U.scatter&&(Ja.prototype.drawTracker=mb.drawTrackerPoint);f(vb.prototype,{setItemEvents:function(a,b,d,e,g){var j=this;(d?b:a.legendGroup).on("mouseover",function(){a.setState("hover");b.css(j.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?e:g);a.setState()}).on("click",function(b){var d=function(){a.setVisible()},b={browserEvent:b};
a.firePointEvent?a.firePointEvent("legendItemClick",b,d):ga(a,"legendItemClick",b,d)})},createCheckboxForItem:function(a){a.checkbox=l("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);R(a.checkbox,"click",function(b){ga(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}});ca.legend.itemStyle.cursor="pointer";f(xa.prototype,{showResetZoom:function(){var a=this,b=ca.lang,d=a.options.chart.resetZoomButton,
e=d.theme,g=e.states,j=d.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},e,g&&g.hover).attr({align:d.position.align,title:b.resetZoomTitle}).add().align(d.position,false,j)},zoomOut:function(){var a=this;ga(a,"selection",{resetSelection:true},function(){a.zoom()})},zoom:function(a){var b,d=this.pointer,e=false,g;!a||a.resetSelection?D(this.axes,function(a){b=a.zoom()}):D(a.xAxis.concat(a.yAxis),function(a){var g=a.axis,c=g.isXAxis;
if(d[c?"zoomX":"zoomY"]||d[c?"pinchX":"pinchY"]){b=g.zoom(a.min,a.max);g.displayBtn&&(e=true)}});g=this.resetZoomButton;if(e&&!g)this.showResetZoom();else if(!e&&p(g))this.resetZoomButton=g.destroy();b&&this.redraw(r(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var d=this,e=d.hoverPoints,g;e&&D(e,function(a){a.setState()});D(b==="xy"?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],c=d[b?"xAxis":"yAxis"][0],f=d[b?"mouseDownX":"mouseDownY"],h=(c.pointRange||
0)/2,k=c.getExtremes(),l=c.toValue(f-e,true)+h,f=c.toValue(f+d[b?"plotWidth":"plotHeight"]-e,true)-h;c.series.length&&l>P(k.dataMin,k.min)&&f<K(k.dataMax,k.max)&&(c.setExtremes(l,f,false,false,{trigger:"pan"}),g=true);d[b?"mouseDownX":"mouseDownY"]=e});g&&d.redraw(false);B(d.container,{cursor:"move"})}});f(Pa.prototype,{select:function(a,b){var d=this,e=d.series,g=e.chart,a=r(a,!d.selected);d.firePointEvent(a?"select":"unselect",{accumulate:b},function(){d.selected=d.options.selected=a;e.options.data[Ma(d,
e.data)]=d.options;d.setState(a&&"select");b||D(g.getSelectedPoints(),function(a){if(a.selected&&a!==d){a.selected=a.options.selected=false;e.options.data[Ma(a,e.data)]=a.options;a.setState("");a.firePointEvent("unselect")}})})},onMouseOver:function(a){var b=this.series,d=b.chart,e=d.tooltip,g=d.hoverPoint;if(g&&g!==this)g.onMouseOut();this.firePointEvent("mouseOver");e&&(!e.shared||b.noSharedTooltip)&&e.refresh(this,a);this.setState("hover");d.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,
b=a.hoverPoints;if(!b||Ma(this,b)===-1){this.firePointEvent("mouseOut");this.setState();a.hoverPoint=null}},firePointEvent:function(a,b,d){var e=this,g=this.series.options;(g.point.events[a]||e.options&&e.options.events&&e.options.events[a])&&this.importEvents();a==="click"&&g.allowPointSelect&&(d=function(a){e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});ga(this,a,b,d)},importEvents:function(){if(!this.hasImportedEvents){var a=A(this.series.options.point,this.options).events,b;this.events=a;for(b in a)R(this,
b,a[b]);this.hasImportedEvents=true}},setState:function(a,b){var d=this.plotX,e=this.plotY,g=this.series,j=g.options.states,c=la[g.type].marker&&g.options.marker,f=c&&!c.enabled,h=c&&c.states[a],k=h&&h.enabled===false,u=g.stateMarkerGraphic,l=this.marker||{},m=g.chart,z=this.pointAttr,a=a||"",b=b&&u;if(!(a===this.state&&!b||this.selected&&a!=="select"||j[a]&&j[a].enabled===false||a&&(k||f&&!h.enabled)||a&&l.states&&l.states[a]&&l.states[a].enabled===false)){if(this.graphic){j=c&&this.graphic.symbolName&&
z[a].r;this.graphic.attr(A(z[a],j?{x:d-j,y:e-j,width:2*j,height:2*j}:{}))}else{if(a&&h)if(j=h.radius,l=l.symbol||g.symbol,u&&u.currentSymbol!==l&&(u=u.destroy()),u)u[b?"animate":"attr"]({x:d-j,y:e-j});else{g.stateMarkerGraphic=u=m.renderer.symbol(l,d-j,e-j,2*j,2*j).attr(z[a]).add(g.markerGroup);u.currentSymbol=l}if(u)u[a&&m.isInsidePlot(d,e,m.inverted)?"show":"hide"]()}this.state=a}}});f(Z.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&
ga(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,d=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&a.events.mouseOut&&ga(this,"mouseOut");d&&!a.stickyTracking&&(!d.shared||this.noSharedTooltip)&&d.hide();this.setState();b.hoverSeries=null},setState:function(a){var b=this.options,d=this.graph,e=this.graphNeg,g=b.states,b=b.lineWidth,a=a||"";if(this.state!==a){this.state=a;g[a]&&g[a].enabled===false||(a&&(b=g[a].lineWidth||b+1),
d&&!d.dashstyle&&(a={"stroke-width":b},d.attr(a),e&&e.attr(a)))}},setVisible:function(a,b){var d=this,e=d.chart,g=d.legendItem,j,c=e.options.chart.ignoreHiddenSeries,f=d.visible;j=(d.visible=a=d.userOptions.visible=a===I?!f:a)?"show":"hide";D(["group","dataLabelsGroup","markerGroup","tracker"],function(a){if(d[a])d[a][j]()});if(e.hoverSeries===d)d.onMouseOut();g&&e.legend.colorizeItem(d,a);d.isDirty=true;d.options.stacking&&D(e.series,function(a){if(a.options.stacking&&a.visible)a.isDirty=true});
D(d.linkedSeries,function(b){b.setVisible(a,false)});if(c)e.isDirtyBox=true;b!==false&&e.redraw();ga(d,j)},setTooltipPoints:function(a){var b=[],d,e,g=this.xAxis,j=g&&g.getExtremes(),c=g?g.tooltipLen||g.len:this.chart.plotSizeX,f,h,k=[];if(!(this.options.enableMouseTracking===false||this.singularTooltips)){if(a)this.tooltipPoints=null;D(this.segments||this.points,function(a){b=b.concat(a)});g&&g.reversed&&(b=b.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(b);a=b.length;for(h=0;h<a;h++)if(g=
b[h],d=g.x,d>=j.min&&d<=j.max){f=b[h+1];d=e===I?0:e+1;for(e=b[h+1]?P(K(0,ja((g.clientX+(f?f.wrappedClientX||f.clientX:c))/2)),c):c;d>=0&&d<=e;)k[d++]=g}this.tooltipPoints=k}},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(a){this.selected=a=a===I?!this.selected:a;if(this.checkbox)this.checkbox.checked=a;ga(this,a?"select":"unselect")},drawTracker:mb.drawTrackerGraph});L(Z.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,
1));(b=this.xAxis)&&b.options.ordinal&&R(this,"updatedData",function(){delete b.ordinalIndex})});L(F.prototype,"getTimeTicks",function(a,b,d,e,g,j,c,f){var h=0,l=0,u,m={},z,s,r,n=[],p=-Number.MAX_VALUE,v=this.options.tickPixelInterval;if(!this.options.ordinal||!j||j.length<3||d===I)return a.call(this,b,d,e,g);for(s=j.length;l<s;l++){r=l&&j[l-1]>e;j[l]<d&&(h=l);if(l===s-1||j[l+1]-j[l]>c*5||r){if(j[l]>p){for(u=a.call(this,b,j[h],j[l],g);u.length&&u[0]<=p;)u.shift();u.length&&(p=u[u.length-1]);n=n.concat(u)}h=
l+1}if(r)break}a=u.info;if(f&&a.unitRange<=T.hour){l=n.length-1;for(h=1;h<l;h++)(new Date(n[h]-Xa))[bb]()!==(new Date(n[h-1]-Xa))[bb]()&&(m[n[h]]="day",z=true);z&&(m[n[0]]="day");a.higherRanks=m}n.info=a;if(f&&k(v)){var f=a=n.length,l=[],F;for(z=[];f--;){h=this.translate(n[f]);F&&(z[f]=F-h);l[f]=F=h}z.sort();z=z[ja(z.length/2)];z<v*0.6&&(z=null);f=n[a-1]>e?a-1:a;for(F=void 0;f--;){h=l[f];e=F-h;F&&e<v*0.8&&(z===null||e<z*0.8)?(m[n[f]]&&!m[n[f+1]]?(e=f+1,F=h):e=f,n.splice(e,1)):F=h}}return n});f(F.prototype,
{beforeSetTickPositions:function(){var a,b=[],d=false,e,g=this.getExtremes(),j=g.min,g=g.max,c;if(this.options.ordinal){D(this.series,function(d,e){if(d.visible!==false&&d.takeOrdinalPosition!==false&&(b=b.concat(d.processedXData),a=b.length,b.sort(function(a,b){return a-b}),a))for(e=a-1;e--;)b[e]===b[e+1]&&b.splice(e,1)});a=b.length;if(a>2){e=b[1]-b[0];for(c=a-1;c--&&!d;)b[c+1]-b[c]!==e&&(d=true);if(!this.options.keepOrdinalPadding&&(b[0]-j>e||g-b[b.length-1]>e))d=true}d?(this.ordinalPositions=b,
d=this.val2lin(K(j,b[0]),true),e=this.val2lin(P(g,b[b.length-1]),true),this.ordinalSlope=g=(g-j)/(e-d),this.ordinalOffset=j-d*g):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=I}this.groupIntervalFactor=null},val2lin:function(a,b){var d=this.ordinalPositions;if(d){var e=d.length,g,j;for(g=e;g--;)if(d[g]===a){j=g;break}for(g=e-1;g--;)if(a>d[g]||g===0){d=(a-d[g])/(d[g+1]-d[g]);j=g+d;break}return b?j:this.ordinalSlope*(j||0)+this.ordinalOffset}return a},lin2val:function(a,b){var d=this.ordinalPositions;
if(d){var e=this.ordinalSlope,g=this.ordinalOffset,j=d.length-1,c,f;if(b)a<0?a=d[0]:a>j?a=d[j]:(j=ja(a),f=a-j);else for(;j--;)if(c=e*j+g,a>=c){e=e*(j+1)+g;f=(a-c)/(e-c);break}return f!==I&&d[j]!==I?d[j]+(f?f*(d[j+1]-d[j]):0):a}return a},getExtendedPositions:function(){var a=this.chart,b=this.series[0].currentDataGrouping,d=this.ordinalIndex,e=b?b.count+b.unitName:"raw",g=this.getExtremes(),j,c;if(!d)d=this.ordinalIndex={};if(!d[e]){j={series:[],getExtremes:function(){return{min:g.dataMin,max:g.dataMax}},
options:{ordinal:true},val2lin:F.prototype.val2lin};D(this.series,function(d){c={xAxis:j,xData:d.xData,chart:a,destroyGroupedData:La};c.options={dataGrouping:b?{enabled:true,forced:true,approximation:"open",units:[[b.unitName,[b.count]]]}:{enabled:false}};d.processData.apply(c);j.series.push(c)});this.beforeSetTickPositions.apply(j);d[e]=j.ordinalPositions}return d[e]},getGroupIntervalFactor:function(a,b,d){var e=0,d=d.processedXData,g=d.length,j=[],c=this.groupIntervalFactor;if(!c){for(;e<g-1;e++)j[e]=
d[e+1]-d[e];j.sort(function(a,b){return a-b});e=j[ja(g/2)];a=K(a,d[0]);b=P(b,d[g-1]);this.groupIntervalFactor=c=g*e/(b-a)}return c},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?a/(b/this.closestPointRange):a}});L(xa.prototype,"pan",function(a,b){var d=this.xAxis[0],e=b.chartX,g=false;if(d.options.ordinal&&d.series.length){var j=this.mouseDownX,c=d.getExtremes(),f=c.dataMax,h=c.min,k=c.max,l=this.hoverPoints,m=d.closestPointRange,j=(j-e)/(d.translationSlope*(d.ordinalSlope||
m)),z={ordinalPositions:d.getExtendedPositions()},m=d.lin2val,s=d.val2lin,n;if(z.ordinalPositions){if(da(j)>1){l&&D(l,function(a){a.setState()});j<0?(l=z,n=d.ordinalPositions?d:z):(l=d.ordinalPositions?d:z,n=z);z=n.ordinalPositions;f>z[z.length-1]&&z.push(f);this.fixedRange=k-h;j=d.toFixedRange(null,null,m.apply(l,[s.apply(l,[h,true])+j,true]),m.apply(n,[s.apply(n,[k,true])+j,true]));j.min>=P(c.dataMin,h)&&j.max<=K(f,k)&&d.setExtremes(j.min,j.max,true,false,{trigger:"pan"});this.mouseDownX=e;B(this.container,
{cursor:"move"})}}else g=true}else g=true;g&&a.apply(this,Array.prototype.slice.call(arguments,1))});L(Z.prototype,"getSegments",function(a){var b,d=this.options.gapSize,e=this.xAxis;a.apply(this,Array.prototype.slice.call(arguments,1));if(d){b=this.segments;D(b,function(a,j){for(var c=a.length-1;c--;)a[c+1].x-a[c].x>e.closestPointRange*d&&b.splice(j+1,0,a.splice(c+1,a.length-c))})}});var ya=Z.prototype,fa=Eb.prototype,bc=ya.processData,cc=ya.generatePoints,dc=ya.destroy,ec=fa.tooltipHeaderFormatter,
fc={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:w("millisecond",["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],"second",["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],"minute",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"hour",["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],"day",["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"week",["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],"month",["%B %Y","%B","-%B %Y"],"year",["%Y","%Y","-%Y"])},
Qb={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Rb=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",
null]],$a={sum:function(a){var b=a.length,d;if(!b&&a.hasNulls)d=null;else if(b)for(d=0;b--;)d=d+a[b];return d},average:function(a){var b=a.length,a=$a.sum(a);typeof a==="number"&&b&&(a=a/b);return a},open:function(a){return a.length?a[0]:a.hasNulls?null:I},high:function(a){return a.length?na(a):a.hasNulls?null:I},low:function(a){return a.length?wa(a):a.hasNulls?null:I},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:I},ohlc:function(a,b,d,e){a=$a.open(a);b=$a.high(b);d=$a.low(d);e=
$a.close(e);if(typeof a==="number"||typeof b==="number"||typeof d==="number"||typeof e==="number")return[a,b,d,e]},range:function(a,b){a=$a.low(a);b=$a.high(b);if(typeof a==="number"||typeof b==="number")return[a,b]}};ya.groupData=function(a,b,d,e){var g=this.data,j=this.options.data,c=[],f=[],h=a.length,k,l,m=!!b,z=[[],[],[],[]],e=typeof e==="function"?e:$a[e],s=this.pointArrayMap,n=s&&s.length,r;for(r=0;r<=h;r++)if(a[r]>=d[0])break;for(;r<=h;r++){for(;d[1]!==I&&a[r]>=d[1]||r===h;)if(k=d.shift(),
l=e.apply(0,z),l!==I&&(c.push(k),f.push(l)),z[0]=[],z[1]=[],z[2]=[],z[3]=[],r===h)break;if(r===h)break;if(s){k=this.cropStart+r;k=g&&g[k]||this.pointClass.prototype.applyOptions.apply({series:this},[j[k]]);var p;for(l=0;l<n;l++)if(p=k[s[l]],typeof p==="number")z[l].push(p);else if(p===null)z[l].hasNulls=true}else if(k=m?b[r]:null,typeof k==="number")z[0].push(k);else if(k===null)z[0].hasNulls=true}return[c,f]};ya.processData=function(){var a=this.chart,b=this.options,d=b.dataGrouping,e=d&&r(d.enabled,
a.options._stock),g;this.forceCrop=e;this.groupPixelWidth=null;this.hasProcessed=true;if(bc.apply(this,arguments)!==false&&e){this.destroyGroupedData();var j=this.processedXData,c=this.processedYData,f=a.plotSizeX,a=this.xAxis,h=a.options.ordinal,l=this.groupPixelWidth=a.getGroupPixelWidth&&a.getGroupPixelWidth(),e=this.pointRange;if(l){g=true;this.points=null;var m=a.getExtremes(),e=m.min,m=m.max,h=h&&a.getGroupIntervalFactor(e,m,this)||1,f=l*(m-e)/f*h,l=a.getTimeTicks(a.normalizeTimeTickInterval(f,
d.units||Rb),e,m,null,j,this.closestPointRange),c=ya.groupData.apply(this,[j,c,l,d.approximation]),j=c[0],c=c[1];if(d.smoothed){d=j.length-1;for(j[d]=m;d--&&d>0;)j[d]=j[d]+f/2;j[0]=e}this.currentDataGrouping=l.info;if(b.pointRange===null)this.pointRange=l.info.totalRange;this.closestPointRange=l.info.totalRange;if(k(j[0])&&j[0]<a.dataMin)a.dataMin=j[0];this.processedXData=j;this.processedYData=c}else{this.currentDataGrouping=null;this.pointRange=e}this.hasGroupedData=g}};ya.destroyGroupedData=function(){var a=
this.groupedData;D(a||[],function(b,d){b&&(a[d]=b.destroy?b.destroy():null)});this.groupedData=null};ya.generatePoints=function(){cc.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};fa.tooltipHeaderFormatter=function(a){var b=a.series,d=b.tooltipOptions,e=b.options.dataGrouping,g=d.xDateFormat,j,c=b.xAxis,f;if(c&&c.options.type==="datetime"&&e&&h(a.key)){b=b.currentDataGrouping;e=e.dateTimeLabelFormats;if(b){c=e[b.unitName];b.count===1?g=c[0]:(g=c[1],j=
c[2])}else if(!g&&e)for(f in T)if(T[f]>=c.closestPointRange||T[f]<=T.day&&a.key%T[f]>0){g=e[f][0];break}g=Ka(g,a.key);j&&(g=g+Ka(j,a.key+b.totalRange-1));a=d.headerFormat.replace("{point.key}",g)}else a=ec.call(this,a);return a};ya.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;)a[b]&&a[b].destroy();dc.apply(this)};L(ya,"setOptions",function(a,b){var d=a.call(this,b),e=this.type,g=this.chart.options.plotOptions,j=la[e].dataGrouping;if(Qb[e]){j||(j=A(fc,Qb[e]));d.dataGrouping=A(j,
g.series&&g.series.dataGrouping,g[e].dataGrouping,b.dataGrouping)}if(this.chart.options._stock)this.requireSorting=true;return d});L(F.prototype,"setScale",function(a){a.call(this);D(this.series,function(a){a.hasProcessed=false})});F.prototype.getGroupPixelWidth=function(){var a=this.series,b=a.length,d,e=0,g=false,j;for(d=b;d--;)(j=a[d].options.dataGrouping)&&(e=K(e,j.groupPixelWidth));for(d=b;d--;)if((j=a[d].options.dataGrouping)&&a[d].hasProcessed)if(b=(a[d].processedXData||a[d].data).length,a[d].groupPixelWidth||
b>this.chart.plotSizeX/e||b&&j.forced)g=true;return g?e:0};la.ohlc=A(la.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});fa=s(U.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color",
"stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){U.column.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,a=a.upColor||this.color,d=A(this.pointAttr),e=this.upColorProp;d[""][e]=a;d.hover[e]=b.hover.upColor||a;d.select[e]=b.select.upColor||a;D(this.points,function(a){if(a.open<a.close)a.pointAttr=d})},translate:function(){var a=this.yAxis;U.column.prototype.translate.apply(this);D(this.points,function(b){if(b.open!==null)b.plotOpen=a.translate(b.open,
0,1,0,1);if(b.close!==null)b.plotClose=a.translate(b.close,0,1,0,1)})},drawPoints:function(){var a=this,b=a.chart,d,e,g,j,c,f,h,k;D(a.points,function(l){if(l.plotY!==I){h=l.graphic;d=l.pointAttr[l.selected?"selected":""];j=d["stroke-width"]%2/2;k=J(l.plotX)-j;c=J(l.shapeArgs.width/2);f=["M",k,J(l.yBottom),"L",k,J(l.plotY)];l.open!==null&&(e=J(l.plotOpen)+j,f.push("M",k,e,"L",k-c,e));l.close!==null&&(g=J(l.plotClose)+j,f.push("M",k,g,"L",k+c,g));h?h.animate({d:f}):l.graphic=b.renderer.path(f).attr(d).add(a.group)}})},
animate:null});U.ohlc=fa;la.candlestick=A(la.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:la.ohlc.tooltip,threshold:null,upColor:"white"});fa=s(fa,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){U.ohlc.prototype.getAttribs.apply(this,arguments);var a=this.options,b=a.states,d=a.upLineColor||a.lineColor,e=b.hover.upLineColor||d,g=b.select.upLineColor||d;D(this.points,function(a){if(a.open<
a.close){a.pointAttr[""].stroke=d;a.pointAttr.hover.stroke=e;a.pointAttr.select.stroke=g}})},drawPoints:function(){var a=this,b=a.chart,d,e=a.pointAttr[""],g,j,c,f,h,k,l,m,z,s,r;D(a.points,function(n){z=n.graphic;if(n.plotY!==I){d=n.pointAttr[n.selected?"selected":""]||e;l=d["stroke-width"]%2/2;m=J(n.plotX)-l;g=n.plotOpen;j=n.plotClose;c=ma.min(g,j);f=ma.max(g,j);r=J(n.shapeArgs.width/2);h=J(c)!==J(n.plotY);k=f!==n.yBottom;c=J(c)+l;f=J(f)+l;s=["M",m-r,f,"L",m-r,c,"L",m+r,c,"L",m+r,f,"Z","M",m,c,"L",
m,h?J(n.plotY):c,"M",m,f,"L",m,k?J(n.yBottom):f,"Z"];z?z.animate({d:s}):n.graphic=b.renderer.path(s).attr(d).add(a.group).shadow(a.options.shadow)}})}});U.candlestick=fa;var wb=Ea.prototype.symbols;la.flags=A(la.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});U.flags=s(U.column,
{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Z.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){U.column.prototype.translate.apply(this);var a=this.chart,b=this.points,d=b.length-1,e,g,j=this.options.onSeries,j=(e=j&&a.get(j))&&e.options.step,c=e&&e.points,f=c&&c.length,h=this.xAxis,k=h.getExtremes(),l,m,z;if(e&&e.visible&&f){e=e.currentDataGrouping;m=
c[f-1].x+(e?e.totalRange:0);for(b.sort(function(a,b){return a.x-b.x});f--&&b[d];)if(e=b[d],l=c[f],l.x<=e.x&&l.plotY!==I){if(e.x<=m){e.plotY=l.plotY;l.x<e.x&&!j&&(z=c[f+1])&&z.plotY!==I&&(e.plotY=e.plotY+(e.x-l.x)/(z.x-l.x)*(z.plotY-l.plotY))}d--;f++;if(d<0)break}}D(b,function(d,e){if(d.plotY===I)d.x>=k.min&&d.x<=k.max?d.plotY=a.chartHeight-h.bottom-(h.opposite?h.height:0)+h.offset-a.plotTop:d.shapeArgs={};if((g=b[e-1])&&g.plotX===d.plotX){if(g.stackIndex===I)g.stackIndex=0;d.stackIndex=g.stackIndex+
1}})},drawPoints:function(){var a,b=this.pointAttr[""],d=this.points,e=this.chart.renderer,g,j,c=this.options,f=c.y,h,k,l,m,z=c.lineWidth%2/2,s,n;for(k=d.length;k--;)if(l=d[k],a=l.plotX>this.xAxis.len,g=l.plotX+(a?z:-z),m=l.stackIndex,h=l.options.shape||c.shape,j=l.plotY,j!==I&&(j=l.plotY+f+z-(m!==I&&m*c.stackDistance)),s=m?I:l.plotX+z,n=m?I:l.plotY,m=l.graphic,j!==I&&g>=0&&!a){a=l.pointAttr[l.selected?"select":""]||b;m?m.attr({x:g,y:j,r:a.r,anchorX:s,anchorY:n}):l.graphic=e.label(l.options.title||
c.title||"A",g,j,h,s,n,c.useHTML).css(A(c.style,l.style)).attr(a).attr({align:h==="flag"?"left":"center",width:c.width,height:c.height}).add(this.markerGroup).shadow(c.shadow);l.tooltipPos=[g,j]}else if(m)l.graphic=m.destroy()},drawTracker:function(){var a=this.points;mb.drawTrackerPoint.apply(this);D(a,function(b){var d=b.graphic;d&&R(d.element,"mouseover",function(){if(b.stackIndex>0&&!b.raised){b._y=d.y;d.attr({y:b._y-8});b.raised=true}D(a,function(a){if(a!==b&&a.raised&&a.graphic){a.graphic.attr({y:a._y});
a.raised=false}})})})},animate:La});wb.flag=function(a,b,d,e,g){var c=g&&g.anchorX||a,g=g&&g.anchorY||b;return["M",c,g,"L",a,b+e,a,b,a+d,b,a+d,b+e,a,b+e,"M",c,g,"Z"]};D(["circle","square"],function(a){wb[a+"pin"]=function(b,d,e,g,c){var f=c&&c.anchorX,c=c&&c.anchorY,b=wb[a](b,d,e,g);f&&c&&b.push("M",f,d>c?d:d+g,"L",f,c);return b}});eb===ha.VMLRenderer&&D(["flag","circlepin","squarepin"],function(a){kb.prototype.symbols[a]=wb[a]});fa={linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#CCC"]]};
ea=[].concat(Rb);ea[4]=["day",[1,2,3,4]];ea[5]=["week",[1,2,3]];f(ca,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:U.areaspline===I?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:0.4,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:ea},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,
marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:ib?20:14,barBackgroundColor:fa,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:fa,buttonBorderColor:"#666",buttonBorderRadius:2,
buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#EEE"],[1,"#FFF"]]},trackBorderColor:"#CCC",trackBorderWidth:1,liveRedraw:za&&!ib}});Sa.prototype={drawHandle:function(a,b){var d=this.chart,e=d.renderer,g=this.elementsToDestroy,c=this.handles,f=this.navigatorOptions.handles,f={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":1},h;this.rendered||(c[b]=e.g("navigator-handle-"+["left","right"][b]).css({cursor:"e-resize"}).attr({zIndex:4-
b}).add(),h=e.rect(-4.5,0,9,16,3,1).attr(f).add(c[b]),g.push(h),h=e.path(["M",-1.5,4,"L",-1.5,12,"M",0.5,4,"L",0.5,12]).attr(f).add(c[b]),g.push(h));c[b][d.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(a,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(a){var b=this.chart.renderer,d=this.elementsToDestroy,e=this.scrollbarButtons,g=this.scrollbarHeight,c=this.scrollbarOptions,f;this.rendered||(e[a]=b.g().add(this.scrollbarGroup),f=b.rect(-0.5,
-0.5,g+1,g+1,c.buttonBorderRadius,c.buttonBorderWidth).attr({stroke:c.buttonBorderColor,"stroke-width":c.buttonBorderWidth,fill:c.buttonBackgroundColor}).add(e[a]),d.push(f),f=b.path(["M",g/2+(a?-1:1),g/2-3,"L",g/2+(a?-1:1),g/2+3,g/2+(a?2:-2),g/2]).attr({fill:c.buttonArrowColor}).add(e[a]),d.push(f));a&&e[a].attr({translateX:this.scrollerWidth-g})},render:function(a,b,d,e){var g=this.chart,c=g.renderer,f,h,l,k,m=this.scrollbarGroup,z=this.navigatorGroup,s=this.scrollbar,z=this.xAxis,n=this.scrollbarTrack,
p=this.scrollbarHeight,F=this.scrollbarEnabled,v=this.navigatorOptions,y=this.scrollbarOptions,q=y.minWidth,E=this.height,B=this.top,w=this.navigatorEnabled,ra=v.outlineWidth,M=ra/2,N=0,A=this.outlineHeight,xa=y.barBorderRadius,I=y.barBorderWidth,H=B+M,L;if(!isNaN(a)){this.navigatorLeft=f=r(z.left,g.plotLeft+p);this.navigatorWidth=h=r(z.len,g.plotWidth-2*p);this.scrollerLeft=l=f-p;this.scrollerWidth=k=k=h+2*p;z.getExtremes&&(L=this.getUnionExtremes(true))&&(L.dataMin!==z.min||L.dataMax!==z.max)&&
z.setExtremes(L.dataMin,L.dataMax,true,false);d=r(d,z.translate(a));e=r(e,z.translate(b));if(isNaN(d)||da(d)===Infinity){d=0;e=k}if(!(z.translate(e,true)-z.translate(d,true)<g.xAxis[0].minRange)){this.zoomedMax=P(K(d,e),h);this.zoomedMin=K(this.fixedWidth?this.zoomedMax-this.fixedWidth:P(d,e),0);this.range=this.zoomedMax-this.zoomedMin;d=J(this.zoomedMax);b=J(this.zoomedMin);a=d-b;if(!this.rendered){if(w){this.navigatorGroup=z=c.g("navigator").attr({zIndex:3}).add();this.leftShade=c.rect().attr({fill:v.maskFill}).add(z);
this.rightShade=c.rect().attr({fill:v.maskFill}).add(z);this.outline=c.path().attr({"stroke-width":ra,stroke:v.outlineColor}).add(z)}if(F){this.scrollbarGroup=m=c.g("scrollbar").add();s=y.trackBorderWidth;this.scrollbarTrack=n=c.rect().attr({x:0,y:-s%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":s,r:y.trackBorderRadius||0,height:p}).add(m);this.scrollbar=s=c.rect().attr({y:-I%2/2,height:p,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":I,r:xa}).add(m);this.scrollbarRifles=
c.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(m)}}g=g.isResizing?"animate":"attr";w&&(this.leftShade[g]({x:f,y:B,width:b,height:E}),this.rightShade[g]({x:f+d,y:B,width:h-d,height:E}),this.outline[g]({d:["M",l,H,"L",f+b+M,H,f+b+M,H+A-p,"M",f+d-M,H+A-p,"L",f+d-M,H,l+k,H]}),this.drawHandle(b+M,0),this.drawHandle(d+M,1));if(F&&m){this.drawScrollbarButton(0);this.drawScrollbarButton(1);m[g]({translateX:l,translateY:J(H+E)});n[g]({width:k});f=p+b;h=a-I;h<q&&(N=(q-h)/2,h=q,f=f-N);this.scrollbarPad=
N;s[g]({x:ja(f)+I%2/2,width:h});q=p+b+a/2-0.5;this.scrollbarRifles.attr({visibility:a>12?"visible":"hidden"})[g]({d:["M",q-3,p/4,"L",q-3,2*p/3,"M",q,p/4,"L",q,2*p/3,"M",q+3,p/4,"L",q+3,2*p/3]})}this.scrollbarPad=N;this.rendered=true}}},addEvents:function(){var a=this.chart.container,b=this.mouseDownHandler,d=this.mouseMoveHandler,e=this.mouseUpHandler,g;g=[[a,"mousedown",b],[a,"mousemove",d],[document,"mouseup",e]];hb&&g.push([a,"touchstart",b],[a,"touchmove",d],[document,"touchend",e]);D(g,function(a){R.apply(null,
a)});this._events=g},removeEvents:function(){D(this._events,function(a){ia.apply(null,a)});this._events=I;this.navigatorEnabled&&this.baseSeries&&ia(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var a=this,b=a.chart,d,e,g=a.scrollbarHeight,c=a.navigatorOptions,f=a.height,h=a.top,l,k,m=document.body.style,z,s=a.baseSeries;a.mouseDownHandler=function(e){var e=b.pointer.normalize(e),g=a.zoomedMin,c=a.zoomedMax,j=a.top,h=a.scrollbarHeight,k=a.scrollerLeft,t=a.scrollerWidth,s=
a.navigatorLeft,n=a.navigatorWidth,r=a.scrollbarPad,p=a.range,F=e.chartX,v=e.chartY,e=b.xAxis[0],y,q=ib?10:7;if(v>j&&v<j+f+h)if((j=!a.scrollbarEnabled||v<j+f)&&ma.abs(F-g-s)<q){a.grabbedLeft=true;a.otherHandlePos=c;a.fixedExtreme=e.max;b.fixedRange=null}else if(j&&ma.abs(F-c-s)<q){a.grabbedRight=true;a.otherHandlePos=g;a.fixedExtreme=e.min;b.fixedRange=null}else if(F>s+g-r&&F<s+c+r){a.grabbedCenter=F;a.fixedWidth=p;if(b.renderer.isSVG){z=m.cursor;m.cursor="ew-resize"}l=F-g}else if(F>k&&F<k+t){c=j?
F-s-p/2:F<s?g-p*0.2:F>k+t-h?g+p*0.2:F<s+g?g-p:c;if(c<0)c=0;else if(c+p>=n){c=n-p;y=d.dataMax}if(c!==g){a.fixedWidth=p;g=d.toFixedRange(c,c+p,null,y);e.setExtremes(g.min,g.max,true,false,{trigger:"navigator"})}}};a.mouseMoveHandler=function(d){var e=a.scrollbarHeight,g=a.navigatorLeft,c=a.navigatorWidth,j=a.scrollerLeft,f=a.scrollerWidth,h=a.range,o;if(d.pageX!==0){d=b.pointer.normalize(d);o=d.chartX;o<g?o=g:o>j+f-e&&(o=j+f-e);a.grabbedLeft?(k=true,a.render(0,0,o-g,a.otherHandlePos)):a.grabbedRight?
(k=true,a.render(0,0,a.otherHandlePos,o-g)):a.grabbedCenter&&(k=true,o<l?o=l:o>c+l-h&&(o=c+l-h),a.render(0,0,o-l,o-l+h));k&&a.scrollbarOptions.liveRedraw&&setTimeout(function(){a.mouseUpHandler(d)},0)}};a.mouseUpHandler=function(e){var g,c;if(k){if(a.zoomedMin===a.otherHandlePos)g=a.fixedExtreme;else if(a.zoomedMax===a.otherHandlePos)c=a.fixedExtreme;g=d.toFixedRange(a.zoomedMin,a.zoomedMax,g,c);b.xAxis[0].setExtremes(g.min,g.max,true,false,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})}if(e.type!==
"mousemove"){a.grabbedLeft=a.grabbedRight=a.grabbedCenter=a.fixedWidth=a.fixedExtreme=a.otherHandlePos=k=l=null;m.cursor=z||""}};var n=b.xAxis.length,p=b.yAxis.length;b.extraBottomMargin=a.outlineHeight+c.margin;a.navigatorEnabled?(a.xAxis=d=new F(b,A({ordinal:s&&s.xAxis.options.ordinal},c.xAxis,{id:"navigator-x-axis",isX:true,type:"datetime",index:n,height:f,offset:0,offsetLeft:g,offsetRight:-g,keepOrdinalPadding:true,startOnTick:false,endOnTick:false,minPadding:0,maxPadding:0,zoomEnabled:false})),
a.yAxis=e=new F(b,A(c.yAxis,{id:"navigator-y-axis",alignTicks:false,height:f,offset:0,index:p,zoomEnabled:false})),s||c.series.data?a.addBaseSeries():b.series.length===0&&L(b,"redraw",function(d,e){if(b.series.length>0&&!a.series){a.setBaseSeries();b.redraw=d}d.call(b,e)})):a.xAxis=d={translate:function(a,d){var e=b.xAxis[0].getExtremes(),c=b.plotWidth-2*g,j=e.dataMin,e=e.dataMax-j;return d?a*e/c+j:c*(a-j)/e},toFixedRange:F.prototype.toFixedRange};L(b,"getMargins",function(b){var g=this.legend,c=
g.options;b.call(this);a.top=h=a.navigatorOptions.top||this.chartHeight-a.height-a.scrollbarHeight-this.spacing[2]-(c.verticalAlign==="bottom"&&c.enabled&&!c.floating?g.legendHeight+r(c.margin,10):0);if(d&&e){d.options.top=e.options.top=h;d.setAxisSize();e.setAxisSize()}});a.addEvents()},getUnionExtremes:function(a){var b=this.chart.xAxis[0],d=this.xAxis,e=d.options;if(!a||b.dataMin!==null)return{dataMin:r(e&&e.min,(k(b.dataMin)&&k(d.dataMin)?P:r)(b.dataMin,d.dataMin)),dataMax:r(e&&e.max,(k(b.dataMax)&&
k(d.dataMax)?K:r)(b.dataMax,d.dataMax))}},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&this.series.remove();this.baseSeries=b.series[a]||typeof a==="string"&&b.get(a)||b.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var a=this.baseSeries,b=a?a.options:{},d=b.data,e=this.navigatorOptions.series,g;g=e.data;this.hasNavigatorData=!!g;b=A(b,e,{clip:false,enableMouseTracking:false,group:"nav",padXAxis:false,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",
name:"Navigator",showInLegend:false,isInternal:true,visible:true});b.data=g||d;this.series=this.chart.initSeries(b);if(a&&this.navigatorOptions.adaptToUpdatedData!==false){R(a,"updatedData",this.updatedDataHandler);a.userOptions.events=f(a.userOptions.event,{updatedData:this.updatedDataHandler})}},updatedDataHandler:function(){var a=this.chart.scroller,b=a.baseSeries,d=b.xAxis,e=d.getExtremes(),g=e.min,c=e.max,f=e.dataMin,e=e.dataMax,h=c-g,l,k,m,z,s,n=a.series;l=n.xData;var r=!!d.setExtremes;k=c>=
l[l.length-1]-(this.closestPointRange||0);l=g<=f;if(!a.hasNavigatorData){n.options.pointStart=b.xData[0];n.setData(b.options.data,false);s=true}l&&(z=f,m=z+h);k&&(m=e,l||(z=K(m-h,n.xData[0])));r&&(l||k)?isNaN(z)||d.setExtremes(z,m,true,false,{trigger:"updatedData"}):(s&&this.chart.redraw(false),a.render(K(g,f),P(c,e)))},destroy:function(){this.removeEvents();D([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],
function(a){a&&a.destroy&&a.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null;D([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(a){W(a)})}};ha.Scroller=Sa;L(F.prototype,"zoom",function(a,b,d){var e=this.chart,g=e.options,c=g.chart.zoomType,f=g.navigator,g=g.rangeSelector,h;if(this.isXAxis&&(f&&f.enabled||g&&g.enabled))if(c==="x")e.resetZoomButton="blocked";else if(c===
"y")h=false;else if(c==="xy"){e=this.previousZoom;k(b)?this.previousZoom=[this.min,this.max]:e&&(b=e[0],d=e[1],delete this.previousZoom)}return h!==I?h:a.call(this,b,d)});L(xa.prototype,"init",function(a,b,d){R(this,"beforeRender",function(){var a=this.options;if(a.navigator.enabled||a.scrollbar.enabled)this.scroller=new Sa(this)});a.call(this,b,d)});L(Z.prototype,"addPoint",function(a,b,d,e,g){var c=this.options.turboThreshold;c&&this.xData.length>c&&p(b)&&!y(b)&&this.chart.scroller&&X(20,true);
a.call(this,b,d,e,g)});f(ca,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,stroke:"#68A",zIndex:7},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});ca.lang=A(ca.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});cb.prototype={clickButton:function(a,b){var d=this,e=d.selected,g=d.chart,c=d.buttons,f=d.buttonOptions[a],h=g.xAxis[0],l=g.scroller&&g.scroller.getUnionExtremes()||h||{},k=l.dataMin,m=l.dataMax,z,s=h&&J(P(h.max,r(m,h.max))),n=new Date(s),
p=f.type,F=f.count,l=f._range,v;if(!(k===null||m===null||a===d.selected)){if(p==="month"||p==="year"){z={month:"Month",year:"FullYear"}[p];n["set"+z](n["get"+z]()-F);z=n.getTime();k=r(k,Number.MIN_VALUE);isNaN(z)||z<k?(z=k,s=P(z+l,m)):l=s-z}else if(l){z=K(s-l,k);s=P(z+l,m)}else if(p==="ytd")if(h){if(m===I){k=Number.MAX_VALUE;m=Number.MIN_VALUE;D(g.series,function(a){a=a.xData;k=P(a[0],k);m=K(a[a.length-1],m)});b=false}s=new Date(m);v=s.getFullYear();z=v=K(k||0,Date.UTC(v,0,1));s=s.getTime();s=P(m||
s,s)}else{R(g,"beforeRender",function(){d.clickButton(a)});return}else p==="all"&&h&&(z=k,s=m);c[e]&&c[e].setState(0);c[a]&&c[a].setState(2);g.fixedRange=l;h?h.setExtremes(z,s,r(b,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:f}):(e=g.options.xAxis,e[0]=A(e[0],{range:l,min:v}));d.setSelected(a)}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},
{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(a){var b=this,d=a.options.rangeSelector,e=d.buttons||[].concat(b.defaultButtons),g=d.selected,c=b.blurInputs=function(){var a=b.minInput,d=b.maxInput;a&&a.blur();d&&d.blur()};b.chart=a;b.options=d;b.buttons=[];a.extraTopMargin=25;b.buttonOptions=e;R(a.container,"mousedown",c);R(a,"resize",c);D(e,b.computeButtonRange);g!==I&&e[g]&&this.clickButton(g,false);R(a,"load",function(){R(a.xAxis[0],"afterSetExtremes",function(){b.updateButtonStates(true)})})},
updateButtonStates:function(a){var b=this,d=this.chart,e=d.xAxis[0],g=d.scroller&&d.scroller.getUnionExtremes()||e,c=g.dataMin,f=g.dataMax,h=b.selected,l=b.buttons;a&&d.fixedRange!==J(e.max-e.min)&&(l[h]&&l[h].setState(0),b.setSelected(null));D(b.buttonOptions,function(a,d){var g=a._range,k=g>f-c,m=g<e.minRange,z=a.type==="all"&&e.max-e.min>=f-c&&l[d].state!==2,s=a.type==="ytd"&&Ka("%Y",c)===Ka("%Y",f);g===J(e.max-e.min)&&d!==h?(b.setSelected(d),l[d].setState(2)):k||m||z||s?l[d].setState(3):l[d].state===
3&&l[d].setState(0)})},computeButtonRange:function(a){var b=a.type,d=a.count||1,e={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(e[b])a._range=e[b]*d;else if(b==="month"||b==="year")a._range={month:30,year:365}[b]*864E5*d},setInputValue:function(a,b){var d=this.chart.options.rangeSelector;if(k(b))this[a+"Input"].HCTime=b;this[a+"Input"].value=Ka(d.inputEditDateFormat||"%Y-%m-%d",this[a+"Input"].HCTime);this[a+"DateBox"].attr({text:Ka(d.inputDateFormat||"%b %e, %Y",this[a+
"Input"].HCTime)})},drawInput:function(a){var b=this,d=b.chart,e=d.renderer.style,g=d.renderer,c=d.options.rangeSelector,h=b.div,k=a==="min",m,z,s,n=this.inputGroup;this[a+"Label"]=z=g.label(ca.lang[k?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:1}).css(A(e,c.labelStyle)).add(n);n.offset=n.offset+(z.width+5);this[a+"DateBox"]=s=g.label("",n.offset).attr({padding:1,width:c.inputBoxWidth||90,height:c.inputBoxHeight||16,stroke:c.inputBoxBorderColor||"silver","stroke-width":1}).css(A({textAlign:"center"},
e,c.inputStyle)).on("click",function(){b[a+"Input"].focus()}).add(n);n.offset=n.offset+(s.width+(k?10:0));this[a+"Input"]=m=l("input",{name:a,className:"highcharts-range-selector",type:"text"},f({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:e.fontSize,fontFamily:e.fontFamily,top:d.plotTop+"px"},c.inputStyle),h);m.onfocus=function(){B(this,{left:n.translateX+s.x+"px",top:n.translateY+"px",width:s.width-2+"px",height:s.height-2+"px",border:"2px solid silver"})};
m.onblur=function(){B(this,{border:0,width:"1px",height:"1px"});b.setInputValue(a)};m.onchange=function(){var a=m.value,e=(c.inputDateParser||Date.parse)(a),g=d.xAxis[0],f=g.dataMin,h=g.dataMax;isNaN(e)&&(e=a.split("-"),e=Date.UTC(q(e[0]),q(e[1])-1,q(e[2])));isNaN(e)||(ca.global.useUTC||(e=e+(new Date).getTimezoneOffset()*6E4),k?e>b.maxInput.HCTime?e=I:e<f&&(e=f):e<b.minInput.HCTime?e=I:e>h&&(e=h),e!==I&&d.xAxis[0].setExtremes(k?e:g.min,k?g.max:e,I,I,{trigger:"rangeSelectorInput"}))}},render:function(a,
b){var d=this,e=d.chart,g=e.renderer,c=e.container,h=e.options,k=h.exporting&&h.navigation&&h.navigation.buttonOptions,m=h.rangeSelector,z=d.buttons,h=ca.lang,s=d.div,s=d.inputGroup,n=m.buttonTheme,p=m.inputEnabled!==false,r=n&&n.states,F=e.plotLeft,v;if(!d.rendered&&(d.zoomText=g.text(h.rangeSelectorZoom,F,e.plotTop-10).css(m.labelStyle).add(),v=F+d.zoomText.getBBox().width+5,D(d.buttonOptions,function(a,b){z[b]=g.button(a.text,v,e.plotTop-25,function(){d.clickButton(b);d.isActive=true},n,r&&r.hover,
r&&r.select).css({textAlign:"center"}).add();v=v+(z[b].width+(m.buttonSpacing||0));d.selected===b&&z[b].setState(2)}),d.updateButtonStates(),p)){d.div=s=l("div",null,{position:"relative",height:0,zIndex:1});c.parentNode.insertBefore(s,c);d.inputGroup=s=g.g("input-group").add();s.offset=0;d.drawInput("min");d.drawInput("max")}p&&(c=e.plotTop-35,s.align(f({y:c,width:s.offset,x:k&&c<(k.y||0)+k.height-e.spacing[0]?-40:0},m.inputPosition),true,e.spacingBox),d.setInputValue("min",a),d.setInputValue("max",
b));d.rendered=true},destroy:function(){var a=this.minInput,b=this.maxInput,d=this.chart,e=this.blurInputs,g;ia(d.container,"mousedown",e);ia(d,"resize",e);W(this.buttons);if(a)a.onfocus=a.onblur=a.onchange=null;if(b)b.onfocus=b.onblur=b.onchange=null;for(g in this){this[g]&&g!=="chart"&&(this[g].destroy?this[g].destroy():this[g].nodeType&&oa(this[g]));this[g]=null}}};F.prototype.toFixedRange=function(a,b,d,e){var g=this.chart&&this.chart.fixedRange,a=r(d,this.translate(a,true)),b=r(e,this.translate(b,
true)),d=g&&(b-a)/g;d>0.7&&d<1.3&&(e?a=b-g:b=a+g);return{min:a,max:b}};L(xa.prototype,"init",function(a,b,d){R(this,"init",function(){if(this.options.rangeSelector.enabled)this.rangeSelector=new cb(this)});a.call(this,b,d)});ha.RangeSelector=cb;xa.prototype.callbacks.push(function(a){function b(){c=a.xAxis[0].getExtremes();f.render(c.min,c.max)}function d(){c=a.xAxis[0].getExtremes();isNaN(c.min)||h.render(c.min,c.max)}function e(a){a.triggerOp!=="navigator-drag"&&f.render(a.min,a.max)}function g(a){h.render(a.min,
a.max)}var c,f=a.scroller,h=a.rangeSelector;f&&(R(a.xAxis[0],"afterSetExtremes",e),L(a,"drawChartBox",function(a){var d=this.isDirtyBox;a.call(this);d&&b()}),b());h&&(R(a.xAxis[0],"afterSetExtremes",g),R(a,"resize",d),d());R(a,"destroy",function(){f&&ia(a.xAxis[0],"afterSetExtremes",e);h&&(ia(a,"resize",d),ia(a.xAxis[0],"afterSetExtremes",g))})});ha.StockChart=function(a,b){var d=a.series,e,g=r(a.navigator&&a.navigator.enabled,true)?{startOnTick:false,endOnTick:false}:null,c={marker:{enabled:false,
states:{hover:{radius:5}}},states:{hover:{lineWidth:2}}},f={shadow:false,borderWidth:0};a.xAxis=Na(H(a.xAxis||{}),function(a){return A({minPadding:0,maxPadding:0,ordinal:true,title:{text:null},labels:{overflow:"justify"},showLastLabel:true},a,{type:"datetime",categories:null},g)});a.yAxis=Na(H(a.yAxis||{}),function(a){e=a.opposite;return A({labels:{align:e?"right":"left",x:e?-2:2,y:-2},showLastLabel:false,title:{text:null}},a)});a.series=null;a=A({chart:{panning:true,pinchType:"x"},navigator:{enabled:true},
scrollbar:{enabled:true},rangeSelector:{enabled:true},title:{text:null},tooltip:{shared:true,crosshairs:true},legend:{enabled:false},plotOptions:{line:c,spline:c,area:c,areaspline:c,arearange:c,areasplinerange:c,column:f,columnrange:f,candlestick:f,ohlc:f}},a,{_stock:true,chart:{inverted:false}});a.series=d;return new xa(a,b)};L(fb.prototype,"init",function(a,b,d){var e=d.chart.pinchType||"";a.call(this,b,d);this.pinchX=this.pinchHor=e.indexOf("x")!==-1;this.pinchY=this.pinchVert=e.indexOf("y")!==
-1});F.prototype.getPlotLinePath=function(a,b,d,e,g){var c=this,f=this.isLinked?this.linkedParent.series:this.series,h=c.chart.renderer,l=c.left,m=c.top,z,s,n,p,F=[],f=this.isXAxis?k(this.options.yAxis)?[this.chart.yAxis[this.options.yAxis]]:Na(f,function(a){return a.yAxis}):k(this.options.xAxis)?[this.chart.xAxis[this.options.xAxis]]:Na(f,function(a){return a.xAxis}),v=[];D(f,function(a){Ma(a,v)===-1&&v.push(a)});g=r(g,c.translate(a,null,null,d));isNaN(g)||(c.horiz?D(v,function(a){s=a.top;p=s+a.len;
z=n=J(g+c.transB);(z>=l&&z<=l+c.width||e)&&F.push("M",z,s,"L",n,p)}):D(v,function(a){z=a.left;n=z+a.width;s=p=J(m+c.height-g);(s>=m&&s<=m+c.height||e)&&F.push("M",z,s,"L",n,p)}));return F.length>0?h.crispPolyLine(F,b||1):null};Ea.prototype.crispPolyLine=function(a,b){var d;for(d=0;d<a.length;d=d+6){a[d+1]===a[d+4]&&(a[d+1]=a[d+4]=J(a[d+1])-b%2/2);a[d+2]===a[d+5]&&(a[d+2]=a[d+5]=J(a[d+2])+b%2/2)}return a};eb===ha.VMLRenderer&&(kb.prototype.crispPolyLine=Ea.prototype.crispPolyLine);L(F.prototype,"hideCrosshair",
function(a,b){a.call(this,b);k(this.crossLabelArray)&&(k(b)?this.crossLabelArray[b]&&this.crossLabelArray[b].hide():D(this.crossLabelArray,function(a){a.hide()}))});L(F.prototype,"drawCrosshair",function(a,b,d){var e,g;a.call(this,b,d);if(k(this.crosshair.label)&&this.crosshair.label.enabled&&k(d)){var a=this.chart,c=this.options.crosshair.label,h=this.isXAxis?"x":"y",b=this.horiz,l=this.opposite,m=this.left,z=this.top,s=this.crossLabel,n,p,F=c.format,v="";if(!s)s=this.crossLabel=a.renderer.label().attr({align:c.align||
(b?"center":l?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center"),zIndex:12,height:b?16:I,fill:c.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:r(c.padding,2),stroke:c.borderColor||null,"stroke-width":c.borderWidth||0}).css(f({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},c.style)).add();b?(n=d.plotX+m,p=z+(l?0:this.height)):(n=l?this.width+m:0,p=d.plotY+z);if(p<z||p>z+this.height)this.hideCrosshair();else{!F&&!c.formatter&&
(this.isDatetimeAxis&&(v="%b %d, %Y"),F="{value"+(v?":"+v:"")+"}");s.attr({x:n,y:p,text:F?ta(F,{value:d[h]}):c.formatter.call(this,d[h]),visibility:"visible"});d=s.box;if(b){if(this.options.tickPosition==="inside"&&!l||this.options.tickPosition!=="inside"&&l)p=s.y-d.height}else p=s.y-d.height/2;b?(e=m-d.x,g=m+this.width-d.x):(e=this.labelAlign==="left"?m:0,g=this.labelAlign==="right"?m+this.width:a.chartWidth);s.translateX<e&&(n=n+(e-s.translateX));s.translateX+d.width>=g&&(n=n-(s.translateX+d.width-
g));s.attr({x:n,y:p,visibility:"visible"})}}});var gc=ya.init,hc=ya.processData,ic=Pa.prototype.tooltipFormatter;ya.init=function(){gc.apply(this,arguments);this.setCompare(this.options.compare)};ya.setCompare=function(a){this.modifyValue=a==="value"||a==="percent"?function(b,d){var e=this.compareValue;if(b!==I&&(b=a==="value"?b-e:b=100*(b/e)-100,d))d.change=b;return b}:null;if(this.chart.hasRendered)this.isDirty=true};ya.processData=function(){var a=0,b,d,e;hc.apply(this,arguments);if(this.xAxis&&
this.processedYData){b=this.processedXData;d=this.processedYData;for(e=d.length;a<e;a++)if(typeof d[a]==="number"&&b[a]>=this.xAxis.min){this.compareValue=d[a];break}}};L(ya,"getExtremes",function(a){a.call(this);if(this.modifyValue){this.dataMax=this.modifyValue(this.dataMax);this.dataMin=this.modifyValue(this.dataMin)}});F.prototype.setCompare=function(a,b){this.isXAxis||(D(this.series,function(b){b.setCompare(a)}),r(b,true)&&this.chart.redraw())};Pa.prototype.tooltipFormatter=function(a){a=a.replace("{point.change}",
(this.change>0?"+":"")+M(this.change,r(this.series.tooltipOptions.changeDecimals,2)));return ic.apply(this,[a])};f(ha,{Axis:F,Chart:xa,Color:Ua,Point:Pa,Tick:ra,Renderer:eb,Series:Z,SVGElement:z,SVGRenderer:Ea,arrayMin:wa,arrayMax:na,charts:Ba,dateFormat:Ka,format:ta,pathAnim:Cb,getOptions:function(){return ca},hasBidiBug:Sb,isTouchDevice:ib,numberFormat:M,seriesTypes:U,setOptions:function(a){ca=A(true,ca,a);pa();return ca},addEvent:R,removeEvent:ia,createElement:l,discardElement:oa,css:B,each:D,
extend:f,map:Na,merge:A,pick:r,splat:H,extendClass:s,pInt:q,wrap:L,svg:za,canvas:Da,vml:!za&&!Da,product:"Highstock",version:"1.3.10"})})();
(function(f,A){function w(c,f,h){this.init.call(this,c,f,h)}var q=f.arrayMin,c=f.arrayMax,p=f.each,y=f.extend,h=f.merge,n=f.map,E=f.pick,m=f.pInt,k=f.getOptions().plotOptions,v=f.seriesTypes,H=f.extendClass,r=f.splat,B=f.wrap,l=f.Axis,s=f.Tick,M=f.Point,N=f.Pointer,L=f.CenteredSeriesMixin,ta=f.TrackerMixin,va=f.Series,ua=Math,Wa=ua.round,Fa=ua.floor,wa=ua.max,na=f.Color,W=function(){};y(w.prototype,{init:function(c,f,l){var k=this,m=k.defaultOptions;k.chart=f;f.angular&&(m.background={});k.options=
c=h(m,c);(c=c.background)&&p([].concat(r(c)).reverse(),function(c){var f=c.backgroundColor,c=h(k.defaultBackgroundOptions,c);if(f)c.backgroundColor=f;c.color=c.backgroundColor;l.options.plotBands.unshift(c)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});
var oa=l.prototype,s=s.prototype,X={getOffset:W,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:W,setCategories:W,setTitle:W},Y={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},
maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(c){c=this.options=h(this.defaultOptions,this.defaultRadialOptions,c);c.plotBands||(c.plotBands=[])},getOffset:function(){oa.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=L.getCenter.call(this.pane)},getLinePath:function(c,f){var h=this.center,f=E(f,
h[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+h[0],this.top+h[1],f,f,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){oa.setAxisTranslation.call(this);this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&
1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){oa.setAxisSize.call(this);this.isRadial&&(this.center=this.pane.center=f.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*E(this.sector,1)/2)},getPosition:function(c,f){return this.postTranslate(this.isCircular?this.translate(c):0,E(this.isCircular?f:this.translate(c),this.center[2]/2)-this.offset)},postTranslate:function(c,
f){var h=this.chart,l=this.center,c=this.startAngleRad+c;return{x:h.plotLeft+l[0]+Math.cos(c)*f,y:h.plotTop+l[1]+Math.sin(c)*f}},getPlotBandPath:function(c,f,h){var l=this.center,k=this.startAngleRad,s=l[2]/2,p=[E(h.outerRadius,"100%"),h.innerRadius,E(h.thickness,10)],r=/%$/,v,y=this.isCircular;"polygon"===this.options.gridLineInterpolation?l=this.getPlotLinePath(c).concat(this.getPlotLinePath(f,!0)):(y||(p[0]=this.translate(c),p[1]=this.translate(f)),p=n(p,function(c){r.test(c)&&(c=m(c,10)*s/100);
return c}),"circle"===h.shape||!y?(c=-Math.PI/2,f=1.5*Math.PI,v=!0):(c=k+this.translate(c),f=k+this.translate(f)),l=this.chart.renderer.symbols.arc(this.left+l[0],this.top+l[1],p[0],p[0],{start:c,end:f,innerR:E(p[1],p[0]-p[2]),open:v}));return l},getPlotLinePath:function(c,f){var h=this,l=h.center,k=h.chart,m=h.getPosition(c),s,n,r;h.isCircular?r=["M",l[0]+k.plotLeft,l[1]+k.plotTop,"L",m.x,m.y]:"circle"===h.options.gridLineInterpolation?(c=h.translate(c))&&(r=h.getLinePath(0,c)):(p(k.xAxis,function(c){c.pane===
h.pane&&(s=c)}),r=[],c=h.translate(c),l=s.tickPositions,s.autoConnect&&(l=l.concat([l[0]])),f&&(l=[].concat(l).reverse()),p(l,function(f,h){n=s.getPosition(f,c);r.push(h?"L":"M",n.x,n.y)}));return r},getTitlePosition:function(){var c=this.center,f=this.chart,h=this.options.title;return{x:f.plotLeft+c[0]+(h.x||0),y:f.plotTop+c[1]-{high:0.5,middle:0.25,low:0}[h.align]*c[2]+(h.y||0)}}};B(oa,"init",function(c,f,l){var k,m=f.angular,s=f.polar,n=l.isX,p=m&&n,v,q;q=f.options;var B=l.pane||0;if(m){if(y(this,
p?X:Y),v=!n)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else s&&(y(this,Y),this.defaultRadialOptions=(v=n)?this.defaultRadialXOptions:h(this.defaultYAxisOptions,this.defaultRadialYOptions));c.call(this,f,l);if(!p&&(m||s))if(c=this.options,f.panes||(f.panes=[]),this.pane=(k=f.panes[B]=f.panes[B]||new w(r(q.pane)[B],f,this),B=k),B=B.options,f.inverted=!1,q.chart.zoomType=null,this.startAngleRad=f=(B.startAngle-90)*Math.PI/180,this.endAngleRad=q=(E(B.endAngle,B.startAngle+360)-90)*Math.PI/
180,this.offset=c.offset||0,(this.isCircular=v)&&l.max===A&&q-f===2*Math.PI)this.autoConnect=!0});B(s,"getPosition",function(c,f,h,l,k){var m=this.axis;return m.getPosition?m.getPosition(h):c.call(this,f,h,l,k)});B(s,"getLabelPosition",function(c,f,h,l,k,m,s,n,p){var r=this.axis,v=m.y,y=m.align,q=180*((r.translate(this.pos)+r.startAngleRad+Math.PI/2)/Math.PI)%360;r.isRadial?(c=r.getPosition(this.pos,r.center[2]/2+E(m.distance,-25)),"auto"===m.rotation?l.attr({rotation:q}):null===v&&(v=r.chart.renderer.fontMetrics(l.styles.fontSize).b-
l.getBBox().height/2),null===y&&(y=r.isCircular?20<q&&160>q?"left":200<q&&340>q?"right":"center":"center",l.attr({align:y})),c.x+=m.x,c.y+=v):c=c.call(this,f,h,l,k,m,s,n,p);return c});B(s,"getMarkPath",function(c,f,h,l,k,m,s){var n=this.axis;n.isRadial?(c=n.getPosition(this.pos,n.center[2]/2+l),f=["M",f,h,"L",c.x,c.y]):f=c.call(this,f,h,l,k,m,s);return f});k.arearange=h(k.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},
trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});v.arearange=H(v.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(c){return[c.low,c.high]},pointValKey:"low",getSegments:function(){var c=this;p(c.points,function(f){!c.options.connectNulls&&(null===f.low||null===f.high)?f.y=null:null===f.low&&null!==f.high&&(f.y=f.high)});va.prototype.getSegments.call(this)},translate:function(){var c=this.yAxis;v.area.prototype.translate.apply(this);
p(this.points,function(f){var h=f.low,l=f.high,k=f.plotY;null===l&&null===h?f.y=null:null===h?(f.plotLow=f.plotY=null,f.plotHigh=c.translate(l,0,1,0,1)):null===l?(f.plotLow=k,f.plotHigh=null):(f.plotLow=k,f.plotHigh=c.translate(l,0,1,0,1))})},getSegmentPath:function(c){var f,h=[],l=c.length,k=va.prototype.getSegmentPath,m,s;s=this.options;var n=s.step;for(f=HighchartsAdapter.grep(c,function(c){return null!==c.plotLow});l--;)m=c[l],null!==m.plotHigh&&h.push({plotX:m.plotX,plotY:m.plotHigh});c=k.call(this,
f);n&&(!0===n&&(n="left"),s.step={left:"right",center:"center",right:"left"}[n]);h=k.call(this,h);s.step=n;s=[].concat(c,h);h[0]="L";this.areaPath=this.areaPath.concat(c,h);return s},drawDataLabels:function(){var c=this.data,f=c.length,h,l=[],k=va.prototype,m=this.options.dataLabels,s,n=this.chart.inverted;if(m.enabled||this._hasPointLabels){for(h=f;h--;)s=c[h],s.y=s.high,s._plotY=s.plotY,s.plotY=s.plotHigh,l[h]=s.dataLabel,s.dataLabel=s.dataLabelUpper,s.below=!1,n?(m.align="left",m.x=m.xHigh):m.y=
m.yHigh;k.drawDataLabels&&k.drawDataLabels.apply(this,arguments);for(h=f;h--;)s=c[h],s.dataLabelUpper=s.dataLabel,s.dataLabel=l[h],s.y=s.low,s.plotY=s._plotY,s.below=!0,n?(m.align="right",m.x=m.xLow):m.y=m.yLow;k.drawDataLabels&&k.drawDataLabels.apply(this,arguments)}},alignDataLabel:function(){v.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:v.column.prototype.getSymbol,drawPoints:W});k.areasplinerange=h(k.arearange);v.areasplinerange=H(v.arearange,{type:"areasplinerange",getPointSpline:v.spline.prototype.getPointSpline});
var aa=v.column.prototype;k.columnrange=h(k.column,k.arearange,{lineWidth:1,pointRange:null});v.columnrange=H(v.arearange,{type:"columnrange",translate:function(){var c=this,f=c.yAxis,h;aa.translate.apply(c);p(c.points,function(l){var k=l.shapeArgs,m=c.options.minPointLength,s;l.tooltipPos=null;l.plotHigh=h=f.translate(l.high,0,1,0,1);l.plotLow=l.plotY;s=h;l=l.plotY-h;l<m&&(m-=l,l+=m,s-=m/2);k.height=l;k.y=s})},trackerGroups:["group","dataLabels"],drawGraph:W,pointAttrToOptions:aa.pointAttrToOptions,
drawPoints:aa.drawPoints,drawTracker:aa.drawTracker,animate:aa.animate,getColumnMetrics:aa.getColumnMetrics});k.gauge=h(k.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});ta={type:"gauge",pointClass:H(M,{setState:function(c){this.state=c}}),angular:!0,drawGraph:W,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabels"],translate:function(){var c=
this.yAxis,f=this.options,l=c.center;this.generatePoints();p(this.points,function(k){var s=h(f.dial,k.dial),n=m(E(s.radius,80))*l[2]/200,p=m(E(s.baseLength,70))*n/100,r=m(E(s.rearLength,10))*n/100,v=s.baseWidth||3,y=s.topWidth||1,q=f.overshoot,B=c.startAngleRad+c.translate(k.y,null,null,null,!0);q&&"number"===typeof q?(q=q/180*Math.PI,B=Math.max(c.startAngleRad-q,Math.min(c.endAngleRad+q,B))):!1===f.wrap&&(B=Math.max(c.startAngleRad,Math.min(c.endAngleRad,B)));B=180*B/Math.PI;k.shapeType="path";k.shapeArgs=
{d:s.path||["M",-r,-v/2,"L",p,-v/2,n,-y/2,n,y/2,p,v/2,-r,v/2,"z"],translateX:l[0],translateY:l[1],rotation:B};k.plotX=l[0];k.plotY=l[1]})},drawPoints:function(){var c=this,f=c.yAxis.center,l=c.pivot,k=c.options,m=k.pivot,s=c.chart.renderer;p(c.points,function(f){var l=f.graphic,m=f.shapeArgs,n=m.d,p=h(k.dial,f.dial);l?(l.animate(m),m.d=n):f.graphic=s[f.shapeType](m).attr({stroke:p.borderColor||"none","stroke-width":p.borderWidth||0,fill:p.backgroundColor||"black",rotation:m.rotation}).add(c.group)});
l?l.animate({translateX:f[0],translateY:f[1]}):c.pivot=s.circle(0,0,E(m.radius,5)).attr({"stroke-width":m.borderWidth||0,stroke:m.borderColor||"silver",fill:m.backgroundColor||"black"}).translate(f[0],f[1]).add(c.group)},animate:function(c){var f=this;c||(p(f.points,function(c){var h=c.graphic;h&&(h.attr({rotation:180*f.yAxis.startAngleRad/Math.PI}),h.animate({rotation:c.shapeArgs.rotation},f.options.animation))}),f.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?
"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);va.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(c,f){va.prototype.setData.call(this,c,!1);this.processData();this.generatePoints();E(f,!0)&&this.chart.redraw()},drawTracker:ta&&ta.drawTrackerPoint};v.gauge=H(v.line,ta);k.boxplot=h(k.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},
whiskerLength:"50%",whiskerWidth:2});v.boxplot=H(v.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(c){return[c.low,c.q1,c.median,c.q3,c.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:W,translate:function(){var c=this.yAxis,f=this.pointArrayMap;v.column.prototype.translate.apply(this);p(this.points,function(h){p(f,function(f){null!==h[f]&&(h[f+"Plot"]=c.translate(h[f],0,1,0,1))})})},drawPoints:function(){var c=
this,f=c.points,h=c.options,l=c.chart.renderer,k,m,s,n,r,v,q,y,B,w,M,N,H,L,ta,ua,va,W,wa,na,X,Y,oa=!1!==c.doQuartiles,aa=parseInt(c.options.whiskerLength,10)/100;p(f,function(f){B=f.graphic;X=f.shapeArgs;M={};L={};ua={};Y=f.color||c.color;f.plotY!==A&&((k=f.pointAttr[f.selected?"selected":""],va=X.width,W=Fa(X.x),wa=W+va,na=Wa(va/2),m=Fa(oa?f.q1Plot:f.lowPlot),s=Fa(oa?f.q3Plot:f.lowPlot),n=Fa(f.highPlot),r=Fa(f.lowPlot),M.stroke=f.stemColor||h.stemColor||Y,M["stroke-width"]=E(f.stemWidth,h.stemWidth,
h.lineWidth),M.dashstyle=f.stemDashStyle||h.stemDashStyle,L.stroke=f.whiskerColor||h.whiskerColor||Y,L["stroke-width"]=E(f.whiskerWidth,h.whiskerWidth,h.lineWidth),ua.stroke=f.medianColor||h.medianColor||Y,ua["stroke-width"]=E(f.medianWidth,h.medianWidth,h.lineWidth),ua["stroke-linecap"]="round",q=M["stroke-width"]%2/2,y=W+na+q,w=["M",y,s,"L",y,n,"M",y,m,"L",y,r],oa&&(q=k["stroke-width"]%2/2,y=Fa(y)+q,m=Fa(m)+q,s=Fa(s)+q,W+=q,wa+=q,N=["M",W,s,"L",W,m,"L",wa,m,"L",wa,s,"L",W,s,"z"]),aa&&(q=L["stroke-width"]%
2/2,n+=q,r+=q,H=["M",y-na*aa,n,"L",y+na*aa,n,"M",y-na*aa,r,"L",y+na*aa,r]),q=ua["stroke-width"]%2/2,v=Wa(f.medianPlot)+q,ta=["M",W,v,"L",wa,v],B)?(f.stem.animate({d:w}),aa&&f.whiskers.animate({d:H}),oa&&f.box.animate({d:N}),f.medianShape.animate({d:ta})):(f.graphic=B=l.g().add(c.group),f.stem=l.path(w).attr(M).add(B),aa&&(f.whiskers=l.path(H).attr(L).add(B)),oa&&(f.box=l.path(N).attr(k).add(B)),f.medianShape=l.path(ta).attr(ua).add(B)))})}});k.errorbar=h(k.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",
tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null});v.errorbar=H(v.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(c){return[c.low,c.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:v.arearange?v.arearange.prototype.drawDataLabels:W,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||v.column.prototype.getColumnMetrics.call(this)}});
k.waterfall=h(k.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333"});v.waterfall=H(v.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(c,f){f.stacking=!0;v.column.prototype.init.call(this,c,f)},translate:function(){var c=this.yAxis,f,h,l,k,m,s,n,p,r;f=this.options.threshold;v.column.prototype.translate.apply(this);p=f;l=this.points;h=0;for(f=l.length;h<f;h++)k=l[h],m=k.shapeArgs,s=this.getStack(h),r=s.points[this.index+","+h],
isNaN(k.y)&&(k.y=this.yData[h]),n=wa(p,p+k.y)+r[0],m.y=c.translate(n,0,1),k.isSum||k.isIntermediateSum?(m.y=c.translate(r[1],0,1),m.height=c.translate(r[0],0,1)-m.y):p+=s.total,0>m.height&&(m.y+=m.height,m.height*=-1),k.plotY=m.y=Wa(m.y)-this.borderWidth%2/2,m.height=Wa(m.height),k.yBottom=m.y+m.height},processData:function(c){var f=this.yData,h=this.points,l,k=f.length,m=this.options.threshold||0,s,n,p,r,v,q;n=s=p=r=m;for(q=0;q<k;q++)v=f[q],l=h&&h[q]?h[q]:{},"sum"===v||l.isSum?f[q]=n:"intermediateSum"===
v||l.isIntermediateSum?(f[q]=s,s=m):(n+=v,s+=v),p=Math.min(n,p),r=Math.max(n,r);va.prototype.processData.call(this,c);this.dataMin=p;this.dataMax=r},toYData:function(c){return c.isSum?"sum":c.isIntermediateSum?"intermediateSum":c.y},getAttribs:function(){v.column.prototype.getAttribs.apply(this,arguments);var c=this.options,l=c.states,k=c.upColor||this.color,c=f.Color(k).brighten(0.1).get(),m=h(this.pointAttr),s=this.upColorProp;m[""][s]=k;m.hover[s]=l.hover.upColor||c;m.select[s]=l.select.upColor||
k;p(this.points,function(c){0<c.y&&!c.color&&(c.pointAttr=m,c.color=k)})},getGraphPath:function(){var c=this.data,f=c.length,h=Wa(this.options.lineWidth+this.borderWidth)%2/2,l=[],k,m,s;for(s=1;s<f;s++)m=c[s].shapeArgs,k=c[s-1].shapeArgs,m=["M",k.x+k.width,k.y+h,"L",m.x,k.y+h],0>c[s-1].y&&(m[2]+=k.height,m[5]+=k.height),l=l.concat(m);return l},getExtremes:W,getStack:function(c){var f=this.yAxis.stacks,h=this.stackKey;this.processedYData[c]<this.options.threshold&&(h="-"+h);return f[h][c]},drawGraph:va.prototype.drawGraph});
k.bubble=h(k.scatter,{dataLabels:{format:"{point.z}",inside:!0,style:{color:"white",textShadow:"0px 0px 3px black"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0});ta=H(M,{haloPath:function(){return M.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)}});v.bubble=H(v.scatter,{type:"bubble",pointClass:ta,
pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(c){var f=this.options.marker,h=E(f.fillOpacity,0.5),c=c||f.fillColor||this.color;1!==h&&(c=na(c).setOpacity(h).get("rgba"));return c},convertAttribs:function(){var c=va.prototype.convertAttribs.apply(this,arguments);c.fill=this.applyOpacity(c.fill);return c},getRadii:function(c,f,h,
l){var k,m,s,n=this.zData,p=[],r="width"!==this.options.sizeBy;m=0;for(k=n.length;m<k;m++)s=f-c,s=0<s?(n[m]-c)/(f-c):0.5,r&&0<=s&&(s=Math.sqrt(s)),p.push(ua.ceil(h+s*(l-h))/2);this.radii=p},animate:function(c){var f=this.options.animation;c||(p(this.points,function(c){var h=c.graphic,c=c.shapeArgs;h&&c&&(h.attr("r",1),h.animate({r:c.r},f))}),this.animate=null)},translate:function(){var c,f=this.data,h,l,k=this.radii;v.scatter.prototype.translate.call(this);for(c=f.length;c--;)h=f[c],l=k?k[c]:0,h.negative=
h.z<(this.options.zThreshold||0),l>=this.minPxSize/2?(h.shapeType="circle",h.shapeArgs={x:h.plotX,y:h.plotY,r:l},h.dlBox={x:h.plotX-l,y:h.plotY-l,width:2*l,height:2*l}):h.shapeArgs=h.plotY=h.dlBox=A},drawLegendSymbol:function(c,f){var h=m(c.itemStyle.fontSize)/2;f.legendSymbol=this.chart.renderer.circle(h,c.baseline-h,h).attr({zIndex:3}).add(f.legendGroup);f.legendSymbol.isMarker=!0},drawPoints:v.column.prototype.drawPoints,alignDataLabel:v.column.prototype.alignDataLabel});l.prototype.beforePadding=
function(){var f=this,h=this.len,l=this.chart,k=0,s=h,n=this.isXAxis,r=n?"xData":"yData",v=this.min,y={},B=ua.min(l.plotWidth,l.plotHeight),M=Number.MAX_VALUE,w=-Number.MAX_VALUE,N=this.max-v,H=h/N,L=[];this.tickPositions&&(p(this.series,function(h){var k=h.options;if(h.bubblePadding&&(h.visible||!l.options.chart.ignoreHiddenSeries))if(f.allowZoomOutside=!0,L.push(h),n)p(["minSize","maxSize"],function(c){var f=k[c],h=/%$/.test(f),f=m(f);y[c]=h?B*f/100:f}),h.minPxSize=y.minSize,h=h.zData,h.length&&
(M=ua.min(M,ua.max(q(h),!1===k.displayNegative?k.zThreshold:-Number.MAX_VALUE)),w=ua.max(w,c(h)))}),p(L,function(c){var f=c[r],h=f.length,l;n&&c.getRadii(M,w,y.minSize,y.maxSize);if(0<N)for(;h--;)"number"===typeof f[h]&&(l=c.radii[h],k=Math.min((f[h]-v)*H-l,k),s=Math.max((f[h]-v)*H+l,s))}),L.length&&0<N&&E(this.options.min,this.userMin)===A&&E(this.options.max,this.userMax)===A&&(s-=h,H*=(h+k-s)/h,this.min+=k/H,this.max+=s/H))};var H=function(c,f,h){c.call(this,f,h);this.chart.polar&&(this.closeSegment=
function(c){var f=this.xAxis.center;c.push("L",f[0],f[1])},this.closedStacks=!0)},k=function(c,f){var h=this.chart,l=this.options.animation,k=this.group,m=this.markerGroup,s=this.xAxis.center,n=h.plotLeft,p=h.plotTop;h.polar?h.renderer.isSVG&&(!0===l&&(l={}),f?(h={translateX:s[0]+n,translateY:s[1]+p,scaleX:0.001,scaleY:0.001},k.attr(h),m&&m.attr(h)):(h={translateX:n,translateY:p,scaleX:1,scaleY:1},k.animate(h,l),m&&m.animate(h,l),this.animate=null)):c.call(this,f)},pa=va.prototype,N=N.prototype;pa.toXY=
function(c){var f,h=this.chart,l=c.plotX;f=c.plotY;c.rectPlotX=l;c.rectPlotY=f;l=(180*(l/Math.PI)+this.xAxis.pane.options.startAngle)%360;0>l&&(l+=360);c.clientX=l;f=this.xAxis.postTranslate(c.plotX,this.yAxis.len-f);c.plotX=c.polarPlotX=f.x-h.plotLeft;c.plotY=c.polarPlotY=f.y-h.plotTop};pa.orderTooltipPoints=function(c){if(this.chart.polar&&(c.sort(function(c,f){return c.clientX-f.clientX}),c[0]))c[0].wrappedClientX=c[0].clientX+360,c.push(c[0])};v.area&&B(v.area.prototype,"init",H);v.areaspline&&
B(v.areaspline.prototype,"init",H);v.spline&&B(v.spline.prototype,"getPointSpline",function(c,f,h,l){var k,m,s,n,p,r,v;this.chart.polar?(k=h.plotX,m=h.plotY,c=f[l-1],s=f[l+1],this.connectEnds&&(c||(c=f[f.length-2]),s||(s=f[1])),c&&s&&(n=c.plotX,p=c.plotY,f=s.plotX,r=s.plotY,n=(1.5*k+n)/2.5,p=(1.5*m+p)/2.5,s=(1.5*k+f)/2.5,v=(1.5*m+r)/2.5,f=Math.sqrt(Math.pow(n-k,2)+Math.pow(p-m,2)),r=Math.sqrt(Math.pow(s-k,2)+Math.pow(v-m,2)),n=Math.atan2(p-m,n-k),p=Math.atan2(v-m,s-k),v=Math.PI/2+(n+p)/2,Math.abs(n-
v)>Math.PI/2&&(v-=Math.PI),n=k+Math.cos(v)*f,p=m+Math.sin(v)*f,s=k+Math.cos(Math.PI+v)*r,v=m+Math.sin(Math.PI+v)*r,h.rightContX=s,h.rightContY=v),l?(h=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||k,p||m,k,m],c.rightContX=c.rightContY=null):h=["M",k,m]):h=c.call(this,f,h,l);return h});B(pa,"translate",function(c){c.call(this);if(this.chart.polar&&!this.preventPostTranslate)for(var c=this.points,f=c.length;f--;)this.toXY(c[f])});B(pa,"getSegmentPath",function(c,f){var h=this.points;this.chart.polar&&
(!1!==this.options.connectEnds&&f[f.length-1]===h[h.length-1]&&null!==h[0].y)&&(this.connectEnds=!0,f=[].concat(f,[h[0]]));return c.call(this,f)});B(pa,"animate",k);B(pa,"setTooltipPoints",function(c,f){this.chart.polar&&y(this.xAxis,{tooltipLen:360});return c.call(this,f)});v.column&&(H=v.column.prototype,B(H,"animate",k),B(H,"translate",function(c){var f=this.xAxis,h=this.yAxis.len,l=f.center,k=f.startAngleRad,m=this.chart.renderer,s,n;this.preventPostTranslate=!0;c.call(this);if(f.isRadial){f=
this.points;for(n=f.length;n--;)s=f[n],c=s.barX+k,s.shapeType="path",s.shapeArgs={d:m.symbols.arc(l[0],l[1],h-s.plotY,null,{start:c,end:c+s.pointWidth,innerR:h-E(s.yBottom,h)})},this.toXY(s),s.tooltipPos=[s.plotX,s.plotY],s.ttBelow=s.plotY>l[1]}}),B(H,"alignDataLabel",function(c,f,h,l,k,m){this.chart.polar?(c=180*(f.rectPlotX/Math.PI),null===l.align&&(l.align=20<c&&160>c?"left":200<c&&340>c?"right":"center"),null===l.verticalAlign&&(l.verticalAlign=45>c||315<c?"bottom":135<c&&225>c?"top":"middle"),
pa.alignDataLabel.call(this,f,h,l,k,m)):c.call(this,f,h,l,k,m)}));B(N,"getIndex",function(c,f){var h,l=this.chart,k;l.polar?(k=l.xAxis[0].center,h=f.chartX-k[0]-l.plotLeft,l=f.chartY-k[1]-l.plotTop,h=180-Math.round(Math.atan2(h,l)/Math.PI*180)):h=c.call(this,f);return h});B(N,"getCoordinates",function(c,f){var h=this.chart,l={xAxis:[],yAxis:[]};h.polar?p(h.axes,function(c){var k=c.isXAxis,m=c.center,s=f.chartX-m[0]-h.plotLeft,m=f.chartY-m[1]-h.plotTop;l[k?"xAxis":"yAxis"].push({axis:c,value:c.translate(k?
Math.PI-Math.atan2(s,m):Math.sqrt(Math.pow(s,2)+Math.pow(m,2)),true)})}):l=c.call(this,f);return l})})(Highcharts);
(function(f){var A=f.Chart,w=f.addEvent,q=f.removeEvent,c=f.createElement,p=f.discardElement,y=f.css,h=f.merge,n=f.each,E=f.extend,m=Math.max,k=document,v=window,H=f.isTouchDevice,r=f.Renderer.prototype.symbols,B=f.getOptions(),l;E(B.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});B.navigation={menuStyle:{border:"1px solid #A0A0A0",
background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:H?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};B.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",
symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};f.post=function(f,l,m){var n,f=c("form",h({method:"post",
action:f,enctype:"multipart/form-data"},m),{display:"none"},k.body);for(n in l)c("input",{type:"hidden",name:n,value:l[n]},null,f);f.submit();p(f)};E(A.prototype,{getSVG:function(l){var m=this,r,v,q,y,B=h(m.options,l);k.createElementNS||(k.createElementNS=function(c,f){return k.createElement(f)});l=c("div",null,{position:"absolute",top:"-9999em",width:m.chartWidth+"px",height:m.chartHeight+"px"},k.body);v=m.renderTo.style.width;y=m.renderTo.style.height;v=B.exporting.sourceWidth||B.chart.width||/px$/.test(v)&&
parseInt(v,10)||600;y=B.exporting.sourceHeight||B.chart.height||/px$/.test(y)&&parseInt(y,10)||400;E(B.chart,{animation:!1,renderTo:l,forExport:!0,width:v,height:y});B.exporting.enabled=!1;B.series=[];n(m.series,function(c){q=h(c.options,{animation:false,showCheckbox:false,visible:c.visible});q.isInternal||B.series.push(q)});r=new f.Chart(B,m.callback);n(["xAxis","yAxis"],function(c){n(m[c],function(f,h){var l=r[c][h],k=f.getExtremes(),m=k.userMin,k=k.userMax;l&&(m!==void 0||k!==void 0)&&l.setExtremes(m,
k,true,false)})});v=r.container.innerHTML;B=null;r.destroy();p(l);v=v.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"\u00c2 ").replace(/&shy;/g,"\u00c2\u00ad").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,
'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(c){return c.toLowerCase()});return v=v.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(c,l){var c=c||{},k=this.options.exporting,k=this.getSVG(h({chart:{borderRadius:0}},k.chartOptions,
l,{exporting:{sourceWidth:c.sourceWidth||k.sourceWidth,sourceHeight:c.sourceHeight||k.sourceHeight}})),c=h(this.options.exporting,c);f.post(c.url,{filename:c.filename||"chart",type:c.type,width:c.width||0,scale:c.scale||2,svg:k},c.formAttributes)},print:function(){var c=this,f=c.container,h=[],l=f.parentNode,m=k.body,p=m.childNodes;c.isPrinting||(c.isPrinting=!0,n(p,function(c,f){1===c.nodeType&&(h[f]=c.style.display,c.style.display="none")}),m.appendChild(f),v.focus(),v.print(),setTimeout(function(){l.appendChild(f);
n(p,function(c,f){1===c.nodeType&&(c.style.display=h[f])});c.isPrinting=!1},1E3))},contextMenu:function(f,h,l,k,p,r,v){var B=this,H=B.options.navigation,A=H.menuItemStyle,na=B.chartWidth,W=B.chartHeight,oa="cache-"+f,X=B[oa],Y=m(p,r),aa,pa,z,ra=function(c){B.pointer.inClass(c.target,f)||pa()};X||(B[oa]=X=c("div",{className:f},{position:"absolute",zIndex:1E3,padding:Y+"px"},B.container),aa=c("div",null,E({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},
H.menuStyle),X),pa=function(){y(X,{display:"none"});v&&v.setState(0);B.openMenu=!1},w(X,"mouseleave",function(){z=setTimeout(pa,500)}),w(X,"mouseenter",function(){clearTimeout(z)}),w(document,"mouseup",ra),w(B,"destroy",function(){q(document,"mouseup",ra)}),n(h,function(f){if(f){var h=f.separator?c("hr",null,null,aa):c("div",{onmouseover:function(){y(this,H.menuItemHoverStyle)},onmouseout:function(){y(this,A)},onclick:function(){pa();f.onclick.apply(B,arguments)},innerHTML:f.text||B.options.lang[f.textKey]},
E({cursor:"pointer"},A),aa);B.exportDivElements.push(h)}}),B.exportDivElements.push(aa,X),B.exportMenuWidth=X.offsetWidth,B.exportMenuHeight=X.offsetHeight);h={display:"block"};l+B.exportMenuWidth>na?h.right=na-l-p-Y+"px":h.left=l-Y+"px";k+r+B.exportMenuHeight>W&&"top"!==v.alignOptions.verticalAlign?h.bottom=W-k-Y+"px":h.top=k+r-Y+"px";y(X,h);B.openMenu=!0},addButton:function(c){var k=this,m=k.renderer,n=h(k.options.navigation.buttonOptions,c),p=n.onclick,r=n.menuItems,v,q,B={stroke:n.symbolStroke,
fill:n.symbolFill},y=n.symbolSize||12;k.btnCount||(k.btnCount=0);k.exportDivElements||(k.exportDivElements=[],k.exportSVGElements=[]);if(!1!==n.enabled){var w=n.theme,H=w.states,A=H&&H.hover,H=H&&H.select,X;delete w.states;p?X=function(){p.apply(k,arguments)}:r&&(X=function(){k.contextMenu(q.menuClassName,r,q.translateX,q.translateY,q.width,q.height,q);q.setState(2)});n.text&&n.symbol?w.paddingLeft=f.pick(w.paddingLeft,25):n.text||E(w,{width:n.width,height:n.height,padding:0});q=m.button(n.text,0,
0,X,w,A,H).attr({title:k.options.lang[n._titleKey],"stroke-linecap":"round"});q.menuClassName=c.menuClassName||"highcharts-menu-"+k.btnCount++;n.symbol&&(v=m.symbol(n.symbol,n.symbolX-y/2,n.symbolY-y/2,y,y).attr(E(B,{"stroke-width":n.symbolStrokeWidth||1,zIndex:1})).add(q));q.add().align(E(n,{width:q.width,x:f.pick(n.x,l)}),!0,"spacingBox");l+=(q.width+n.buttonSpacing)*("right"===n.align?-1:1);k.exportSVGElements.push(q,v)}},destroyExport:function(c){var c=c.target,f,h;for(f=0;f<c.exportSVGElements.length;f++)if(h=
c.exportSVGElements[f])h.onclick=h.ontouchstart=null,c.exportSVGElements[f]=h.destroy();for(f=0;f<c.exportDivElements.length;f++)h=c.exportDivElements[f],q(h,"mouseleave"),c.exportDivElements[f]=h.onmouseout=h.onmouseover=h.ontouchstart=h.onclick=null,p(h)}});r.menu=function(c,f,h,l){return["M",c,f+2.5,"L",c+h,f+2.5,"M",c,f+l/2+0.5,"L",c+h,f+l/2+0.5,"M",c,f+l-1.5,"L",c+h,f+l-1.5]};A.prototype.callbacks.push(function(c){var f,h=c.options.exporting,k=h.buttons;l=0;if(!1!==h.enabled){for(f in k)c.addButton(k[f]);
w(c,"destroy",c.destroyExport)}})})(Highcharts);
(function(f){function A(){return!!this.points.length}function w(){this.hasData()?this.hideNoData():this.showNoData()}var q=f.seriesTypes,c=f.Chart.prototype,p=f.getOptions(),y=f.extend;y(p.lang,{noData:"No data to display"});p.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}};q.pie&&(q.pie.prototype.hasData=A);q.gauge&&(q.gauge.prototype.hasData=A);q.waterfall&&(q.waterfall.prototype.hasData=A);f.Series.prototype.hasData=
function(){return this.dataMax!==void 0&&this.dataMin!==void 0};c.showNoData=function(c){var f=this.options,c=c||f.lang.noData,f=f.noData;if(!this.noDataLabel){this.noDataLabel=this.renderer.label(c,0,0,null,null,null,null,null,"no-data").attr(f.attr).css(f.style).add();this.noDataLabel.align(y(this.noDataLabel.getBBox(),f.position),false,"plotBox")}};c.hideNoData=function(){if(this.noDataLabel)this.noDataLabel=this.noDataLabel.destroy()};c.hasData=function(){for(var c=this.series,f=c.length;f--;)if(c[f].hasData()&&
!c[f].options.isInternal)return true;return false};c.callbacks.push(function(c){f.addEvent(c,"load",w);f.addEvent(c,"redraw",w)})})(Highcharts);var MIN_COMMON=0,MAX_WEIGHT_POUNDS=1E3,MAX_WEIGHT_KG=454,MAX_HEIGHT_CM=335,MAX_HEIGHT_FEET=11,MAX_HEIGHT_INCH=12,MAX_TEMPERATURE_F=300,MIN_TEMPERATURE_F=33,MAX_TEMPERATURE_C=149,MAX_BP_DIASTOLIC=200,MIN_BP_DIASTOLIC=0,MAX_BP_SYSTOLIC=250,MIN_BP_SYSTOLIC=0,error_message="";
function getHealthLabel(f,A){var w="",q="";switch(Math.ceil(f)){case 5:w="Very Good";q="<div class='graph_smiley very_happy_smile'></div>";break;case 4:w="Good";q="<div class='graph_smiley good_smile'></div>";break;case 3:w="Neutral";q="<div class='graph_smiley neutral_smile'></div>";break;case 2:w="Bad";q="<div class='graph_smiley bad_smile'></div>";break;case 1:w="Very Bad",q="<div class='graph_smiley very_bad_smile'></div>"}return 1==A?"Feeling <b>"+w+"</b>":q}
function getHealthPlotBandSettings(){return[{from:0,to:1,color:"#ffd4d5"},{from:1,to:2,color:"#ffe2d8"},{from:2,to:3,color:"#fffae7"},{from:3,to:4,color:"#edffd6"},{from:4,to:5,color:"#e6ffe9"},{from:5,to:6,color:"#ffffff"}]}
function validateHealthInputValue(f,A){var w,q=!1,c=!1;error_message="";A[0]=parseFloat(A[0]);A[1]=parseFloat(A[1]);0>=A[0]?(q=!0,error_message="Please enter a value greater than 0"):0>=A[0].toFixed(2)&&(q=!0,error_message="Please enter a valid value");switch(f){case 1:w=$.trim($("#read_weight_unit").text());"Kg"==w?A[0]>MAX_WEIGHT_KG&&(c=!0,error_message="Please enter a value less than "+MAX_WEIGHT_KG+w):"lbs"==w&&A[0]>MAX_WEIGHT_POUNDS&&(c=!0,error_message="Please enter a value less than "+MAX_WEIGHT_POUNDS+
w);break;case 2:w=$.trim($("#read_height_unit").text());"cm"==w?A[0]>MAX_HEIGHT_CM&&(c=!0,error_message="Please enter a value less than "+MAX_HEIGHT_CM+" cm."):"feet"==w&&(A[0]>MAX_HEIGHT_FEET?(c=!0,error_message="Please enter a value less than "+MAX_HEIGHT_FEET+" feet"):A[1]>MAX_HEIGHT_INCH&&(c=!0,error_message="Please enter a value less than 12 inches"));break;case 3:A[0]<=MIN_BP_SYSTOLIC?(c=!0,error_message="Please enter a systolic value greater than "+MIN_BP_SYSTOLIC):A[1]<=MIN_BP_DIASTOLIC?(c=
!0,error_message="Please enter a diastolic value greater than "+MIN_BP_DIASTOLIC):A[0]>MAX_BP_SYSTOLIC?(c=!0,error_message="Please enter a systolic value less than "+MAX_BP_SYSTOLIC):A[1]>MAX_BP_DIASTOLIC?(c=!0,error_message="Please enter a diastolic value less than "+MAX_BP_DIASTOLIC):A[1]>A[0]&&(c=!0,error_message="Systolic pressure should be greater than diastolic pressure.");break;case 4:if(w=$.trim($("#read_temperature_unit").text()),"\u00b0C"==w)A[0]>MAX_TEMPERATURE_C&&(c=!0,error_message="Please enter a value less than "+
MAX_TEMPERATURE_C);else if("\u00b0F"==w&&(A[0]<MIN_TEMPERATURE_F&&(c=!0,error_message="Please enter a value grater than "+MIN_TEMPERATURE_F),A[0]>MAX_TEMPERATURE_F))c=!0,error_message="Please enter a value less than "+MAX_TEMPERATURE_F}return!0==c||!0==q?!0:!1}
function validate_bp_details(){$("#bp_value1_error_message, #bp_value2_error_message, #bp_date_error_message, #bp_error_message").hide();var f=$.trim($("#bp_value1").val()),A=$.trim($("#bp_value2").val()),w=$.trim($("#bp_date").val()),q=$.trim($("#bp_time").val()),c=[];c[0]=f;c[1]=A;if($.isNumeric(f))if($.isNumeric(A)){if(validateHealthInputValue(3,c))return $("#bp_error_message").text(error_message).show(),!1;if(""==w||null==w)return $("#bp_error_message").text("Please enter valid date").show(),
!1;if(""==q||null==q||!q.match(/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/))return $("#bp_error_message").text("Please enter valid time").show(),!1;var p=Ladda.create(document.querySelector("#bp_submit_button"));p.start();$.ajax({type:"POST",url:"/user/api/addHealthRecord",data:{type:3,value1:f,value2:A,date:w,time:q},dataType:"json",beforeSend:function(){},success:function(c){p.stop();!0==c.success?(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"current_health"}),0!=$("#pressure_graph_container").length&&
load_stock_graph(),$("#bp_display_value").html(c.latest_value_string),$("#bp_updated_time").attr("title","Last updated on:"+c.latest_updated_time),null!=c.bmi?$("#bmi_value").html(c.bmi):$("#bmi_value").html("-")):showServerErrorAlert("Alert",c.error_message,!0);$("#readBp").modal("hide");$("#bp_value1, #bp_value2, #bp_date").val("")}})}else return $("#bp_error_message").text("Please enter valid diastolic value").show(),!1;else return $("#bp_error_message").text("Please enter valid systolic value").show(),
!1}function showServerErrorAlert(f,A,w){bootbox.dialog({message:A,title:f,buttons:{Ok:{label:"ok",className:"btn-primary",callback:function(){!0==w&&(window.location.reload(),window.scrollTo(0,0))}}}})}
function load_graph(f,A){$.ajax({async:!0,type:"post",data:{graph_type:f,username:A},dataType:"json",success:function(w){switch(f){case 1:cordinates=getGraphCordinates(w.reading);plot_week_graph(cordinates.x,cordinates.y,"Weight("+w.unit+")");break;case 2:cordinates=getGraphCordinates(w.status);options=status_graph_options();plot_week_graph(cordinates.x,cordinates.y,"Feeling",options);break;case 3:cordinates=getGraphCordinates(w.reading);plot_week_graph(cordinates.x,cordinates.y,"BP");break;case 4:cordinates=
getGraphCordinates(w.reading),plot_week_graph(cordinates.x,cordinates.y,"Temp("+w.unit+")")}},url:"/user/api/getWeeklyHealthValues"})}
function validate_weight_details(){$("#weight_value_error_message, #weight_date_error_message, #weight_error_message").hide();var f=$.trim($("#weight_value").val()),A=$.trim($("#weight_date").val()),w=[];w[0]=f;if($.isNumeric(f)){if(validateHealthInputValue(1,w))return $("#weight_error_message").text(error_message).show(),!1;if(""==A||null==A)return $("#weight_error_message").text("Please enter a valid date.").show(),!1;var q=Ladda.create(document.querySelector("#weight_submit_button"));q.start();
$.ajax({type:"POST",url:"/user/api/addHealthRecord",data:{type:1,value1:f,value2:null,date:A},dataType:"json",success:function(c){q.stop();!0==c.success?(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"current_health"}),0!=$("#weight_graph_container").length&&load_stock_graph(),$("#weight_display_value").html(c.latest_value_string),$("#weight_updated_time").attr("title","Last updated on:"+c.latest_updated_time),null!=c.bmi?$("#bmi_value").html(c.bmi):$("#bmi_value").html("-")):
showServerErrorAlert("Alert",c.error_message,!0);$("#readWeight").modal("hide");$("#weight_value, #weight_date").val("");1==$("#graph_container").length&&load_graph(1)}})}else return $("#weight_error_message").text("Please enter a valid weight.").show(),!1}
function validate_temperature_details(){$("#temperature_value_error_message, #temperature_date_error_message, #temperature_error_message").hide();var f=$.trim($("#temperature_value").val()),A=$.trim($("#temperature_date").val()),w=$.trim($("#temperature_time").val()),q=[];q[0]=f;if($.isNumeric(f)){if(validateHealthInputValue(4,q))return $("#temperature_error_message").text(error_message).show(),!1;if(""==A||null==A)return $("#temperature_error_message").text("Please enter a valid date.").show(),!1;
if(""==w||null==w||!w.match(/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/))return $("#temperature_error_message").text("Please enter a valid time.").show(),!1;var f=Math.round(100*f)/100,c=Ladda.create(document.querySelector("#read_temperature_button"));c.start();$.ajax({type:"POST",url:"/user/api/addHealthRecord",data:{type:4,value1:f,value2:null,date:A,time:w},dataType:"json",success:function(f){c.stop();!0==f.success?(socket.emit("my_health_update",{room:$("#graphUpdatedInRoom").val(),type:"current_health"}),
0!=$("#temp_graph_container").length&&load_stock_graph(),$("#temperature_display_value").html(f.latest_value_string),$("#temp_updated_time").attr("title","Last updated on:"+f.latest_updated_time),null!=f.bmi?$("#bmi_value").html(f.bmi):$("#bmi_value").html("-")):showServerErrorAlert("Alert",f.error_message,!0);$("#readTemperature").modal("hide");$("#temperature_value").val("");$("#temperature_date").val($("#date_today").val())}})}else return $("#temperature_error_message").text("Please enter a valid value").show(),
!1}function getSymptomSeverityGraph(f){$.ajax({type:"POST",url:"/user/api/getSymptomSeverityDetails",data:{symptomName:$("#"+f).data("symptom_name"),username:$("#"+f).data("username")},dataType:"json",success:function(A){plotSymptomSeverityDetailGraph(A,f)}})}
function plotSymptomSeverityDetailGraph(f,A){var w=[],q=!1;for(x in f)w.push([1E3*x,parseInt(f[x])+0.5]);1==w.length&&(q=!0);w={chart:{type:"line",renderTo:A,borderWidth:1,borderRadius:0,borderColor:"#e1e1e1",marginTop:20,marginRight:2,marginLeft:5},navigation:{buttonOptions:{enabled:!1}},navigator:app.graph_settings.graph_navigator,legend:{enabled:!1},credits:{enabled:!1},title:{floating:!0,style:{display:"none;"}},yAxis:{allowDecimals:!1,title:{floating:!0,style:{display:"block;"}},labels:{useHTML:!0,
align:"right",x:0,y:-28,formatter:function(){return getSeverityGraphLabel(this.value,2)}},plotBands:getSymptomPlotBandSettings(),max:5,min:1,gridLineColor:"#e1e1e1",showLastLabel:!0,endOnTick:!0,tickInterval:1},xAxis:{ordinal:!1},scrollbar:app.graph_settings.graph_scrollbar,rangeSelector:app.graph_settings.range_selector,plotOptions:{series:{color:"#469fdd",lineWidth:3,marker:{enabled:q}}},tooltip:{useHTML:!0,formatter:function(){return getSeverityGraphLabel(this.y-0.5,1)}},series:[{data:w}],lang:{noData:"No data available"},
noData:{position:{verticalAlign:"bottom"},style:{fontWeight:"normal",fontSize:"15px",color:"#303030"}}};$("#"+A).highcharts("StockChart",w);app.show_site_notfications&&showSiteNotification("Updated symptom main graphs","info")}function getSymptomPlotBandSettings(){return[{from:1,to:2,color:"#e6ffe9"},{from:2,to:3,color:"#fffcdf"},{from:3,to:4,color:"#fff3e7"},{from:4,to:5,color:"#ffe2d8"}]}
function getSeverityGraphLabel(f,A){var w="",q="";switch(f){case 1:w="None";q="<div class='severity_detail_band severity_none_band'></div>";break;case 2:w="Mild";q="<div class='severity_detail_band severity_mild_band'></div>";break;case 3:w="Moderate";q="<div class='severity_detail_band severity_moderate_band'></div>";break;case 4:w="Severe",q="<div class='severity_detail_band severity_severe_band'></div>"}return 1==A?"<b>"+w+"</b>":q}
function getSymptomWeeklySeverityGraph(f,A){$.ajax({type:"POST",url:"/user/api/getWeeklySymptomSeverity",data:{symptomName:f.replace(/[_]/g," "),userId:A},dataType:"json",success:function(w){0!==w.length?plotSymptomWeeklySeverityGraph(w,f):showSymptomWeeklySeverityGraphError(f)}})}
function plotSymptomWeeklySeverityGraph(f,A){readings=[];var w=[],q=[];for(x in f)w.push(x),q.push(parseInt(f[x])+0.5);3<w.length&&$("#"+A+"_label").addClass("severiy_boder_clearfix");w={chart:{type:"line",renderTo:A,marginLeft:0,marginRight:0},legend:{enabled:!1},credits:{enabled:!1},title:{floating:!0,style:{display:"none;"}},xAxis:{categories:w},yAxis:{allowDecimals:!1,title:{floating:!0,style:{display:"none;"}},labels:{useHTML:!0,align:"right",x:0,y:-19,formatter:function(){return getSeverityLabel(this.value,
2)}},plotBands:getSymptomPlotBandSettings(),max:5,min:1,gridLineColor:"#e1e1e1",showLastLabel:!0,endOnTick:!0,tickInterval:1},plotOptions:{series:{color:"#469fdd",lineWidth:3}},tooltip:{useHTML:!0,formatter:function(){return getSeverityLabel(this.y-0.5,1)}},navigation:{buttonOptions:{enabled:!1}},series:[{data:q}],lang:{noData:"No data available"},noData:{position:{verticalAlign:"bottom"},style:{fontWeight:"normal",fontSize:"14px",color:"#303030"}}};chart=new Highcharts.Chart(w);app.show_site_notfications&&
showSiteNotification("Updated Symptoms graphs","info")}function showSymptomWeeklySeverityGraphError(f){$("#"+f).html('<div class="nodata">No data available</div>')}
function getSeverityLabel(f,A){var w="",q="";switch(f){case 1:w="None";q="<div class='severity_band severity_none_band'></div>";break;case 2:w="Mild";q="<div class='severity_band severity_mild_band'></div>";break;case 3:w="Moderate";q="<div class='severity_band severity_moderate_band'></div>";break;case 4:w="Severe",q="<div class='severity_band severity_severe_band'></div>"}return 1==A?"<b>"+w+"</b>":q}
var gaugeChartSettings={chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},tooltip:{enabled:!1},label:{style:{display:"none;"}},legend:{enabled:!1},credits:{enabled:!1},title:{floating:!0,style:{display:"none;"}},loading:{labelStyle:{top:"60%"}},navigation:{buttonOptions:{enabled:!1}},pane:{startAngle:-150,endAngle:150,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#666"]]},borderWidth:0,outerRadius:"114%"},
{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#666"],[1,"#FFF"]]},borderWidth:1,outerRadius:"110%"},{},{backgroundColor:"#DDD",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},plotOptions:{gauge:{cursor:"pointer"}}};
function updateSeverityGauge(f,A,w){var q=0,c="dial_condition_"+w.severity,p="No Data";switch(A){case 1:q=25;p="None";break;case 2:q=75;p="Mild";break;case 3:q=125;p="Moderate";break;case 4:q=175,p="Severe"}f={container:f,dialValue:q,date:getUserNow(),lastUpdatedDate:"",newSeverity:p.toLowerCase(),severityClass:c,symptom_div_id:w.symptom_div_id,severityName:p};saveSymtomSeverity(w.symptom_id,w.date,A,callback_saveSymptomSeverity,f)}
function renderGaugeChart(){$(".health_dial_indicator .col-lg-3").each(function(f,A){var w=$(A).attr("id")+"_gauge_graph",q=$("#"+w).data("symptom_id"),c=$("#"+w).data("severity"),p=$("#"+w).parent().attr("id"),y=getDialValue(c);ploatGaugeChart(w,{symptom_id:q,date:"",lastUpdatedDate:"",callback_function:"",severity:c,dialValue:y,symptom_div_id:p})})}
$(document).on("change","#select_print_title0",function(){var f=$('input[class="health_options"]');$(this).is(":checked")?f.prop("checked",!0):f.prop("checked",!1)});$(document).on("change","#select_print_title1",function(){var f=$('input[class="tracker_options"]');$(this).is(":checked")?f.prop("checked",!0):f.prop("checked",!1)});$(document).on("change","#select_print_title2",function(){var f=$('input[class="body_options"]');$(this).is(":checked")?f.prop("checked",!0):f.prop("checked",!1)});
$(document).on("change","#select_print_title3",function(){var f=$('input[class="symptom_options"]');$(this).is(":checked")?f.prop("checked",!0):f.prop("checked",!1)});
(function(f){var A,w,q,c,p,y,h,n,E,m,k;w=!!document.createElement("canvas").getContext;var v=document.createElement("div");v.innerHTML='<v:shape id="vml_flag1" adj="1" />';v=v.firstChild;v.style.behavior="url(#default#VML)";A=v?"object"==typeof v.adj:!0;if(!w&&!A)f.fn.maphilight=function(){return this};else{if(w){n=function(c){return Math.max(0,Math.min(parseInt(c,16),255))};E=function(c,f){return"rgba("+n(c.substr(0,2))+","+n(c.substr(2,2))+","+n(c.substr(4,2))+","+f+")"};q=function(c){c=f('<canvas style="width:'+
c.width+"px;height:"+c.height+'px;"></canvas>').get(0);c.getContext("2d").clearRect(0,0,c.width,c.height);return c};var H=function(c,f,h,k,m){k=k||0;m=m||0;c.beginPath();if("rect"==f)c.rect(h[0]+k,h[1]+m,h[2]-h[0],h[3]-h[1]);else if("poly"==f){c.moveTo(h[0]+k,h[1]+m);for(i=2;i<h.length;i+=2)c.lineTo(h[i]+k,h[i+1]+m)}else"circ"==f&&c.arc(h[0]+k,h[1]+m,h[2],0,2*Math.PI,!1);c.closePath()};c=function(c,h,k,m){var n=c.getContext("2d");if(m.shadow){n.save();"inside"==m.shadowPosition&&(H(n,h,k),n.clip());
var p=100*c.width,r=100*c.height;H(n,h,k,p,r);n.shadowOffsetX=m.shadowX-p;n.shadowOffsetY=m.shadowY-r;n.shadowBlur=m.shadowRadius;n.shadowColor=E(m.shadowColor,m.shadowOpacity);(p=m.shadowFrom)||(p="outside"==m.shadowPosition?"fill":"stroke");"stroke"==p?(n.strokeStyle="rgba(0,0,0,1)",n.stroke()):"fill"==p&&(n.fillStyle="rgba(0,0,0,1)",n.fill());n.restore();"outside"==m.shadowPosition&&(n.save(),H(n,h,k),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0,0,0,1);",n.fill(),n.restore())}n.save();
H(n,h,k);m.fill&&(n.fillStyle=E(m.fillColor,m.fillOpacity),n.fill());m.stroke&&(n.strokeStyle=E(m.strokeColor,m.strokeOpacity),n.lineWidth=m.strokeWidth,n.stroke());n.restore();m.fade&&f(c).css("opacity",0).animate({opacity:1},100)};p=function(c){c.getContext("2d").clearRect(0,0,c.width,c.height)}}else q=function(c){return f('<var style="zoom:1;overflow:hidden;display:block;width:'+c.width+"px;height:"+c.height+'px;"></var>').get(0)},c=function(c,h,k,m,n){var p,r,v;for(p in k)k[p]=parseInt(k[p],10);
p='<v:fill color="#'+m.fillColor+'" opacity="'+(m.fill?m.fillOpacity:0)+'" />';r=m.stroke?'strokeweight="'+m.strokeWidth+'" stroked="t" strokecolor="#'+m.strokeColor+'"':'stroked="f"';m='<v:stroke opacity="'+m.strokeOpacity+'"/>';"rect"==h?v=f('<v:rect name="'+n+'" filled="t" '+r+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+k[0]+"px;top:"+k[1]+"px;width:"+(k[2]-k[0])+"px;height:"+(k[3]-k[1])+'px;"></v:rect>'):"poly"==h?v=f('<v:shape name="'+n+'" filled="t" '+r+' coordorigin="0,0" coordsize="'+
c.width+","+c.height+'" path="m '+k[0]+","+k[1]+" l "+k.join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+c.width+"px;height:"+c.height+'px;"></v:shape>'):"circ"==h&&(v=f('<v:oval name="'+n+'" filled="t" '+r+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(k[0]-k[2])+"px;top:"+(k[1]-k[2])+"px;width:"+2*k[2]+"px;height:"+2*k[2]+'px;"></v:oval>'));v.get(0).innerHTML=p+m;f(c).append(v)},p=function(c){var h=f("<div>"+c.innerHTML+
"</div>");h.children("[name=highlighted]").remove();c.innerHTML=h.html()};y=function(c){var f,h=c.getAttribute("coords").split(",");for(f=0;f<h.length;f++)h[f]=parseFloat(h[f]);return[c.getAttribute("shape").toLowerCase().substr(0,4),h]};k=function(c,h){var k=f(c);return f.extend({},h,f.metadata?k.metadata():!1,k.data("maphilight"))};m=function(c){return!c.complete||"undefined"!=typeof c.naturalWidth&&0===c.naturalWidth?!1:!0};h={position:"absolute",left:0,top:0,padding:0,border:0};var r=!1;f.fn.maphilight=
function(n){n=f.extend({},f.fn.maphilight.defaults,n);!w&&!r&&(f(window).ready(function(){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var c=document.createStyleSheet();f.each("shape rect oval circ fill stroke imagedata group textbox".split(" "),function(){c.addRule("v\\:"+this,"behavior: url(#default#VML); antialias:true")})}),r=!0);return this.each(function(){var l,s,r,v,E,H;l=f(this);if(!m(this))return window.setTimeout(function(){l.maphilight(n)},200);r=f.extend({},n,f.metadata?
l.metadata():false,l.data("maphilight"));if(s=l.get(0).getAttribute("usemap")){v=f('map[name="'+s.substr(1)+'"]');if(l.is('img,input[type="image"]')&&s&&v.size()>0){if(l.hasClass("maphilighted")){s=l.parent();l.insertBefore(s);s.remove();f(v).unbind(".maphilight").find("area[coords]").unbind(".maphilight")}s=f("<div></div>").css({display:"block",background:'url("'+this.src+'")',position:"relative",padding:0,width:this.width,height:this.height});r.wrapClass&&(r.wrapClass===true?s.addClass(f(this).attr("class")):
s.addClass(r.wrapClass));l.before(s).css("opacity",0).css(h).remove();A&&l.css("filter","Alpha(opacity=0)");s.append(l);E=q(this);f(E).css(h);E.height=this.height;E.width=this.width;s=function(){var h,l;l=k(this,r);if(!l.neverOn&&!l.alwaysOn){h=y(this);c(E,h[0],h[1],l,"highlighted");if(l.groupBy){var m=this;(/^[a-zA-Z][\-a-zA-Z]+$/.test(l.groupBy)?v.find("area["+l.groupBy+'="'+f(this).attr(l.groupBy)+'"]'):v.find(l.groupBy)).each(function(){if(this!=m){var f=k(this,r);if(!f.neverOn&&!f.alwaysOn){var h=
y(this);c(E,h[0],h[1],f,"highlighted")}}})}w||f(E).append("<v:rect></v:rect>")}};f(v).bind("alwaysOn.maphilight",function(){H&&p(H);w||f(E).empty();f(v).find("area[coords]").each(function(){var m,n;n=k(this,r);if(n.alwaysOn){if(!H&&w){H=q(l[0]);f(H).css(h);H.width=l[0].width;H.height=l[0].height;l.before(H)}n.fade=n.alwaysOnFade;m=y(this);w?c(H,m[0],m[1],n,""):c(E,m[0],m[1],n,"")}})});f(v).trigger("alwaysOn.maphilight").find("area[coords]").bind("mouseover.maphilight",s).bind("mouseout.maphilight",
function(){p(E)});l.before(E);l.addClass("maphilighted")}}})};f.fn.maphilight.defaults={fill:!0,fillColor:"000000",fillOpacity:0.2,stroke:!0,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,fade:!0,alwaysOn:!1,neverOn:!1,groupBy:!1,wrapClass:!0,shadow:!1,shadowX:0,shadowY:0,shadowRadius:6,shadowColor:"000000",shadowOpacity:0.8,shadowPosition:"outside",shadowFrom:!1}}})(jQuery);
(function(f){f(function(){function f(){}function w(c){var h=new f;h.then=function(f,h){var k;try{return h?(k=h(c),y(k===B?c:k)):w(c)}catch(m){return w(m)}};return v(h)}function q(){var c,h,k,m,n,p,r;k=[];m=[];n=function(c,f,h){var l=q();k.push(function(h){h.then(c,f).then(l.resolve,l.reject,l.progress)});h&&m.push(h);return l.promise};p=function(c){for(var f,h=0;f=m[h++];)f(c)};r=function(c){var f,h=0;n=c.then;r=p=function(){throw Error("already completed");};for(m=B;f=k[h++];)f(c);k=[]};c={};h=new f;
h.then=c.then=function(c,f,h){return n(c,f,h)};c.promise=v(h);c.resolver=v({resolve:c.resolve=function(c){var h=r,k;k=new f;k.then=function(f){var h;try{return f&&(h=f(c)),y(h===B?c:h)}catch(k){return w(k)}};k=v(k);h(k)},reject:c.reject=function(c){r(w(c))},progress:c.progress=function(c){p(c)}});return c}function c(c){return c&&"function"===typeof c.then}function p(c,f,h,k){return y(c).then(f,h,k)}function y(h){var k;h instanceof f||(k=q(),c(h)?h.then(k.resolve,k.reject,k.progress):k.resolve(h),
h=k.promise);return h}function h(c,f,h,n,r){m(2,arguments);return p(c,function(c){function l(c){H(c)}function m(c){A(c)}function v(c){Y(c)}var y,E,B,w,H,A,Y,aa,pa;aa=c.length>>>0;y=Math.max(0,Math.min(f,aa));E=[];w=q();B=p(w,h,n,r);if(y){H=function(c){E.push(c);--y||(H=A=Y=k,w.resolve(E))};A=function(c){H=A=Y=k;w.reject(c)};Y=w.progress;for(pa=0;pa<aa;++pa)pa in c&&p(c[pa],l,m,v)}else w.resolve(E);return B})}function n(c,f,h){c[h]=f;return c}function E(c,f,h){var k,m;k=c.length;m=[function(c,h,m){return p(c,
function(c){return p(h,function(h){return f(c,h,m,k)})})}];2<arguments.length&&m.push(h);return H.apply(c,m)}function m(c,f){for(var h,k=f.length;k>c;)if(h=f[--k],null!=h&&"function"!=typeof h)throw Error("callback is not a function");}function k(){}var v,H,r,B;p.defer=q;p.reject=function(c){return p(c,function(c){return w(c)})};p.isPromise=c;p.all=function(c,f,h,k){m(1,arguments);return p(c,function(c){return E(c,n,[])}).then(f,h,k)};p.some=h;p.any=function(c,f,k,m){return h(c,1,function(c){return f?
f(c[0]):c[0]},k,m)};p.map=function(c,f){return p(c,function(c){var h,k,m;k=c.length>>>0;h=Array(k);for(m=0;m<k;m++)m in c&&(h[m]=p(c[m],f));return E(h,n,h)})};p.reduce=function(c,f,h){var k=r.call(arguments,1);return p(c,function(c){return E.apply(B,[c].concat(k))})};p.chain=function(c,f,h){var k=2<arguments.length;return p(c,function(c){k&&(c=h);f.resolve(c);return c},function(c){f.reject(c);return w(c)},f.progress)};v=Object.freeze||function(c){return c};f.prototype=v({always:function(c,f){return this.then(c,
c,f)},otherwise:function(c){return this.then(B,c)}});r=[].slice;H=[].reduce||function(c){var f,h,k,m,n;n=0;f=Object(this);m=f.length>>>0;h=arguments;if(1>=h.length)for(;;){if(n in f){k=f[n++];break}if(++n>=m)throw new TypeError;}else k=h[1];for(;n<m;++n)n in f&&(k=c(k,f[n],n,f));return k};return p})})("function"==typeof define?define:function(f){"undefined"!=typeof module?module.exports=f():jQuery.mapster_when=f()});
(function(f){f.fn.mapster=function(c){var n=f.mapster.impl;if(f.isFunction(n[c]))return n[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return n.bind.apply(this,arguments);f.error("Method "+c+" does not exist on jQuery.mapster")};var A={},w=0,q=function(c,n,p,m){var k,v=m/15,y=f.mapster.utils;if("number"===typeof c){if(k=A[c],!k)return}else(k=y.indexOfProp(A,null,c))&&delete A[k],A[++w]=k=c,c=w;p=p||1;n=n+p/v>p-0.01?p:n+p/v;y.setOpacity(k,n);n<p&&setTimeout(function(){q(c,
n,p,m)},15)};f.mapster={version:"1.2.10",render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:0.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{}},defaults:{clickNavigate:!1,wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,listenToList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",
listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3E4,noHrefIsMask:!0,scaleMap:!0,safeLoad:!1,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,isTouch:null,map_cache:[],hooks:{},addHook:function(c,f){this.hooks[c]=(this.hooks[c]||
[]).push(f)},callHooks:function(c,n){f.each(this.hooks[c]||[],function(c,f){f.apply(n)})},utils:{when:f.mapster_when,defer:f.mapster_when.defer,subclass:function(c,f){var p=function(){var m=this,k=Array.prototype.slice.call(arguments,0);m.base=c.prototype;m.base.init=function(){c.prototype.constructor.apply(m,k)};f.apply(m,k)};p.prototype=new c;return p.prototype.constructor=p},asArray:function(c){return c.constructor===Array?c:this.split(c)},split:function(c,n){var p,m,k=c.split(",");for(p=0;p<k.length;p++)m=
f.trim(k[p]),""===m?k.splice(p,1):k[p]=n?n(m):m;return k},updateProps:function(c,n){var p,m=c||{},k=f.isEmptyObject(m)?n:c;p=[];f.each(k,function(c){p.push(c)});f.each(Array.prototype.slice.call(arguments,1),function(c,h){f.each(h||{},function(c){if(!p||0<=f.inArray(c,p)){var k=h[c];f.isPlainObject(k)?m[c]=f.extend(m[c]||{},k):k&&k.constructor===Array?m[c]=k.slice(0):"undefined"!==typeof k&&(m[c]=h[c])}})});return m},isElement:function(c){return"object"===typeof HTMLElement?c instanceof HTMLElement:
c&&"object"===typeof c&&1===c.nodeType&&"string"===typeof c.nodeName},indexOfProp:function(c,n,p){var m=c.constructor===Array?-1:null;f.each(c,function(c,f){if(f&&(n?f[n]:f)===p)return m=c,!1});return m},boolOrDefault:function(c,f){return this.isBool(c)?c:f||!1},isBool:function(c){return"boolean"===typeof c},isUndef:function(c){return"undefined"===typeof c},ifFunction:function(c,n,p){f.isFunction(c)&&c.call(n,p)},size:function(c,n){var p=f.mapster.utils;return{width:n?c.width||c.naturalWidth:p.imgWidth(c,
!0),height:n?c.height||c.naturalHeight:p.imgHeight(c,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(c,n){f.mapster.hasCanvas()?c.style.opacity=n:f(c).each(function(c,h){"undefined"!==typeof h.opacity?h.opacity=n:f(h).css("opacity",n)})},fader:q},getBoundList:function(c,n){if(!c.boundList)return null;var p,m,k=f(),v=f.mapster.utils.split(n);c.boundList.each(function(n,r){for(p=0;p<v.length;p++)m=v[p],f(r).is("["+c.listKey+'="'+m+'"]')&&(k=k.add(r))});return k},setBoundListProperties:function(c,
n,p){n.each(function(m,k){c.listSelectedClass&&(p?f(k).addClass(c.listSelectedClass):f(k).removeClass(c.listSelectedClass));c.listSelectedAttribute&&f(k).attr(c.listSelectedAttribute,p)})},getMapDataIndex:function(c){var n;switch(c.tagName&&c.tagName.toLowerCase()){case "area":c=f(c).parent().attr("name");n=f("img[usemap='#"+c+"']")[0];break;case "img":n=c}return n?this.utils.indexOfProp(this.map_cache,"image",n):-1},getMapData:function(c){c=this.getMapDataIndex(c.length?c[0]:c);if(0<=c)return 0<=
c?this.map_cache[c]:null},queueCommand:function(c,f,p,m){return!c?!1:!c.complete||c.currentAction?(c.commands.push({that:f,command:p,args:m}),!0):!1},unload:function(){this.impl.unload();this.impl=this.utils=null;f.fn.mapster=null;f.mapster=null;f("*").unbind()}};var c=f.mapster,p=c.utils,y=Array.prototype;f.each(["width","height"],function(c,n){var q=n.substr(0,1).toUpperCase()+n.substr(1);p["img"+q]=function(c,h){return(h?f(c)[n]():0)||c[n]||c["natural"+q]||c["client"+q]||c["offset"+q]}});c.Method=
function(c,f,p,m){this.name=m.name;this.input=this.output=c;this.first=m.first||!1;this.args=m.args?y.slice.call(m.args,0):[];this.key=m.key;this.func_map=f;this.func_area=p;this.name=m.name;this.allowAsync=m.allowAsync||!1};c.Method.prototype={constructor:c.Method,go:function(){var h,n,p,m,k,v=this.input,q=[],r=this;m=v.length;for(h=0;h<m;h++)if(n=f.mapster.getMapData(v[h]))if(!r.allowAsync&&c.queueCommand(n,r.input,r.name,r.args))this.first&&(k="");else if((p=n.getData("AREA"===v[h].nodeName?v[h]:
this.key))?0>f.inArray(p,q)&&q.push(p):k=this.func_map.apply(n,r.args),this.first||"undefined"!==typeof k)break;f(q).each(function(c,f){k=r.func_area.apply(f,r.args)});return"undefined"!==typeof k?k:this.output}};f.mapster.impl=function(){function h(){return"object"===typeof document.namespaces?document.namespaces:null}var n={},q=function(f){c.map_cache.splice(f.index,1);for(f=c.map_cache.length-1;f>=this.index;f--)c.map_cache[f].index--};n.get=function(f){var h=c.getMapData(this);if(!h||!h.complete)throw"Can't access data until binding complete.";
return(new c.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:f,first:!0,allowAsync:!0,defaultReturn:""})).go()};n.data=function(f){return(new c.Method(this,null,function(){return this},{name:"data",args:arguments,key:f})).go()};n.highlight=function(f){return(new c.Method(this,function(){if(!1===f)this.ensureNoHighlight();else{var c=this.highlightId;return 0<=c?this.data[c].key:null}},function(){this.highlight()},{name:"highlight",
args:arguments,key:f,first:!0})).go()};n.keys=function(h,k){function n(c){var h=[];k?(c=c.areas(),f.each(c,function(c,f){h=h.concat(f.keys)})):h.push(c.key);f.each(h,function(c,h){f.inArray(h,p)<0&&p.push(h)})}var p=[],r=c.getMapData(this);if(!r||!r.complete)throw"Can't access data until binding complete.";if(!r||!r.complete)return"";"string"===typeof h?k?n(r.getDataForKey(h)):p=[r.getKeysForGroup(h)]:(k=h,this.each(function(c,f){"AREA"===f.nodeName&&n(r.getDataForArea(f))}));return p.join(",")};
n.select=function(){n.set.call(this,!0)};n.deselect=function(){n.set.call(this,!1)};n.set=function(h,k,n){function q(c){c&&0>f.inArray(c,E)&&(E.push(c),w+=(""===w?"":",")+c.key)}function r(k){f.each(E,function(c,f){if(f)switch(h){case !0:f.select(s);break;case !1:f.deselect(!0);break;default:f.toggle(s)}});h||k.removeSelectionFinish();k.options.boundList&&c.setBoundListProperties(k.options,c.getBoundList(k.options,w),h)}var y,l,s=n,w,E;this.filter("img,area").each(function(n,v){var A;l=c.getMapData(v);
l!==y&&(y&&r(y),E=[],w="");l&&(A="","IMG"===v.nodeName.toUpperCase()?c.queueCommand(l,f(v),"set",[h,k,s])||(k instanceof Array?k.length&&(A=k.join(",")):A=k,A&&f.each(p.split(A),function(c,f){q(l.getDataForKey(f.toString()));y=l})):(s=k,c.queueCommand(l,f(v),"set",[h,s])||(q(l.getDataForArea(v)),y=l)))});l&&r(l);return this};n.unbind=function(f){return(new c.Method(this,function(){this.clearEvents();this.clearMapData(f);q(this)},null,{name:"unbind",args:arguments})).go()};n.rebind=function(f){return(new c.Method(this,
function(){var c=this;c.complete=!1;c.configureOptions(f);c.bindImages().then(function(){c.buildDataset(!0);c.complete=!0})},null,{name:"rebind",args:arguments})).go()};n.get_options=function(h,k){var n=p.isBool(h)?h:k;return(new c.Method(this,function(){var h=f.extend({},this.options);n&&(h.render_select=p.updateProps({},c.render_defaults,h,h.render_select),h.render_highlight=p.updateProps({},c.render_defaults,h,h.render_highlight));return h},function(){return n?this.effectiveOptions():this.options},
{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:h})).go()};n.set_options=function(h){return(new c.Method(this,function(){var c=h,n=p.updateProps({},c);delete n.areas;p.updateProps(this.options,n);var q=this,c=c.areas,r,y,l=q.options.areas;c&&f.each(c,function(c,h){h&&h.key&&(y=p.indexOfProp(l,"key",h.key),0<=y?f.extend(l[y],h):l.push(h),(r=q.getDataForKey(h.key))&&f.extend(r.options,h))});p.updateProps(this.area_options,this.options)},null,{name:"set_options",args:arguments})).go()};
n.unload=function(){var h;for(h=c.map_cache.length-1;0<=h;h--)c.map_cache[h]&&n.unbind.call(f(c.map_cache[h].image));n.graphics=null};n.snapshot=function(){return(new c.Method(this,function(){f.each(this.data,function(c,f){f.selected=!1});this.base_canvas=this.graphics.createVisibleCanvas(this);f(this.image).before(this.base_canvas)},null,{name:"snapshot"})).go()};n.state=function(){var h,k=null;f(this).each(function(f,n){if("IMG"===n.nodeName)return(h=c.getMapData(n))&&(k=h.state()),!1});return k};
n.bind=function(h){return this.each(function(k,p){var q,r,y,l;q=f(p);if(l=c.getMapData(p)){n.unbind.apply(q);if(!l.complete)return q.bind(),!0;l=null}r=(y=this.getAttribute("usemap"))&&f('map[name="'+y.substr(1)+'"]');if(!q.is("img")||!(y&&0<r.size()))return!0;q.css("border",0);l||(l=new c.MapData(this,h),l.index=c.map_cache.push(l)-1,l.map=r,l.bindImages().then(function(){l.initialize()}))})};n.init=function(m){var k,n;c.hasCanvas=function(){if(!p.isBool(c.hasCanvas.value)){var k=c.hasCanvas,n;n=
p.isBool(m)?m:(n=h())&&n.g_vml_?!1:f("<canvas />")[0].getContext?!0:!1;k.value=n}return c.hasCanvas.value};c.hasVml=function(){if(!p.isBool(c.hasVml.value)){var m=h();m&&!m.v&&(m.add("v","urn:schemas-microsoft-com:vml"),k=document.createStyleSheet(),n="shape rect oval circ fill stroke imagedata group textbox".split(" "),f.each(n,function(c,f){k.addRule("v\\:"+f,"behavior: url(#default#VML); antialias:true")}));var m=c.hasVml,r=f("<div />").appendTo("body");r.html('<v:shape id="vml_flag1" adj="1" />');
var q=r[0].firstChild;q.style.behavior="url(#default#VML)";q=q?"object"===typeof q.adj:!0;r.remove();m.value=q}return c.hasVml.value};c.isTouch=!!document.documentElement.ontouchstart;f.extend(c.defaults,c.render_defaults,c.shared_defaults);f.extend(c.area_defaults,c.render_defaults,c.shared_defaults)};n.test=function(c){return eval(c)};return n}();f.mapster.impl.init()})(jQuery);
(function(f){function A(c,h,n){var p=c.map_data,r=n.isMask;f.each(h.areas(),function(f,h){n.isMask=r||h.nohref&&p.options.noHrefIsMask;c.addShape(h,n)});n.isMask=r}function w(c){return Math.max(0,Math.min(parseInt(c,16),255))}function q(c,f){return"rgba("+w(c.substr(0,2))+","+w(c.substr(2,2))+","+w(c.substr(4,2))+","+f+")"}function c(){}var p,y=f.mapster,h=y.utils,n,E;y.Graphics=function(c){this.active=!1;this.canvas=null;this.height=this.width=0;this.shapes=[];this.masks=[];this.map_data=c};p=y.Graphics.prototype=
{constructor:y.Graphics,begin:function(c,h){var n=f(c);this.elementName=h;this.canvas=c;this.width=n.width();this.height=n.height();this.shapes=[];this.masks=[];this.active=!0},addShape:function(c,f){(f.isMask?this.masks:this.shapes).push({mapArea:c,options:f})},createVisibleCanvas:function(c){return f(this.createCanvasFor(c)).addClass("mapster_el").css(y.canvas_style)[0]},addShapeGroup:function(c,k,n){var p=this,r,q=this.map_data,l=c.effectiveRenderOptions(k);n&&f.extend(l,n);"select"===k?(r="static_"+
c.areaId.toString(),n=q.base_canvas):n=q.overlay_canvas;p.begin(n,r);l.includeKeys&&(r=h.split(l.includeKeys),f.each(r,function(c,f){var h=q.getDataForKey(f.toString());A(p,h,h.effectiveRenderOptions(k))}));A(p,c,l);p.render();l.fade&&h.fader(y.hasCanvas()?n:f(n).find("._fill").not(".mapster_mask"),0,y.hasCanvas()?1:l.fillOpacity,l.fadeDuration)}};n={renderShape:function(c,f,h){var n=f.coords(null,h);switch(f.shape){case "rect":c.rect(n[0],n[1],n[2]-n[0],n[3]-n[1]);break;case "poly":c.moveTo(n[0],
n[1]);for(h=2;h<f.length;h+=2)c.lineTo(n[h],n[h+1]);c.lineTo(n[0],n[1]);break;case "circ":case "circle":c.arc(n[0],n[1],n[2],0,2*Math.PI,!1)}},addAltImage:function(c,f,h,n){c.beginPath();this.renderShape(c,h);c.closePath();c.clip();c.globalAlpha=n.altImageOpacity||n.fillOpacity;c.drawImage(f,0,0,h.owner.scaleInfo.width,h.owner.scaleInfo.height)},render:function(){var c,h,n=this,p=n.map_data,r=n.masks.length,y=n.createCanvasFor(p),l=y.getContext("2d"),s=n.canvas.getContext("2d");r&&(c=n.createCanvasFor(p),
h=c.getContext("2d"),h.clearRect(0,0,c.width,c.height),f.each(n.masks,function(c,f){h.save();h.beginPath();n.renderShape(h,f.mapArea);h.closePath();h.clip();h.lineWidth=0;h.fillStyle="#000";h.fill();h.restore()}));f.each(n.shapes,function(c,f){l.save();if(f.options.fill)if(f.options.altImageId)n.addAltImage(l,p.images[f.options.altImageId],f.mapArea,f.options);else{l.beginPath();n.renderShape(l,f.mapArea);l.closePath();l.fillStyle=q(f.options.fillColor,f.options.fillOpacity);l.fill()}l.restore()});
f.each(n.shapes.concat(n.masks),function(c,f){var h=f.options.strokeWidth===1?0.5:0;if(f.options.stroke){l.save();l.strokeStyle=q(f.options.strokeColor,f.options.strokeOpacity);l.lineWidth=f.options.strokeWidth;l.beginPath();n.renderShape(l,f.mapArea,h);l.closePath();l.stroke();l.restore()}});r?(h.globalCompositeOperation="source-out",h.drawImage(y,0,0),s.drawImage(c,0,0)):s.drawImage(y,0,0);n.active=!1;return n.canvas},createCanvasFor:function(c){return f('<canvas width="'+c.scaleInfo.width+'" height="'+
c.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var c=this.map_data.overlay_canvas;c.getContext("2d").clearRect(0,0,c.width,c.height)},refreshSelections:function(){var c,h=this.map_data;c=h.base_canvas;h.base_canvas=this.createVisibleCanvas(h);f(h.base_canvas).hide();f(c).before(h.base_canvas);h.redrawSelections();f(h.base_canvas).show();f(c).remove()}};E={renderShape:function(c,h,n){var p,r,q,l,s=c.coords();r=this.elementName?'name="'+this.elementName+'" ':"";q=n?'class="'+n+'" ':
"";p='<v:fill color="#'+h.fillColor+'" class="_fill" opacity="'+(h.fill?h.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+h.strokeOpacity+'"/>';n=h.stroke?" strokeweight="+h.strokeWidth+' stroked="t" strokecolor="#'+h.strokeColor+'"':' stroked="f"';h=h.fill?' filled="t"':' filled="f"';switch(c.shape){case "rect":l="<v:rect "+q+r+h+n+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+s[0]+"px;top:"+s[1]+"px;width:"+(s[2]-s[0])+"px;height:"+(s[3]-s[1])+'px;">'+p+"</v:rect>";
break;case "poly":l="<v:shape "+q+r+h+n+' coordorigin="0,0" coordsize="'+this.width+","+this.height+'" path="m '+s[0]+","+s[1]+" l "+s.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+this.width+"px;height:"+this.height+'px;">'+p+"</v:shape>";break;case "circ":case "circle":l="<v:oval "+q+r+h+n+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(s[0]-s[2])+"px;top:"+(s[1]-s[2])+"px;width:"+2*s[2]+"px;height:"+
2*s[2]+'px;">'+p+"</v:oval>"}c=f(l);f(this.canvas).append(c);return c},render:function(){var c,k=this;f.each(this.shapes,function(c,f){k.renderShape(f.mapArea,f.options)});this.masks.length&&f.each(this.masks,function(f,n){c=h.updateProps({},n.options,{fillOpacity:1,fillColor:n.options.fillColorMask});k.renderShape(n.mapArea,c,"mapster_mask")});this.active=!1;return this.canvas},createCanvasFor:function(c){var h=c.scaleInfo.width,c=c.scaleInfo.height;return f('<var width="'+h+'" height="'+c+'" style="zoom:1;overflow:hidden;display:block;width:'+
h+"px;height:"+c+'px;"></var>')[0]},clearHighlight:function(){f(this.map_data.overlay_canvas).children().remove()},removeSelections:function(c){0<=c?f(this.map_data.base_canvas).find('[name="static_'+c.toString()+'"]').remove():f(this.map_data.base_canvas).children().remove()}};f.each("renderShape addAltImage render createCanvasFor clearHighlight removeSelections refreshSelections".split(" "),function(f,h){p[h]=function(){p[h]=(y.hasCanvas()?n[h]:E[h])||c;return p[h].apply(this,arguments)}})})(jQuery);
(function(f){var A=f.mapster,w=A.utils,q=[];A.MapImages=function(c){this.owner=c;this.clear()};A.MapImages.prototype={constructor:A.MapImages,slice:function(){return q.slice.apply(this,arguments)},splice:function(){q.slice.apply(this.status,arguments);return q.slice.apply(this,arguments)},complete:function(){return 0>f.inArray(!1,this.status)},_add:function(c){c=q.push.call(this,c)-1;this.status[c]=!1;return c},indexOf:function(c){return f.inArray(c,this)},clear:function(){var c=this;c.ids&&0<c.ids.length&&
f.each(c.ids,function(f,q){delete c[q]});c.ids=[];c.length=0;c.status=[];c.splice(0)},add:function(c,p){var q,h,n=this;if(c){if("string"===typeof c){h=c;c=n[h];if("object"===typeof c)return n.indexOf(c);c=f("<img />").addClass("mapster_el").hide();q=n._add(c[0]);c.bind("load",function(c){n.imageLoaded.call(n,c)}).bind("error",function(c){n.imageLoadError.call(n,c)});c.attr("src",h)}else q=n._add(f(c)[0]);if(p){if(this[p])throw p+" is already used or is not available as an altImage alias.";n.ids.push(p);
n[p]=n[q]}return q}},bind:function(){var c=this,f,q=c.owner.options.configTimeout/200,h=function(){var f;for(f=c.length;0<f--&&c.isLoaded(f););c.complete()?c.resolve():0<q--?c.imgTimeout=window.setTimeout(function(){h.call(c,!0)},50):c.imageLoadError.call(c)};f=c.deferred=w.defer();h();return f},resolve:function(){var c=this.deferred;c&&(this.deferred=null,c.resolve())},imageLoaded:function(c){c=this.indexOf(c.target);0<=c&&(this.status[c]=!0,0>f.inArray(!1,this.status)&&this.resolve())},imageLoadError:function(c){clearTimeout(this.imgTimeout);
this.triesLeft=0;throw c?"The image "+c.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load.";},isLoaded:function(c){var f,q=this.status;if(q[c])return!0;f=this[c];q[c]="undefined"!==typeof f.complete?f.complete:!!w.imgWidth(f);return q[c]}}})(jQuery);
(function(f){function A(c,f,y,h){h=h||q.when.defer();c.activeAreaEvent&&(window.clearTimeout(c.activeAreaEvent),c.activeAreaEvent=0);if(!(0>f))return y.owner.currentAction||f?c.activeAreaEvent=window.setTimeout(function(){A(c,0,y,h)},f||100):c.currentAreaId!==y.areaId&&0<=c.highlightId&&h.resolve(),h}var w=f.mapster,q=w.utils;w.MapData=function(c,p){var y=this;y.image=c;y.images=new w.MapImages(y);y.graphics=new w.Graphics(y);y.imgCssText=c.style.cssText||null;f.extend(y,{complete:!1,map:null,base_canvas:null,
overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null});y.configureOptions(p);y.mouseover=function(c){var n=y.getAllDataForArea(this),p=n.length?n[0]:null;p&&(!p.isNotRendered()&&!p.owner.currentAction)&&y.currentAreaId!==p.areaId&&(y.highlightId!==p.areaId&&(y.clearEffects(),p.highlight(),y.options.showToolTip&&f.each(n,function(c,f){f.effectiveOptions().toolTip&&f.showToolTip()})),y.currentAreaId=
p.areaId,f.isFunction(y.options.onMouseover)&&y.options.onMouseover.call(this,{e:c,options:p.effectiveOptions(),key:p.key,selected:p.isSelected()}))};y.mouseout=function(c){var n,p=y.getDataForArea(this),m=y.options;!(0>y.currentAreaId)&&p&&(n=y.getDataForArea(c.relatedTarget),n!==p&&(y.currentAreaId=-1,p.area=null,A(y,m.mouseoutDelay,p).then(y.clearEffects),f.isFunction(m.onMouseout)&&m.onMouseout.call(this,{e:c,options:m,key:p.key,selected:p.isSelected()})))};y.click=function(c){var n=function(s){var B;
k=(v=s.isSelectable()&&(s.isDeselectable()||!s.isSelected()))?!s.isSelected():s.isSelected();m=w.getBoundList(l,s.key);if(f.isFunction(l.onClick)&&(A=l.onClick.call(r,{e:c,listTarget:m,key:s.key,selected:k}),q.isBool(A))){if(!A)return!1;B=f(s.area).attr("href");if("#"!==B)return window.location.href=B,!1}v&&s.toggle();l.boundList&&0<l.boundList.length&&w.setBoundListProperties(l,m,s.isSelected());s=s.effectiveOptions();s.includeKeys&&(p=q.split(s.includeKeys),f.each(p,function(c,f){var h=y.getDataForKey(f.toString());
h.options.isMask||n(h)}))},p,m,k,v,A,r=this,B=y.getDataForArea(this),l=y.options;w.hasCanvas()||this.blur();c.preventDefault();l.clickNavigate&&B.href?window.location.href=B.href:B&&!B.owner.currentAction&&(l=y.options,n(B))};y.clearEffects=function(){var c=y.options;y.ensureNoHighlight();c.toolTipClose&&(0<=f.inArray("area-mouseout",c.toolTipClose)&&y.activeToolTip)&&y.clearToolTip()}};w.MapData.prototype={constructor:w.MapData,configureOptions:function(c){this.options=q.updateProps({},w.defaults,
c)},bindImages:function(){var c=this.images;2<c.length?c.splice(2):0===c.length&&(c.add(this.image),c.add(this.image.src));var c=this.options,p=this.images;w.hasCanvas()&&(f.each(c.altImages||{},function(c,f){p.add(f,c)}),f.each([c].concat(c.areas),function(c,h){f.each([h,h.render_highlight,h.render_select],function(c,f){if(f&&f.altImage)f.altImageId=p.add(f.altImage)})}));this.area_options=q.updateProps({},w.area_defaults,c);return this.images.bind()},isActive:function(){return!this.complete||this.currentAction},
state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},_idFromKey:function(c){return"string"===typeof c&&this._xref.hasOwnProperty(c)?this._xref[c]:-1},getSelected:function(){var c="";f.each(this.data,function(f,q){q.isSelected()&&(c+=(c?",":"")+this.key)});return c},getAllDataForArea:function(c,p){var y,h,n,w=f(c).filter("area").attr(this.options.mapKey);
if(w){n=[];w=q.split(w);for(y=0;y<(p||w.length);y++)h=this.data[this._idFromKey(w[y])],h.area=c.length?c[0]:c,n.push(h)}return n},getDataForArea:function(c){return(c=this.getAllDataForArea(c,1))?c[0]||null:null},getDataForKey:function(c){return this.data[this._idFromKey(c)]},getKeysForGroup:function(c){c=this.getDataForKey(c);return!c?"":c.isPrimary?c.key:this.getPrimaryKeysForMapAreas(c.areas()).join(",")},getPrimaryKeysForMapAreas:function(c){var p=[];f.each(c,function(c,h){0>f.inArray(h.keys[0],
p)&&p.push(h.keys[0])});return p},getData:function(c){return"string"===typeof c?this.getDataForKey(c):c&&c.mapster||q.isElement(c)?this.getDataForArea(c):null},ensureNoHighlight:function(){var c;0<=this.highlightId&&(this.graphics.clearHighlight(),c=this.data[this.highlightId],c.changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(c){this.highlightId=c},clearSelections:function(){f.each(this.data,function(c,f){f.selected&&f.deselect(!0)});this.removeSelectionFinish()},setAreaOptions:function(c){var f,
y,h,c=c||[];for(f=c.length-1;0<=f;f--)if(y=c[f])if(h=this.getDataForKey(y.key))q.updateProps(h.options,y),q.isBool(y.selected)&&(h.selected=y.selected)},drawSelections:function(c){for(var f=q.asArray(c),c=f.length-1;0<=c;c--)this.data[f[c]].drawSelection()},redrawSelections:function(){f.each(this.data,function(c,f){f.isSelectedOrStatic()&&f.drawSelection()})},initialize:function(){var c,p,y,h,n,A,m,k,v=this.options;if(!this.complete){A=f(this.image);(p=A.parent().attr("id"))&&12<=p.length&&"mapster_wrap"===
p.substring(0,12)?(h=A.parent(),h.attr("id",this.wrapId())):(h=f('<div id="'+this.wrapId()+'"></div>'),v.wrapClass&&(!0===v.wrapClass?h.addClass(A[0].className):h.addClass(v.wrapClass)));this.wrapper=h;this.scaleInfo=k=q.scaleMap(this.images[0],this.images[1],v.scaleMap);this.base_canvas=p=this.graphics.createVisibleCanvas(this);this.overlay_canvas=y=this.graphics.createVisibleCanvas(this);c=f(this.images[1]).addClass("mapster_el "+this.images[0].className).attr({id:null,usemap:null});n=q.size(this.images[0]);
n.complete&&c.css({width:n.width,height:n.height});this.buildDataset();c={display:"block",position:"relative",padding:0,width:k.width,height:k.height};v.wrapCss&&f.extend(c,v.wrapCss);A.parent()[0]!==this.wrapper[0]&&A.before(this.wrapper);h.css(c);f(this.images.slice(2)).hide();for(c=1;c<this.images.length;c++)h.append(this.images[c]);h.append(p).append(y).append(A.css(w.canvas_style));q.setOpacity(this.images[0],0);f(this.images[1]).show();q.setOpacity(this.images[1],1);v.isSelectable&&v.onGetList&&
(p=this.data.slice(0),v.sortList&&(m="desc"===v.sortList?function(c,f){return c===f?0:c>f?-1:1}:function(c,f){return c===f?0:c<f?-1:1},p.sort(function(c,f){c=c.value;f=f.value;return m(c,f)})),this.options.boundList=v.onGetList.call(this.image,p));this.complete=!0;this.processCommandQueue();v.onConfigured&&"function"===typeof v.onConfigured&&v.onConfigured.call(A,!0)}},buildDataset:function(c){function p(c,f){var h=new w.AreaData(l,c,f);h.areaId=l._xref[c]=l.data.push(h)-1;return h.areaId}var q,h,
n,A,m,k,v,H,r,B,l=this,s=l.options,M;l._xref={};l.data=[];c||(l.mapAreas=[]);if(M=!s.mapKey)s.mapKey="data-mapster-key";q=w.hasVml()?"area":M?"area[coords]":"area["+s.mapKey+"]";q=f(l.map).find(q).unbind(".mapster");for(H=0;H<q.length;H++)if(n=0,m=q[H],A=f(m),m.coords){M?(h=String(H),A.attr("data-mapster-key",h)):h=m.getAttribute(s.mapKey);c?(m=l.mapAreas[A.data("mapster")-1],m.configure(h)):(m=new w.MapArea(l,m,h),l.mapAreas.push(m));v=m.keys;for(h=v.length-1;0<=h;h--)k=v[h],s.mapValue&&(r=A.attr(s.mapValue)),
M?(n=p(l.data.length,r),B=l.data[n],B.key=k=n.toString()):(n=l._xref[k],0<=n?(B=l.data[n],r&&!l.data[n].value&&(B.value=r)):(n=p(k,r),B=l.data[n],B.isPrimary=0===h)),m.areaDataXref.push(n),B.areasXref.push(H);if((h=A.attr("href"))&&"#"!==h&&!B.href)B.href=h;m.nohref||(A.bind("click.mapster",l.click),w.isTouch||A.bind("mouseover.mapster",l.mouseover).bind("mouseout.mapster",l.mouseout).bind("mousedown.mapster",l.mousedown));A.data("mapster",H+1)}l.setAreaOptions(s.areas);l.redrawSelections()},processCommandQueue:function(){for(var c;!this.currentAction&&
this.commands.length;)c=this.commands[0],this.commands.splice(0,1),w.impl[c.command].apply(c.that,c.args)},clearEvents:function(){f(this.map).find("area").unbind(".mapster");f(this.images).unbind(".mapster")},_clearCanvases:function(c){c||f(this.base_canvas).remove();f(this.overlay_canvas).remove()},clearMapData:function(c){this._clearCanvases(c);f.each(this.data,function(c,f){f.reset()});this.data=null;c||(this.image.style.cssText=this.imgCssText,f(this.wrapper).before(this.image).remove());this.images.clear();
this.image=null;q.ifFunction(this.clearTooltip,this)},removeSelectionFinish:function(){var c=this.graphics;c.refreshSelections();c.clearHighlight()}}})(jQuery);
(function(f){var A=f.mapster,w=A.utils;A.AreaData=function(q,c,p){f.extend(this,{owner:q,key:c||"",isPrimary:!0,areaId:-1,href:"",value:p||"",options:{},selected:null,areasXref:[],area:null,optsCache:null})};A.AreaData.prototype={constuctor:A.AreaData,select:function(q){var c=this.owner;c.options.singleSelect&&c.clearSelections();this.isSelected()||(q&&(this.optsCache=f.extend(this.effectiveRenderOptions("select"),q,{altImageId:c.images.add(q.altImage)})),this.drawSelection(),this.selected=!0,this.changeState("select",
!0));c.options.singleSelect&&c.graphics.refreshSelections()},deselect:function(f){this.selected=!1;this.changeState("select",!1);this.optsCache=null;this.owner.graphics.removeSelections(this.areaId);f||this.owner.removeSelectionFinish()},toggle:function(f){this.isSelected()?this.deselect():this.select(f);return this.isSelected()},areas:function(){var f,c=[];for(f=0;f<this.areasXref.length;f++)c.push(this.owner.mapAreas[this.areasXref[f]]);return c},coords:function(q){var c=[];f.each(this.areas(),
function(f,y){c=c.concat(y.coords(q))});return c},reset:function(){f.each(this.areas(),function(f,c){c.reset()});this.areasXref=[];this.options=null},isSelectedOrStatic:function(){var f=this.effectiveOptions();return w.isBool(f.staticState)?f.staticState:this.isSelected()},isSelected:function(){return w.isBool(this.selected)?this.selected:w.isBool(this.owner.area_options.selected)?this.owner.area_options.selected:!1},isSelectable:function(){return w.isBool(this.effectiveOptions().staticState)?!1:
w.isBool(this.owner.options.staticState)?!1:w.boolOrDefault(this.effectiveOptions().isSelectable,!0)},isDeselectable:function(){return w.isBool(this.effectiveOptions().staticState)?!1:w.isBool(this.owner.options.staticState)?!1:w.boolOrDefault(this.effectiveOptions().isDeselectable,!0)},isNotRendered:function(){var q=f(this.area);return q.attr("nohref")||!q.attr("href")||this.effectiveOptions().isMask},effectiveOptions:function(f){f=w.updateProps({},this.owner.area_options,this.options,f||{},{id:this.areaId});
f.selected=this.isSelected();return f},effectiveRenderOptions:function(q,c){var p;p=this.optsCache;if(!p||"highlight"===q)p=this.effectiveOptions(c),p=w.updateProps({},p,p["render_"+q]),"highlight"!==q&&(this.optsCache=p);return f.extend({},p)},changeState:function(q,c){f.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:q,selected:c})},highlight:function(f){var c=this.owner;this.effectiveOptions().highlight&&c.graphics.addShapeGroup(this,
"highlight",f);c.setHighlightId(this.areaId);this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}};A.MapArea=function(q,c,p){if(q){var y=this;y.owner=q;y.area=c;y.areaDataXref=[];y.originalCoords=[];f.each(w.split(c.coords),function(c,f){y.originalCoords.push(parseFloat(f))});y.length=y.originalCoords.length;y.shape=c.shape.toLowerCase();y.nohref=c.nohref||!c.href;y.configure(p)}};A.MapArea.prototype={constructor:A.MapArea,configure:function(f){this.keys=
w.split(f)},reset:function(){this.area=null},coords:function(q){return f.map(this.originalCoords,function(c){return q?c:c+q})}}})(jQuery);
(function(f){var A=f.mapster.utils;A.areaCorners=function(w,q,c,p,y){var h,n,E,m,k,v,H,r,B,l;E=n=0;var s,M,N=[],w=w.length?w:[w],c=c?f(c):f(document.body),c=c.offset();s=c.left;M=c.top;q&&(c=f(q).offset(),n=c.left,E=c.top);for(q=0;q<w.length;q++)if(B=w[q],"AREA"===B.nodeName){q=A.split(B.coords,parseInt);switch(B.shape){case "circle":c=q[0];B=q[1];m=q[2];N=[];for(q=0;360>q;q+=20)k=q*Math.PI/180,N.push(c+m*Math.cos(k),B+m*Math.sin(k));break;case "rect":N.push(q[0],q[1],q[2],q[1],q[2],q[3],q[0],q[3]);
break;default:N=N.concat(q)}for(q=0;q<N.length;q+=2)N[q]=parseInt(N[q],10)+n,N[q+1]=parseInt(N[q+1],10)+E}else B=f(B),c=B.position(),N.push(c.left,c.top,c.left+B.width(),c.top,c.left+B.width(),c.top+B.height(),c.left,c.top+B.height());w=n=k=H=999999;E=m=v=r=-1;for(q=N.length-2;0<=q;q-=2)if(c=N[q],B=N[q+1],c<w&&(w=c,r=B),c>E&&(E=c,H=B),B<n&&(n=B,v=c),B>m)m=B,k=c;p&&y&&(h=!1,f.each([[v-p,n-y],[k,n-y],[w-p,r-y],[w-p,H],[E,r-y],[E,H],[v-p,m],[k,m]],function(c,f){if(!h&&f[0]>s&&f[1]>M){l=f;h=true;return false}}),
h||(l=[E,m]));return l}})(jQuery);
(function(f){var A=f.mapster,w=A.utils,q=A.MapArea.prototype;A.utils.getScaleInfo=function(c,f){var q;f?(q=c.width/f.width||c.height/f.height,0.98<q&&1.02>q&&(q=1)):(q=1,f=c);return{scale:1!==q,scalePct:q,realWidth:f.width,realHeight:f.height,width:c.width,height:c.height,ratio:c.width/c.height}};A.utils.scaleMap=function(c,f,q){c=w.size(c);f=w.size(f,!0);if(!f.complete())throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this.";c.complete()||
(c=f);return this.getScaleInfo(c,q?f:null)};A.MapData.prototype.resize=function(c,p,q,h){function n(c,h,k){A.hasCanvas()?(c.width=h,c.height=k):(f(c).width(h),f(c).height(k))}function E(){n(l.overlay_canvas,c,p);if(0<=B){var k=l.data[B];k.tempOptions={fade:!1};l.getDataForKey(k.key).highlight();k.tempOptions=null}n(l.base_canvas,c,p);l.redrawSelections();l.currentAction="";f.isFunction(h)&&h();l.processCommandQueue()}function m(){f(l.image).css(H);l.scaleInfo=w.getScaleInfo({width:c,height:p},{width:l.scaleInfo.realWidth,
height:l.scaleInfo.realHeight});f.each(l.data,function(c,h){f.each(h.areas(),function(c,f){f.resize()})})}var k,v,H,r,B,l=this,h=h||q;l.scaleInfo.width===c&&l.scaleInfo.height===p||((B=l.highlightId,c||(r=p/l.scaleInfo.realHeight,c=Math.round(l.scaleInfo.realWidth*r)),p||(r=c/l.scaleInfo.realWidth,p=Math.round(l.scaleInfo.realHeight*r)),H={width:String(c)+"px",height:String(p)+"px"},A.hasCanvas()||f(l.base_canvas).children().remove(),r=f(l.wrapper).find(".mapster_el").add(l.wrapper),q)?(v=[],l.currentAction=
"resizing",r.each(function(c,h){k=w.defer();v.push(k);f(h).animate(H,{duration:q,complete:k.resolve,easing:"linear"})}),k=w.defer(),v.push(k),w.when.all(v).then(E),m(),k.resolve()):(r.css(H),m(),E()))};A.MapArea=w.subclass(A.MapArea,function(){this.base.init();this.owner.scaleInfo.scale&&this.resize()});q.coords=function(c,f){var q,h=[],n=c||this.owner.scaleInfo.scalePct,w=f||0;if(1===n&&0===f)return this.originalCoords;for(q=0;q<this.length;q++)h.push(Math.round(this.originalCoords[q]*n)+w);return h};
q.resize=function(){this.area.coords=this.coords().join(",")};q.reset=function(){this.area.coords=this.coords(1).join(",")};A.impl.resize=function(c,f,q,h){return!c&&!f?!1:(new A.Method(this,function(){this.resize(c,f,q,h)},null,{name:"resize",args:arguments})).go()}})(jQuery);
(function(f){function A(c,n,p){n?(n="string"===typeof n?f(n):f(n).clone(),n.append(c)):n=f(c);n.css(f.extend(p||{},{display:"block",position:"absolute"})).hide();f("body").append(n);n.attr("data-opacity",n.css("opacity")).css("opacity",0);return n.show()}function w(c,n,p,m,k,q){p+=".mapster-tooltip";if(0<=f.inArray(n,c))return m.unbind(p).bind(p,function(c){if(!k||k.call(this,c))m.unbind(".mapster-tooltip"),q&&q.call(this)}),{object:m,event:p}}function q(c,f,p,m,k){k=k||{};f?(p=y.areaCorners(f,p,
m,c.outerWidth(!0),c.outerHeight(!0)),f=p[0],p=p[1]):(f=k.left,p=k.top);f+=k.offsetx||0;p+=k.offsety||0;k=k.fadeDuration;f={left:f+"px",top:p+"px"};p=c.attr("data-opacity")||0;m=c.css("z-index");if(0===parseInt(m,10)||"auto"===m)f["z-index"]=9999;c.css(f).addClass("mapster_tooltip");k&&0<k?y.fader(c[0],0,p,k):y.setOpacity(c[0],p);return c}function c(c){return c?"string"===typeof c||c.jquery?c:c.content:null}var p=f.mapster,y=p.utils;f.extend(p.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></dteniv>',
showToolTip:!1,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout"],onShowToolTip:null,onHideToolTip:null});f.extend(p.area_defaults,{toolTip:null,toolTipClose:null});p.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTipID=this.activeToolTip=null,y.ifFunction(this.options.onHideToolTip,this))};p.AreaData.prototype.showToolTip=function(c,n){var p,m,k,v,H,r={},B=this,l=B.owner,s=B.effectiveOptions(),n=n?f.extend({},n):{},c=c||
s.toolTip;m=n.closeEvents||s.toolTipClose||l.options.toolTipClose||"tooltip-click";H="undefined"!==typeof n.template?n.template:l.options.toolTipContainer;n.closeEvents="string"===typeof m?m=y.split(m):m;n.fadeDuration=n.fadeDuration||(l.options.toolTipFade?l.options.fadeDuration||s.fadeDuration:0);k=B.area?B.area:f.map(B.areas(),function(c){return c.area});if(l.activeToolTipID!==B.areaId)return l.clearToolTip(),l.activeToolTip=p=A(c,H,n.css),l.activeToolTipID=B.areaId,v=function(){l.clearToolTip()},
w(m,"area-click","click",f(l.map),null,v),w(m,"tooltip-click","click",p,null,v),w(m,"image-mouseout","mouseout",f(l.image),function(c){return c.relatedTarget&&"AREA"!==c.relatedTarget.nodeName&&c.relatedTarget!==B.area},v),q(p,k,l.image,n.container,H,n),y.ifFunction(l.options.onShowToolTip,B.area,{toolTip:p,options:r,areaOptions:s,key:B.key,selected:B.isSelected()}),p};p.impl.tooltip=function(h,n){return(new p.Method(this,function(){var p,m,k=this;h?(m=f(h),k.activeToolTipID!==m[0]&&(k.clearToolTip(),
k.activeToolTip=p=A(c(n),n.template||k.options.toolTipContainer,n.css),k.activeToolTipID=m[0],w(["tooltip-click"],"tooltip-click","click",p,null,function(){k.clearToolTip()}),k.activeToolTip=p=q(p,m,k.image,n.container,n))):k.clearToolTip()},function(){f.isPlainObject(h)&&!n&&(n=h);this.showToolTip(c(n),n)},{name:"tooltip",args:arguments,key:h})).go()}})(jQuery);
(function(f){var A={formatInvalidInputErrorMsg:function(c){return"Invalid input value '"+c+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},w=function(c,p){var q=this.element=f(c).hide(),h=f(c)[0].style.width,n=!1,w=this.element.parent();!0===w.hasClass("slider")?(n=!0,this.picker=w):this.picker=f('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle min-slider-handle"></div><div class="slider-handle max-slider-handle"></div></div><div id="tooltip" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div><div id="tooltip_min" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div><div id="tooltip_max" class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element);
if(this.id=this.element.data("slider-id")||p.id)this.picker[0].id=this.id;if("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)this.touchCapable=!0;w=this.element.data("slider-tooltip")||p.tooltip;this.tooltip=this.picker.find("#tooltip");this.tooltipInner=this.tooltip.find("div.tooltip-inner");this.tooltip_min=this.picker.find("#tooltip_min");this.tooltipInner_min=this.tooltip_min.find("div.tooltip-inner");this.tooltip_max=this.picker.find("#tooltip_max");this.tooltipInner_max=
this.tooltip_max.find("div.tooltip-inner");!0===n&&(this.picker.removeClass("slider-horizontal"),this.picker.removeClass("slider-vertical"),this.tooltip.removeClass("hide"),this.tooltip_min.removeClass("hide"),this.tooltip_max.removeClass("hide"));this.orientation=this.element.data("slider-orientation")||p.orientation;switch(this.orientation){case "vertical":this.picker.addClass("slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight";this.tooltip.addClass("right")[0].style.left=
"100%";this.tooltip_min.addClass("right")[0].style.left="100%";this.tooltip_max.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",h),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px",this.tooltip_min.addClass("top")[0].style.top=-this.tooltip_min.outerHeight()-14+"px",this.tooltip_max.addClass("top")[0].style.top=-this.tooltip_max.outerHeight()-
14+"px"}var m=this;f.each("min max step precision value reversed handle".split(" "),function(c,f){m[f]=typeof q.data("slider-"+f)!=="undefined"?q.data("slider-"+f):typeof p[f]!=="undefined"?p[f]:typeof q.prop(f)!=="undefined"?q.prop(f):0});this.value instanceof Array?n&&!this.range?this.value=this.value[0]:this.range=!0:this.range&&(this.value=[this.value,this.max]);this.selection=this.element.data("slider-selection")||p.selection;this.selectionEl=this.picker.find(".slider-selection");"none"===this.selection&&
this.selectionEl.addClass("hide");this.selectionElStyle=this.selectionEl[0].style;this.handle1=this.picker.find(".slider-handle:first");this.handle1Stype=this.handle1[0].style;this.handle2=this.picker.find(".slider-handle:last");this.handle2Stype=this.handle2[0].style;!0===n&&(this.handle1.removeClass("round triangle"),this.handle2.removeClass("round triangle hide"));-1!==["round","triangle","custom"].indexOf(this.handle)&&(this.handle1.addClass(this.handle),this.handle2.addClass(this.handle));this.offset=
this.picker.offset();this.size=this.picker[0][this.sizePos];this.formater=p.formater;this.tooltip_separator=p.tooltip_separator;this.tooltip_split=p.tooltip_split;this.setValue(this.value);this.handle1.on({keydown:f.proxy(this.keydown,this,0)});this.handle2.on({keydown:f.proxy(this.keydown,this,1)});if(this.touchCapable)this.picker.on({touchstart:f.proxy(this.mousedown,this)});this.picker.on({mousedown:f.proxy(this.mousedown,this)});"hide"===w?(this.tooltip.addClass("hide"),this.tooltip_min.addClass("hide"),
this.tooltip_max.addClass("hide")):"always"===w?(this.showTooltip(),this.alwaysShowTooltip=!0):(this.picker.on({mouseenter:f.proxy(this.showTooltip,this),mouseleave:f.proxy(this.hideTooltip,this)}),this.handle1.on({focus:f.proxy(this.showTooltip,this),blur:f.proxy(this.hideTooltip,this)}),this.handle2.on({focus:f.proxy(this.showTooltip,this),blur:f.proxy(this.hideTooltip,this)}));(this.enabled=p.enabled&&(void 0===this.element.data("slider-enabled")||!0===this.element.data("slider-enabled")))?this.enable():
this.disable();this.natural_arrow_keys=this.element.data("slider-natural_arrow_keys")||p.natural_arrow_keys};w.prototype={constructor:w,over:!1,inDrag:!1,showTooltip:function(){!1===this.tooltip_split?this.tooltip.addClass("in"):(this.tooltip_min.addClass("in"),this.tooltip_max.addClass("in"));this.over=!0},hideTooltip:function(){!1===this.inDrag&&!0!==this.alwaysShowTooltip&&(this.tooltip.removeClass("in"),this.tooltip_min.removeClass("in"),this.tooltip_max.removeClass("in"));this.over=!1},layout:function(){var c;
c=this.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]];this.handle1Stype[this.stylePos]=c[0]+"%";this.handle2Stype[this.stylePos]=c[1]+"%";if("vertical"===this.orientation)this.selectionElStyle.top=Math.min(c[0],c[1])+"%",this.selectionElStyle.height=Math.abs(c[0]-c[1])+"%";else{this.selectionElStyle.left=Math.min(c[0],c[1])+"%";this.selectionElStyle.width=Math.abs(c[0]-c[1])+"%";var f=this.tooltip_min[0].getBoundingClientRect(),q=this.tooltip_max[0].getBoundingClientRect();
f.right>q.left?(this.tooltip_max.removeClass("top"),this.tooltip_max.addClass("bottom")[0].style.top="18px"):(this.tooltip_max.removeClass("bottom"),this.tooltip_max.addClass("top")[0].style.top="-30px")}this.range?(this.tooltipInner.text(this.formater(this.value[0])+this.tooltip_separator+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=(c[1]+c[0])/2+"%","vertical"===this.orientation?this.tooltip.css("margin-top",-this.tooltip.outerHeight()/2+"px"):this.tooltip.css("margin-left",
-this.tooltip.outerWidth()/2+"px"),"vertical"===this.orientation?this.tooltip.css("margin-top",-this.tooltip.outerHeight()/2+"px"):this.tooltip.css("margin-left",-this.tooltip.outerWidth()/2+"px"),this.tooltipInner_min.text(this.formater(this.value[0])),this.tooltipInner_max.text(this.formater(this.value[1])),this.tooltip_min[0].style[this.stylePos]=c[0]+"%","vertical"===this.orientation?this.tooltip_min.css("margin-top",-this.tooltip_min.outerHeight()/2+"px"):this.tooltip_min.css("margin-left",-this.tooltip_min.outerWidth()/
2+"px"),this.tooltip_max[0].style[this.stylePos]=c[1]+"%","vertical"===this.orientation?this.tooltip_max.css("margin-top",-this.tooltip_max.outerHeight()/2+"px"):this.tooltip_max.css("margin-left",-this.tooltip_max.outerWidth()/2+"px")):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=c[0]+"%","vertical"===this.orientation?this.tooltip.css("margin-top",-this.tooltip.outerHeight()/2+"px"):this.tooltip.css("margin-left",-this.tooltip.outerWidth()/2+"px"))},
mousedown:function(c){if(!this.isEnabled())return!1;this.touchCapable&&"touchstart"===c.type&&(c=c.originalEvent);this.triggerFocusOnHandle();this.offset=this.picker.offset();this.size=this.picker[0][this.sizePos];c=this.getPercentage(c);if(this.range){var p=Math.abs(this.percentage[0]-c),q=Math.abs(this.percentage[1]-c);this.dragged=p<q?0:1}else this.dragged=0;this.percentage[this.dragged]=this.reversed?100-c:c;this.layout();if(this.touchCapable)f(document).on({touchmove:f.proxy(this.mousemove,this),
touchend:f.proxy(this.mouseup,this)});f(document).on({mousemove:f.proxy(this.mousemove,this),mouseup:f.proxy(this.mouseup,this)});this.inDrag=!0;c=this.calculateValue();this.element.trigger({type:"slideStart",value:c}).data("value",c).prop("value",c);this.setValue(c);return!0},triggerFocusOnHandle:function(c){0===c&&this.handle1.focus();1===c&&this.handle2.focus()},keydown:function(c,f){if(!this.isEnabled())return!1;var q;switch(f.which){case 37:case 40:q=-1;break;case 39:case 38:q=1}if(q){if(this.natural_arrow_keys&&
("vertical"===this.orientation&&!this.reversed||"horizontal"===this.orientation&&this.reversed))q*=-1;q=this.percentage[c]+q*this.percentage[2];100<q?q=100:0>q&&(q=0);this.dragged=c;this.adjustPercentageForRangeSliders(q);this.percentage[this.dragged]=q;this.layout();q=this.calculateValue();this.element.trigger({type:"slideStart",value:q}).data("value",q).prop("value",q);this.setValue(q,!0);this.element.trigger({type:"slideStop",value:q}).data("value",q).prop("value",q);return!1}},mousemove:function(c){if(!this.isEnabled())return!1;
this.touchCapable&&"touchmove"===c.type&&(c=c.originalEvent);c=this.getPercentage(c);this.adjustPercentageForRangeSliders(c);this.percentage[this.dragged]=this.reversed?100-c:c;this.layout();c=this.calculateValue();this.setValue(c,!0);return!1},adjustPercentageForRangeSliders:function(c){this.range&&(0===this.dragged&&this.percentage[1]<c?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>c&&(this.percentage[1]=this.percentage[0],this.dragged=0))},mouseup:function(){if(!this.isEnabled())return!1;
this.touchCapable&&f(document).off({touchmove:this.mousemove,touchend:this.mouseup});f(document).off({mousemove:this.mousemove,mouseup:this.mouseup});this.inDrag=!1;!1===this.over&&this.hideTooltip();var c=this.calculateValue();this.layout();this.element.data("value",c).prop("value",c).trigger({type:"slideStop",value:c});return!1},calculateValue:function(){var c;this.range?(c=[this.min,this.max],0!==this.percentage[0]&&(c[0]=Math.max(this.min,this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*
this.step),c[0]=this.applyPrecision(c[0])),100!==this.percentage[1]&&(c[1]=Math.min(this.max,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step),c[1]=this.applyPrecision(c[1])),this.value=c):(c=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,c<this.min?c=this.min:c>this.max&&(c=this.max),c=parseFloat(c),c=this.applyPrecision(c),this.value=[c,this.value[1]]);return c},applyPrecision:function(c){var f=this.precision||this.getNumDigitsAfterDecimalPlace(this.step);
return this.applyToFixedAndParseFloat(c,f)},getNumDigitsAfterDecimalPlace:function(c){c=(""+c).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return!c?0:Math.max(0,(c[1]?c[1].length:0)-(c[2]?+c[2]:0))},applyToFixedAndParseFloat:function(c,f){var q=c.toFixed(f);return parseFloat(q)},getPercentage:function(c){if(this.touchCapable&&("touchstart"===c.type||"touchmove"===c.type))c=c.touches[0];c=100*(c[this.mousePos]-this.offset[this.stylePos])/this.size;c=Math.round(c/this.percentage[2])*this.percentage[2];
return Math.max(0,Math.min(100,c))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(c,f){c||(c=0);this.value=this.validateInputValue(c);this.range?(this.value[0]=this.applyPrecision(this.value[0]),this.value[1]=this.applyPrecision(this.value[1]),this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=this.applyPrecision(this.value),this.value=[Math.max(this.min,Math.min(this.max,
this.value))],this.handle2.addClass("hide"),this.value[1]="after"===this.selection?this.max:this.min);this.diff=this.max-this.min;this.percentage=0<this.diff?[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff]:[0,0,100];this.layout();if(!0===f){var q=this.range?this.value:this.value[0];this.element.trigger({type:"slide",value:q}).data("value",q).prop("value",q)}},validateInputValue:function(c){if("number"===typeof c)return c;if(c instanceof Array)return f.each(c,
function(c,f){if("number"!==typeof f)throw Error(A.formatInvalidInputErrorMsg(f));}),c;throw Error(A.formatInvalidInputErrorMsg(c));},destroy:function(){this.handle1.off();this.handle2.off();this.element.off().show().insertBefore(this.picker);this.picker.off().remove();f(this.element).removeData("slider")},disable:function(){this.enabled=!1;this.handle1.removeAttr("tabindex");this.handle2.removeAttr("tabindex");this.picker.addClass("slider-disabled");this.element.trigger("slideDisabled")},enable:function(){this.enabled=
!0;this.handle1.attr("tabindex",0);this.handle2.attr("tabindex",0);this.picker.removeClass("slider-disabled");this.element.trigger("slideEnabled")},toggle:function(){this.enabled?this.disable():this.enable()},isEnabled:function(){return this.enabled},setAttribute:function(c,f){this[c]=f},getAttribute:function(c){return this[c]}};var q={getValue:w.prototype.getValue,setValue:w.prototype.setValue,setAttribute:w.prototype.setAttribute,getAttribute:w.prototype.getAttribute,destroy:w.prototype.destroy,
disable:w.prototype.disable,enable:w.prototype.enable,toggle:w.prototype.toggle,isEnabled:w.prototype.isEnabled};f.fn.slider=function(c){if("string"===typeof c&&"refresh"!==c){var p=Array.prototype.slice.call(arguments,1),y;y=c;if(q[y]){var h=f(this).data("slider");if(!(h&&h instanceof w))throw Error(A.callingContextNotSliderInstance);y=q[y].apply(h,p);y="undefined"===typeof y?f(this):y}else throw Error("method '"+y+"()' does not exist for slider.");return y}var n=c;y=f(this);y.each(function(){var c=
f(this),h=c.data("slider"),k="object"===typeof n&&n;h&&!k&&(k={},f.each(f.fn.slider.defaults,function(c){k[c]=h[c]}));c.data("slider",new w(this,f.extend({},f.fn.slider.defaults,k)))});return y};f.fn.slider.defaults={min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_separator:":",tooltip_split:!1,natural_arrow_keys:!1,handle:"round",reversed:!1,enabled:!0,formater:function(c){return c}};f.fn.slider.Constructor=w})(window.jQuery);